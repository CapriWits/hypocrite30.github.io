<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Algorithm</title>
    <url>/2021/03/27/Algorithm/Algorithm/</url>
    <content><![CDATA[<h1 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h1><p> ğŸ“• JianShuï¼š<a href="https://www.jianshu.com/u/fc4ebe02fff2">https://www.jianshu.com/u/fc4ebe02fff2</a> æœ‰å¸¸è§ç®—æ³•çš„é¢˜è§£</p>
<p>ğŸ’» GitHubï¼š<a href="https://github.com/hypocrite30/LeetCode">https://github.com/hypocrite30/LeetCode</a> ä»£ç ä»“åº“</p>
<p><strong>æ¬¢è¿å…³æ³¨ï¼Œäº¤æµå­¦ä¹ ã€‚</strong></p>
]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
  </entry>
  <entry>
    <title>Java For-loop&amp; For-each &amp; Iterator æ•ˆç‡åˆ†æ</title>
    <url>/2021/03/16/JavaSE/Java%20For-loop&amp;%20For-each%20&amp;%20Iterator%20%E6%95%88%E7%8E%87%E5%88%86%E6%9E%90/</url>
    <content><![CDATA[<ul>
<li><p><code>public static native long nanoTime();</code>  æ¥æµ‹è¯•æ—¶é—´ï¼Œä¸»ç¨‹åºå¤–å›´è·å–å½“å‰æ—¶é—´ï¼Œç„¶åä½œå·®å¾—åˆ°è¿è¡Œæ—¶é—´ã€‚</p>
</li>
<li><p>ç¨‹åºä¸­åŒæ—¶æµ‹è¯• <code>ArrayList</code>å’Œ <code>LinkedList</code>ä¸¤ç§å®ç°æ–¹å¼çš„éå†æ•ˆç‡ï¼Œä»£è¡¨äº†æ•°ç»„å’Œé“¾è¡¨ä¸¤ç§æ•°æ®ç»“æ„ã€‚</p>
</li>
<li><p>æˆå‘˜å˜é‡ <code>public static final int MAGNITUDE = 10000;</code>ç”¨æ¥æ§åˆ¶æ•°æ®çš„ <code>æ•°é‡çº§</code>ã€‚</p>
</li>
<li><p>åˆå§‹åŒ–å£°æ˜ä¸¤ç§ <code>List&lt;String&gt;</code>ï¼Œå¹¶é€’å¢å˜é‡è‡³æ•°é‡çº§å¤§å°ï¼Œè¿‡ç¨‹ä¸­è½¬åŒ–ä¸º String å­˜å‚¨åˆ°é›†åˆå½“ä¸­ï¼Œä½œä¸ºå®éªŒæ•°æ®ã€‚</p>
</li>
<li><p>æµ‹è¯•çš„è¿è¡Œç¨‹åºé€»è¾‘æ˜¯ï¼šå°†é›†åˆä¸­çš„æ•°æ®å–å‡ºæ¥ï¼Œå¹¶èµ‹å€¼ç»™å¦ä¸€ä¸ªå…ƒç´  <code>str</code>ã€‚ä½†æ˜¯è¿™é‡Œå­˜åœ¨æ—¶é—´å¤æ‚åº¦çš„åŒºåˆ«ï¼Œ <code>ArrayList</code>ä¸­çš„ <code>get(int index)</code>åœ¨æ•°ç»„å®ç°ä¸Š æ—¶é—´å¤æ‚åº¦æ˜¯å¸¸æ•°çº§içš„ <code>O(1)</code>ï¼Œè€Œ <code>LinkedList</code>ä¸­çš„ <code>get(int index)</code>åœ¨é“¾è¡¨å®ç°ä¸Š æ—¶é—´å¤æ‚åº¦æ˜¯çº¿æ€§ <code>O(n)</code>ï¼Œä½†æ˜¯æµ‹è¯•çš„ <code>ArrayList</code>å’Œ <code>LinkedList</code>çš„æ—¶é—´æ¯”è¾ƒæ˜¯<code>åŒæ•°æ®ç»“æ„</code>ä¹‹é—´æ¯”è¾ƒï¼Œç¬¦åˆæ§åˆ¶å˜é‡æ³•ï¼Œæ‰€ä»¥ä¸éœ€è¦ç»“æœä¸Šçš„ æ•°å€¼ï¼Œè€Œå…³æ³¨ è¿è¡Œæ—¶é—´çš„ <code>æ—¶é—´æ•°é‡çº§</code>ï¼Œè¿™æ ·æ¯”è¾ƒæ‰æœ‰æ„ä¹‰ã€‚</p>
</li>
</ul>
<h2 id="æµ‹è¯•ä»£ç ï¼š"><a href="#æµ‹è¯•ä»£ç ï¼š" class="headerlink" title="æµ‹è¯•ä»£ç ï¼š"></a>æµ‹è¯•ä»£ç ï¼š</h2><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> MAGNITUDE = <span class="hljs-number">10000</span>;    <span class="hljs-comment">// æ•°é‡çº§</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">long</span> <span class="hljs-title">testForloop</span><span class="hljs-params">(List&lt;String&gt; list)</span> </span>&#123;<br>        <span class="hljs-keyword">long</span> start, end;<br>        String str = <span class="hljs-keyword">null</span>;<br>        start = System.nanoTime();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; MAGNITUDE; i++) &#123;<br>            str = list.get(i);<br>        &#125;<br>        end = System.nanoTime();<br>        <span class="hljs-keyword">return</span> end - start;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">long</span> <span class="hljs-title">testForeach</span><span class="hljs-params">(List&lt;String&gt; list)</span> </span>&#123;<br>        <span class="hljs-keyword">long</span> start, end;<br>        String str = <span class="hljs-keyword">null</span>;<br>        start = System.nanoTime();<br>        <span class="hljs-keyword">for</span> (String s : list) &#123;<br>            str = s;<br>        &#125;<br>        end = System.nanoTime();<br>        <span class="hljs-keyword">return</span> end - start;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">long</span> <span class="hljs-title">testIterator</span><span class="hljs-params">(List&lt;String&gt; list)</span> </span>&#123;<br>        <span class="hljs-keyword">long</span> start, end;<br>        String str = <span class="hljs-keyword">null</span>;<br>        start = System.nanoTime();<br>        Iterator&lt;String&gt; iterator = list.iterator();<br>        <span class="hljs-keyword">while</span> (iterator.hasNext()) &#123;<br>            str = iterator.next();<br>        &#125;<br>        end = System.nanoTime();<br>        <span class="hljs-keyword">return</span> end - start;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-comment">/* initialize */</span><br>        List&lt;String&gt; arrayList = <span class="hljs-keyword">new</span> ArrayList&lt;String&gt;();<br>        List&lt;String&gt; linkedList = <span class="hljs-keyword">new</span> LinkedList&lt;String&gt;();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; MAGNITUDE; i++) &#123;<br>            arrayList.add(String.valueOf(i));<br>            linkedList.add(String.valueOf(i));<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;========Test for ArrayList========&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;For loop: &quot;</span> + testForloop(arrayList));<br>        System.out.println(<span class="hljs-string">&quot;Foreach: &quot;</span> + testForeach(arrayList));<br>        System.out.println(<span class="hljs-string">&quot;Iterator: &quot;</span> + testIterator(arrayList));<br><br>        System.out.println(<span class="hljs-string">&quot;========Test for LinkedList========&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;For loop: &quot;</span> + testForloop(linkedList));<br>        System.out.println(<span class="hljs-string">&quot;Foreach: &quot;</span> + testForeach(linkedList));<br>        System.out.println(<span class="hljs-string">&quot;Iterator: &quot;</span> + testIterator(linkedList));<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>


<h2 id="å®éªŒç»“æœ"><a href="#å®éªŒç»“æœ" class="headerlink" title="å®éªŒç»“æœ"></a>å®éªŒç»“æœ</h2><ul>
<li>å¦‚ä¸Šæ–‡åˆ†æï¼š<code>åŒæ•°æ®ç»“æ„</code> æ¯”è¾ƒåŸåˆ™ã€‚</li>
</ul>
<h3 id="æ•°é‡çº§ï¼š1-000"><a href="#æ•°é‡çº§ï¼š1-000" class="headerlink" title="æ•°é‡çº§ï¼š1,000"></a>æ•°é‡çº§ï¼š1,000</h3><blockquote>
<p>========Test for ArrayList========<br>For loop: 99000<br>Foreach: 321700<br>Iterator: 194500<br>========Test for LinkedList========<br>For loop: 1215800<br>Foreach: 341500<br>Iterator: 94900</p>
</blockquote>
<h3 id="æ•°é‡çº§ï¼š10-000"><a href="#æ•°é‡çº§ï¼š10-000" class="headerlink" title="æ•°é‡çº§ï¼š10,000"></a>æ•°é‡çº§ï¼š10,000</h3><blockquote>
<p>========Test for ArrayList========<br>For loop: 933200<br>Foreach: 942500<br>Iterator: 585800<br>========Test for LinkedList========<br>For loop: 129958500<br>Foreach: 1433000<br>Iterator: 967600</p>
</blockquote>
<h3 id="æ•°é‡çº§ï¼š100-000"><a href="#æ•°é‡çº§ï¼š100-000" class="headerlink" title="æ•°é‡çº§ï¼š100,000"></a>æ•°é‡çº§ï¼š100,000</h3><blockquote>
<p>========Test for ArrayList========<br>For loop: 3730800<br>Foreach: 6669800<br>Iterator: 5215100<br>========Test for LinkedList========<br>For loop: 18907275800<br>Foreach: 7468100<br>Iterator: 5632400</p>
</blockquote>
<ul>
<li><code>ArrayList</code>ï¼šåœ¨å°æ•°é‡çº§ä¸Šï¼ŒFor-loopæ•ˆç‡ä¼šé«˜ä¸€ç‚¹ï¼ŒFor &lt; Iterator &lt; For-eachï¼Œè¿™é‡Œå¾—å‡ºçš„ç»“è®ºæ ¹æ®æ—¶é—´æ¶ˆè€—å¾—å‡ºï¼Œæ— æ³•ä»”ç»†æ¯”è¾ƒæ•ˆç‡é«˜ä½ï¼Œæ•°é‡çº§å°æ—¶ï¼ŒForæ•ˆç‡é«˜ä¸€ç‚¹ï¼Œæ•´ä½“æ¥è¯´ï¼Œä¸‰è€…é€Ÿåº¦çº§åˆ«å·®ä¸å¤šã€‚</li>
<li><code>LinkedList</code>ï¼šé“¾è¡¨ä¸­å¾ˆæ˜æ˜¾ For loop æ•ˆç‡å°±ä½å¾ˆå¤šäº†ã€‚For-eachå’ŒIteratorç›¸å·®ä¸å¤§ã€‚æ•°é‡å¤§ï¼ˆä¸€èˆ¬è¶…è¿‡ 100,000çº§åˆ«ï¼‰æ•ˆæœæ›´æ˜æ˜¾ã€‚Iterator &lt; For-each &lt; &lt;&lt;For-loopã€‚Iteratorå’ŒFor-eachæ•ˆç‡åœ¨é“¾è¡¨ä¸­å·®ä¸å¤šï¼ŒForå·®ä¸€äº›å°±æ˜¯äº†ã€‚</li>
</ul>
<h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><ul>
<li><p> For-each å’Œ Iterator åŸºæœ¬éƒ½åœ¨ä¸€ä¸ªæ•°é‡çº§ä¸Šï¼Œè¿™å¯èƒ½ä¸ For-each å°±æ˜¯åŸºäº Iterator å®ç°çš„ï¼Œè‡³äº For-each ä¼šç¨å¾®æ…¢ä¸€ç‚¹ï¼Œå¯èƒ½æ˜¯ For-each éšå¼è½¬æ¢ Iterator è€—è´¹å¤šä½™æ—¶é—´ï¼Œ</p>
</li>
<li><p><code>ArrayList</code>åŸºäºæ•°ç»„ï¼Œindexéƒ½æ˜¯ç¡®å®šçš„ï¼Œåœ¨æŸ¥æ”¹åé¢æ•ˆç‡ä¼šé«˜ä¸€ç‚¹ï¼Œè‡ªç„¶å¸¦ç€ä¸‹è¡¨çš„ For æ•ˆç‡ä¼šé«˜å¾ˆå¤šã€‚<code>LinkedList</code>åŸºäºé“¾è¡¨ï¼ŒæŸ¥æ”¹å¼€é”€ä¼šæ¯”è¾ƒå¤§ï¼Œä½†å®ƒæ˜¯<code>åŒå‘å¾ªç¯å¸¦å¤´èŠ‚ç‚¹çš„é“¾è¡¨</code>ï¼Œå¢åˆ ä¼šæ¯”æ•°ç»„å¿«ï¼Œè¿™ä¸¤ç§æ•°æ®ç»“æ„çš„æ¯”è¾ƒå·®åˆ«å°±åœ¨è¿™ï¼Œå®é™…ä¸­è¿˜æ˜¯è¦çœ‹åœ¨å“ªæ–¹é¢çš„åº”ç”¨æ¥ç¡®å®šã€‚</p>
</li>
</ul>
<h2 id="å·¥ç¨‹ä¸­ä¸‰ç§å¾ªç¯çš„ä½¿ç”¨å»ºè®®ã€‚"><a href="#å·¥ç¨‹ä¸­ä¸‰ç§å¾ªç¯çš„ä½¿ç”¨å»ºè®®ã€‚" class="headerlink" title="å·¥ç¨‹ä¸­ä¸‰ç§å¾ªç¯çš„ä½¿ç”¨å»ºè®®ã€‚"></a>å·¥ç¨‹ä¸­ä¸‰ç§å¾ªç¯çš„ä½¿ç”¨å»ºè®®ã€‚</h2><ul>
<li><code>ã€ŠEffective Javaã€‹ç¬¬ä¸‰ç‰ˆç¬¬58æ¡</code>ä¸­å»ºè®®ï¼Œä¸€èˆ¬é‡‡ç”¨ Foreach è¿›è¡Œå¾ªç¯ï¼Œå› ä¸ºå®ƒåœ¨ <code>ç®€æ´æ€§</code>å’Œ <code>é¢„é˜²Bug</code>ä¸Šä¼˜äºFor-loop å’Œ Iteratorï¼ˆç¡®åˆ‡è¯´æ˜¯ Iterator é…åˆ while ä½¿ç”¨ï¼‰</li>
</ul>
<p><code>ç®€æ´æ€§</code>å°±ä¸éœ€è¦å¤šé˜è¿°äº†ï¼Œå…‰çœ‹ä»£ç é‡å’Œå¯è¯»æ€§ï¼Œå°±çŸ¥é“ For-each çš„<code>ç®€æ´æ€§</code>ç‰¹ç‚¹ã€‚</p>
<h4 id="For-each-ä¼˜åŠ¿äº-while-loop"><a href="#For-each-ä¼˜åŠ¿äº-while-loop" class="headerlink" title="For-each ä¼˜åŠ¿äº while-loop"></a>For-each ä¼˜åŠ¿äº while-loop</h4><hr>
<h5 id="é¢„é˜²Bug"><a href="#é¢„é˜²Bug" class="headerlink" title="é¢„é˜²Bug"></a>é¢„é˜²Bug</h5><ul>
<li>è¯´åˆ°é¢„é˜²Bugï¼Œè¿™é‡Œç‰µæ¶‰åˆ° ç¬¬57æ¡ ä¸­çš„ <code>å°†å±€éƒ¨å˜é‡çš„ä½œç”¨åŸŸæœ€å°åŒ–</code>ã€‚</li>
</ul>
<h5 id="ä¸ºä»€ä¹ˆè¦â€œå°†å±€éƒ¨å˜é‡çš„ä½œç”¨åŸŸæœ€å°åŒ–â€"><a href="#ä¸ºä»€ä¹ˆè¦â€œå°†å±€éƒ¨å˜é‡çš„ä½œç”¨åŸŸæœ€å°åŒ–â€" class="headerlink" title="ä¸ºä»€ä¹ˆè¦â€œå°†å±€éƒ¨å˜é‡çš„ä½œç”¨åŸŸæœ€å°åŒ–â€"></a>ä¸ºä»€ä¹ˆè¦â€œå°†å±€éƒ¨å˜é‡çš„ä½œç”¨åŸŸæœ€å°åŒ–â€</h5><p>ä¹¦ä¸­æåˆ°ï¼ŒåŸå› ç±»ä¼¼äº ç¬¬15æ¡çš„æœ¬è´¨ï¼Œ<code>ä½¿ç±»å’Œæˆå‘˜çš„å¯è®¿é—®æ€§æœ€å°åŒ–</code>ã€‚å°†å±€éƒ¨å˜é‡ä½œç”¨åŸŸæœ€å°åŒ–ï¼Œå¯ä»¥å¢å¼ºä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œå¹¶é™ä½å‡ºé”™çš„å¯èƒ½æ€§ã€‚</p>
<blockquote>
<p> å¾ªç¯ä¸­æä¾›äº†ç‰¹æ®Šçš„æœºä¼šæ¥å°†å˜é‡çš„ä½œç”¨åŸŸæœ€å°åŒ–ã€‚æ— è®ºæ˜¯ä¼ ç»Ÿçš„forå¾ªç¯ï¼Œè¿˜æ˜¯for-eachå½¢å¼çš„ for å¾ªç¯ï¼Œéƒ½å…è®¸å£°æ˜<strong>å¾ªç¯å˜é‡</strong>ï¼Œå®ƒä»¬çš„ä½œç”¨åŸŸè¢«é™å®š<strong>åœ¨æ­£å¥½éœ€è¦çš„èŒƒå›´</strong>ä¹‹å†…ã€‚å¦‚æœåœ¨å¾ªç¯ç»ˆæ­¢ä¹‹åä¸å†éœ€è¦å¾ªç¯å˜é‡çš„å†…å®¹ï¼Œfor-loopå°±ä¼˜å…ˆäº while loopã€‚</p>
</blockquote>
<ul>
<li>å¦‚ä¸‹æ˜¯ä¸€ç§éå†é›†åˆçš„é¦–é€‰åšæ³•ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">// Preferred idiom for iterating over a collection or array</span><br><span class="hljs-keyword">for</span> (Element e : c) &#123;<br>    ... <span class="hljs-comment">// Do Someting with e</span><br>&#125;<br></code></pre></div></td></tr></table></figure>
<ul>
<li>å¦‚æœéœ€è¦è®¿é—®è¿­ä»£å™¨ï¼Œå¯èƒ½è¦è°ƒç”¨å®ƒçš„ remove æ–¹æ³•ï¼Œé¦–é€‰åšæ³•æ˜¯åˆ©ç”¨ä¼ ç»Ÿçš„ for å¾ªç¯æ›¿ä»£ for-each å¾ªç¯ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">// Idiom for iterating when you need the iterator</span><br><span class="hljs-keyword">for</span> (Iterator&lt;Element&gt; i = c.iterator(); i.hasNext(); ) &#123;<br>    Element e = i.next();<br>    ... <span class="hljs-comment">// Do someting with e and i</span><br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>ä¸ºä»€ä¹ˆæœ‰äº›æ—¶å€™ä¸èƒ½ç”¨ for-each ï¼Œå®ƒçš„å®ç°è¿˜æ˜¯åŸºäº iterator çš„ <code>hasNext() + next()</code>ï¼Œä½†æ˜¯æœ‰æ—¶å€™éœ€è¦åœ¨å¾ªç¯è¿‡ç¨‹ä¸­å¯¹é›†åˆè¿›è¡Œæ“ä½œï¼Œæ­¤æ—¶å°±å¿…é¡»ä½¿ç”¨ iterator å¯¹è±¡è¿›è¡Œæ“ä½œäº†ï¼Œå› ä¸ºä½¿ç”¨ iterator å¾ªç¯æ—¶ï¼Œé›†åˆçš„æ“ä½œæƒå°±äº¤ç»™äº† iteratorï¼Œè™½ç„¶å¯ä»¥ç”¨é›†åˆå¯¹è±¡è¿›è¡Œæ“ä½œï¼Œå¦‚ <code>romove()</code>ä½†è¿™æ ·ä¼šç ´å iterator åˆå§‹åŒ–çš„ç»“æœï¼Œå¯¼è‡´æœ€ç»ˆç¨‹åºè¿è¡Œçš„ç»“æœä¸é¢„æœŸåå·®å¾ˆå¤§ï¼Œè¿™é‡Œå¼•ç”¨æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ï¼Œæœ‰ Java åœ¨ iterator ä¸­ remove() çš„ bugè¯¦è§£ã€‚</p>
<blockquote>
<p><a href="https://www.jianshu.com/p/642d6fd39013">https://www.jianshu.com/p/642d6fd39013</a></p>
</blockquote>
<ul>
<li>è‡³äºä¸ºä»€ä¹ˆ for loop è¦æ¯” while loop æ›´å¥½ï¼Œå‚è€ƒä¸€ä¸‹ä»£ç ç‰‡æ®µï¼Œè¿ç»­çš„ä¸¤ä¸ª whIle loopï¼Œä»¥åŠå‡ºç°çš„ä¸€ä¸ª bug</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">Iterator&lt;Element&gt; i = c.iterator();<br><span class="hljs-keyword">while</span> (i.hasNext()) &#123;<br>    doSometing(i.next());<br>&#125;<br>...<br>Iterator&lt;Element&gt; i2 = c.iterator();<br><span class="hljs-keyword">while</span> (i.hasNext()) &#123;   <span class="hljs-comment">// This is bug!</span><br>    doSometing(i2.next());<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>åœ¨ç¬¬äºŒä¸ª while loop ä¸­ï¼Œä½¿ç”¨äº† è¿­ä»£å™¨ <code>i</code> çš„åˆ¤æ–­ï¼Œå®é™…æ“ä½œçš„æ˜¯ <code>i2</code> éå†çš„å¯¹è±¡ï¼Œbug å°±åœ¨è¿™é‡Œï¼Œå®é™…å·¥ç¨‹ä¸­ï¼Œå› ä¸º   è¿­ä»£å™¨ <code>i</code>çš„äº§ç”Ÿæ˜¯åœ¨ while loop å¤–é¢çš„ï¼Œä½œç”¨äºåŒ…å«äº†æ•´æ®µç¨‹åºï¼ŒåŒ…æ‹¬ while loop ä½¿ç”¨ç»“æŸä¹‹åï¼ŒåŠ ä¸Šä¸­é—´æœ‰å…¶ä»–çš„é€»è¾‘ä»£ç ï¼Œéš¾å…ä¼šä¸å°å¿ƒä½¿ç”¨åˆ°ä¸Šé¢æ®‹ä½™çš„ è¿­ä»£å™¨<code>i</code>ï¼Œè¿™å°±é€ æˆå¾ˆä¸¥é‡çš„ bugï¼Œè€Œä¸ä¼šè½»æ˜“è¢«å‘ç°ï¼ŒIDEä¹Ÿä¸ä¼šæŠ¥é”™ã€‚ æ‰€ä»¥è¦åˆ©ç”¨å¥½ for loop å£°æ˜è¿­ä»£å™¨ï¼Œæ§åˆ¶å®ƒçš„ä½œç”¨èŒƒå›´ã€‚</p>
<p>ä¸Šé¢çš„bugç¨‹åºæœ€ç»ˆçš„ç»“æœæ˜¯ä¸‹é¢çš„ while loop ä¸ä¼šæ‰§è¡Œï¼Œå› ä¸ºåœ¨ä¸Šé¢çš„ while loop æ‰§è¡Œç»“æŸä¹‹åï¼Œè¿­ä»£å™¨ <code>i</code>å°±ä¼šéå†åˆ°å°½å¤´ï¼Œè¿™æ ·ç»§ç»­åˆ¤æ–­ <code>i.hasNext()</code>åªä¼šè¿”å› <code>false</code>ã€‚</p>
<h4 id="For-each-ä¼˜åŠ¿äº-For-loop"><a href="#For-each-ä¼˜åŠ¿äº-For-loop" class="headerlink" title="For-each ä¼˜åŠ¿äº For-loop"></a>For-each ä¼˜åŠ¿äº For-loop</h4><hr>
<ul>
<li>ä»¥ä¸‹é¢ä¸€ä¸ª ä¸¤å±‚é›†åˆåµŒå¥—è¿­ä»£å‡ºç°çš„ bug æ¥å±•å¼€è®¨è®º</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">// Can you spot the bug?</span><br><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Suit</span> </span>&#123;CLUB, DIAMOND, HEART, SPADE&#125;<br><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Rank</span> </span>&#123;<br>    ACE, DEUCE, THREE, FOUR, FIVE, SIX, SEVEN,<br>    EIGHT, NINE, TEN, JACK, QUEEN, KING<br>&#125;<br>...<br><span class="hljs-keyword">static</span> Collection&lt;Suit&gt; suits = Arrays.asList(Suit.values());<br><span class="hljs-keyword">static</span> Collection&lt;Rank&gt; ranks = Arrays.asList(Rank.values());<br><br>List&lt;Card&gt; deck = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br><span class="hljs-keyword">for</span> (Iterator&lt;Suit&gt; i = suits.iterator(); i.hasNext(); )<br>    <span class="hljs-keyword">for</span> (Iterator&lt;Rank&gt; j = ranks.iterator(); j.hasNext(); )<br>        deck.add(<span class="hljs-keyword">new</span> Card(i.next(), j.next()));<br>    <br></code></pre></div></td></tr></table></figure>
<p>è¿™é‡Œçš„bugæ¯”è¾ƒéš¾æ‰¾ï¼Œå¯èƒ½å¾ˆå¤šå¤§å¸ˆä¹Ÿä¼šçŠ¯è¿™ä¸ªé”™è¯¯ã€‚bugåœ¨äºï¼Œåœ¨è¿­ä»£å™¨ä¸Šå¯¹å¤–éƒ¨çš„é›†åˆ suits è°ƒç”¨å¤ªå¤š <code>next</code> æ–¹æ³•ï¼Œå®ƒåº”è¯¥ä»å¤–éƒ¨çš„å¾ªç¯è¿›è¡Œè°ƒç”¨ï¼Œä»¥ä¾¿æ¯ç§èŠ±è‰²éƒ½è°ƒç”¨ä¸€æ¬¡ï¼Œä½†å®ƒå´æ˜¯ä»å†…éƒ¨å¾ªç¯è°ƒç”¨ï¼Œå› æ­¤æ¯æ¬¡ç‰Œè°ƒç”¨ä¸€æ¬¡ã€‚åœ¨ç”¨å®Œæ‰€æœ‰èŠ±è‰²ä¹‹åï¼Œå¾ªç¯å°±ä¼šæŠ›å‡º <code>NoSuchElementException</code>å¼‚å¸¸ã€‚</p>
<p>å¦‚æœç¢°å·§å¤–éƒ¨é›†åˆçš„å¤§å°æ˜¯å†…éƒ¨é›†åˆå¤§å°çš„å‡ å€ï¼ˆå¯èƒ½å› ä¸ºå®ƒä»¬æ˜¯ç›¸åŒçš„é›†åˆï¼‰ï¼Œå¾ªç¯å°±ä¼šæ­£å¸¸ç»ˆæ­¢ï¼Œä½†æ˜¯å®é™…å®Œæˆæƒ…å†µè·Ÿé¢„æœŸæ˜¯æœ‰å‡ºå…¥çš„ã€‚</p>
<ul>
<li>ä¸‹é¢æ˜¯æ‰“å°ä¸€å¯¹éª°å­å‡ºç°çš„æ‰€æœ‰å¯èƒ½æƒ…å†µï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">// Same bug, different symptom!</span><br><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Face</span> </span>&#123;ONE, TWO, THREE, FOUR, FIVE, SIX&#125;<br>Collection&lt;Face&gt; faces = EnumSet.allOf(Face.class);<br><br><span class="hljs-keyword">for</span> (Iterator&lt;Face&gt; i = faces.iterator(); i.hasNext(); )<br>    <span class="hljs-keyword">for</span> (Iterator&lt;Face&gt; j = faces.iterator(); i.hasNext(); )<br>        System.out.println(i.next() + <span class="hljs-string">&quot; &quot;</span> + j.next());<br></code></pre></div></td></tr></table></figure>
<blockquote>
<p>ONE ONE<br>TWO TWO<br>THREE THREE<br>FOUR FOUR<br>FIVE FIVE<br>SIX SIX</p>
</blockquote>
<p>åŒæ ·çš„é”™è¯¯ï¼Œä¹Ÿæ˜¯é‡å¤è°ƒç”¨ <code>next</code>ã€‚è¿™ç§ç¨‹åºä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œæ‰€ä»¥å¾€å¾€æ‰¾bugä¼šç‰¹åˆ«éš¾å—ã€‚</p>
<ul>
<li>ä¸‹é¢å¼€å§‹ä¿®æ­£æ­¤ bug</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">// Fixed, but ugly - so we need for-each</span><br><span class="hljs-keyword">for</span> (Iterator&lt;Suit&gt; i = suits.iterator(); i.hasNext(); ) &#123;<br>    Suit suit = i.next();<br>    <span class="hljs-keyword">for</span> (Iterator&lt;Rank&gt; j = ranks.iterator(); j.hasNext(); )<br>        deck.add(<span class="hljs-keyword">new</span> Card(suit, j.next()));<br>&#125;<br></code></pre></div></td></tr></table></figure>
<ul>
<li>è‡³æ­¤å¼•å‡º for-each ï¼Œè®©è¿™ä¸ªé—®é¢˜å®Œå…¨æ¶ˆå¤±ï¼Œå¹¶ä¸”äº§ç”Ÿçš„ä»£ç ä¹Ÿèƒ½å¾ˆç®€æ´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">// Preferred idiom for neat iteration on collections and arrays</span><br><span class="hljs-keyword">for</span> (Suit suit : suits)<br>    <span class="hljs-keyword">for</span> (Rank rank : ranks)<br>        deck.add(<span class="hljs-keyword">new</span> Card(suit, rank));<br></code></pre></div></td></tr></table></figure>


<h4 id="For-each-æ— æ³•ä½¿ç”¨çš„åœ°æ–¹"><a href="#For-each-æ— æ³•ä½¿ç”¨çš„åœ°æ–¹" class="headerlink" title="For-each æ— æ³•ä½¿ç”¨çš„åœ°æ–¹"></a>For-each æ— æ³•ä½¿ç”¨çš„åœ°æ–¹</h4><hr>
<ul>
<li><code>è§£æ„è¿‡æ»¤</code>ï¼šå¦‚æœéœ€è¦éå†é›†åˆï¼Œå¹¶åˆ é™¤æŒ‡å®šå…ƒç´ ï¼Œéœ€è¦ä½¿ç”¨æ˜¾å¼çš„è¿­ä»£å™¨ï¼Œä»¥ä¾¿ä½¿ç”¨å®ƒçš„ remove æ–¹æ³•ã€‚ä½¿ç”¨ Java 8 ä¸­æ·»åŠ çš„ Collection çš„ <code>removeIf</code>ï¼Œå¸¸å¸¸å¯ä»¥é¿å…æ˜¾å¼éå†ã€‚</li>
<li><code>è½¬æ¢</code>ï¼šå¦‚æœéœ€è¦éå†åˆ—è¡¨æˆ–è€…æ•°ç»„ï¼Œå¹¶å–ä»£å®ƒçš„éƒ¨åˆ†æˆ–è€…å…¨éƒ¨å…ƒç´ å€¼ï¼Œå°±éœ€è¦åˆ—è¡¨è¿­ä»£å™¨æˆ–è€…æ•°ç»„ç´¢å¼•ï¼Œä»¥ä¾¿è®¾ç½®å…ƒç´ çš„å€¼ã€‚</li>
<li><code>å¹³è¡Œè¿­ä»£</code>ï¼šå¦‚æœéœ€è¦å¹¶è¡Œåœ°éå†å¤šä¸ªé›†åˆï¼Œå°±éœ€è¦æ˜¾å¼åœ°æ§åˆ¶è¿­ä»£å™¨æˆ–è€…ç´¢å¼•å˜é‡ï¼Œä»¥ä¾¿æ‰€æœ‰è¿­ä»£å™¨æˆ–è€…ç´¢å¼•å˜é‡éƒ½å¯ä»¥åŒæ­¥å‰è¿›ï¼ˆå°±å¦‚ä¸Šè¿°æœ‰é—®é¢˜çš„ç‰Œå’Œéª°å­çš„ç¤ºä¾‹ä¸­æ— æ„é—´æ‰€ç¤ºèŒƒçš„é‚£æ ·ï¼‰</li>
</ul>
<h4 id="For-each-æ‹“å±•ä½¿ç”¨"><a href="#For-each-æ‹“å±•ä½¿ç”¨" class="headerlink" title="For-each æ‹“å±•ä½¿ç”¨"></a>For-each æ‹“å±•ä½¿ç”¨</h4><ul>
<li>for-each ä¸æ­¢èƒ½éå†é›†åˆå’Œæ•°ç»„ï¼Œè¿˜èƒ½éå†å®ç° <code>Iterable</code>æ¥å£çš„ä»»ä½•å¯¹è±¡ï¼Œåªéœ€è¦å®ç°æ¥å£å¯¹åº”çš„æ–¹æ³•å³å¯ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Iterable</span>&lt;<span class="hljs-title">T</span>&gt; </span>&#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * Returns an iterator over elements of type &#123;<span class="hljs-doctag">@code</span> T&#125;.</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> an Iterator.</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-function">Iterator&lt;T&gt; <span class="hljs-title">iterator</span><span class="hljs-params">()</span></span>;<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">default</span> <span class="hljs-keyword">void</span> <span class="hljs-title">forEach</span><span class="hljs-params">(Consumer&lt;? <span class="hljs-keyword">super</span> T&gt; action)</span> </span>&#123;<br>        Objects.requireNonNull(action);<br>        <span class="hljs-keyword">for</span> (T t : <span class="hljs-keyword">this</span>) &#123;<br>            action.accept(t);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>


<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æ€»è€Œè¨€ä¹‹ï¼Œä¸ä¼ ç»Ÿçš„forå¾ªç¯ç›¸æ¯”ï¼Œfor-eachå¾ªç¯åœ¨ç®€æ´æ€§ã€çµæ´»æ€§ä»¥åŠå‡ºé”™é¢„é˜²æ€§æ–¹é¢éƒ½å æœ‰ç»å¯¹ä¼˜åŠ¿ï¼Œå¹¶ä¸”<strong>æ²¡æœ‰æ€§èƒ½æƒ©ç½š</strong>çš„é—®é¢˜ã€‚å› æ­¤ï¼Œå½“å¯ä»¥é€‰æ‹©çš„æ—¶å€™ï¼Œfor-eachå¾ªç¯åº”è¯¥ä¼˜å…ˆäºforå¾ªç¯ã€‚</p>
]]></content>
      <categories>
        <category>JavaSE</category>
      </categories>
  </entry>
  <entry>
    <title>Javaæ‰‹åŠ¨å®ç°è¿­ä»£å™¨ã€‚(LeetCode 341)</title>
    <url>/2021/03/23/JavaSE/Java%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0%E8%BF%AD%E4%BB%A3%E5%99%A8%E3%80%82(LeetCode%20341)/</url>
    <content><![CDATA[<h1 id="341-æ‰å¹³åŒ–åµŒå¥—åˆ—è¡¨è¿­ä»£å™¨"><a href="#341-æ‰å¹³åŒ–åµŒå¥—åˆ—è¡¨è¿­ä»£å™¨" class="headerlink" title="341. æ‰å¹³åŒ–åµŒå¥—åˆ—è¡¨è¿­ä»£å™¨"></a>341. æ‰å¹³åŒ–åµŒå¥—åˆ—è¡¨è¿­ä»£å™¨</h1><hr>
<p><a href="https://imgtu.com/i/6T7qHO"><img src="https://z3.ax1x.com/2021/03/23/6T7qHO.png" alt="leetCode 341"></a></p>
<p><a href="https://leetcode-cn.com/problems/flatten-nested-list-iterator/">https://leetcode-cn.com/problems/flatten-nested-list-iterator/</a></p>
<ul>
<li>å…ˆå£°æ˜ <code>NestedInteger</code> çš„ç»“æ„ï¼ˆé¢˜ç›®ç»™å‡ºï¼‰</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">NestedInteger</span> </span>&#123;<br><br>    <span class="hljs-comment">// @return true if this NestedInteger holds a single integer, rather than a nested list.</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isInteger</span><span class="hljs-params">()</span></span>;<br><br>    <span class="hljs-comment">// @return the single integer that this NestedInteger holds, if it holds a single integer</span><br>    <span class="hljs-comment">// Return null if this NestedInteger holds a nested list</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Integer <span class="hljs-title">getInteger</span><span class="hljs-params">()</span></span>;<br><br>    <span class="hljs-comment">// @return the nested list that this NestedInteger holds, if it holds a nested list</span><br>    <span class="hljs-comment">// Return null if this NestedInteger holds a single integer</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;NestedInteger&gt; <span class="hljs-title">getList</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></div></td></tr></table></figure>


<h2 id="è¿­ä»£å™¨ï¼ˆæ•ˆç‡æœ€é«˜ï¼‰"><a href="#è¿­ä»£å™¨ï¼ˆæ•ˆç‡æœ€é«˜ï¼‰" class="headerlink" title="è¿­ä»£å™¨ï¼ˆæ•ˆç‡æœ€é«˜ï¼‰"></a>è¿­ä»£å™¨ï¼ˆæ•ˆç‡æœ€é«˜ï¼‰</h2><ul>
<li>æ‰‹åŠ¨éå†ï¼Œå°†éå†ç»“æœå­˜åœ¨é›†åˆä¸­ï¼Œç„¶åç”Ÿæˆè¿­ä»£å™¨ï¼Œå…¶ä»–æ“ä½œåŸºäºæ­¤è¿­ä»£å™¨å³å¯ã€‚</li>
<li>éå†æ–¹å¼æ˜¯DFSï¼Œå› ä¸ºæ­¤ç»“æ„å¯ä»¥è”ç³»åˆ°æ•°æ®ç»“æ„ä¸­çš„ <code>æ ‘</code>ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * use Java Iterator</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NestedIterator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Iterator</span>&lt;<span class="hljs-title">Integer</span>&gt; </span>&#123;<br><br>    <span class="hljs-keyword">private</span> Iterator&lt;Integer&gt; iterator;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">NestedIterator</span><span class="hljs-params">(List&lt;NestedInteger&gt; nestedList)</span> </span>&#123;<br>        List&lt;Integer&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br>        <span class="hljs-keyword">for</span> (NestedInteger node : nestedList) &#123;<br>            DFS(node, list);<br>        &#125;<br>        <span class="hljs-keyword">this</span>.iterator = list.iterator(); <span class="hljs-comment">// all the operation use list&#x27;s iterator</span><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Integer <span class="hljs-title">next</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> iterator.next();<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">hasNext</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> iterator.hasNext();<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * DFS get every element into List res;</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DFS</span><span class="hljs-params">(NestedInteger node, List&lt;Integer&gt; res)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (node.isInteger()) &#123;<br>            res.add(node.getInteger());<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        <span class="hljs-keyword">for</span> (NestedInteger child : node.getList()) &#123;<br>            DFS(child, res);<br>        &#125;<br>    &#125;<br><br>&#125;<br></code></pre></div></td></tr></table></figure>


<h2 id="é˜Ÿåˆ—-DFSï¼ˆç”¨é˜Ÿåˆ—å®ç°-Iteratorï¼‰"><a href="#é˜Ÿåˆ—-DFSï¼ˆç”¨é˜Ÿåˆ—å®ç°-Iteratorï¼‰" class="headerlink" title="é˜Ÿåˆ— + DFSï¼ˆç”¨é˜Ÿåˆ—å®ç° Iteratorï¼‰"></a>é˜Ÿåˆ— + DFSï¼ˆç”¨é˜Ÿåˆ—å®ç° Iteratorï¼‰</h2><ul>
<li>é“ç†åŒä¸Šï¼ŒDFSæ‰‹åŠ¨éå†ï¼Œå°†éå†ç»“æœå­˜åœ¨é˜Ÿåˆ—ä¸­</li>
<li>ç”¨é˜Ÿåˆ—æ‰‹åŠ¨å®ç° <code>iterator</code>ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * use DFS and Queue</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NestedIterator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Iterator</span>&lt;<span class="hljs-title">Integer</span>&gt; </span>&#123;<br><br>    Deque&lt;Integer&gt; queue = <span class="hljs-keyword">new</span> ArrayDeque&lt;Integer&gt;();<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">NestedIterator</span><span class="hljs-params">(List&lt;NestedInteger&gt; nestedList)</span> </span>&#123;<br>        DFS(nestedList);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Integer <span class="hljs-title">next</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> hasNext() ? queue.pollFirst() : -<span class="hljs-number">1</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">hasNext</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> !queue.isEmpty();<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * DFS the nestedList, offer the elements into the queue</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DFS</span><span class="hljs-params">(List&lt;NestedInteger&gt; nestedList)</span> </span>&#123;<br>        <span class="hljs-keyword">for</span> (NestedInteger elem : nestedList) &#123;<br>            <span class="hljs-keyword">if</span> (elem.isInteger()) &#123; <span class="hljs-comment">// elem is Integer, offer the queue</span><br>                queue.addLast(elem.getInteger());<br>            &#125; <span class="hljs-keyword">else</span> &#123;    <span class="hljs-comment">// elem is List, DFS the list and offer the elements into queue</span><br>                DFS(elem.getList());<br>            &#125;<br>        &#125;<br>    &#125;<br><br>&#125;<br></code></pre></div></td></tr></table></figure>


<h2 id="æ ˆ-é€’å½’-Stack-Recursion"><a href="#æ ˆ-é€’å½’-Stack-Recursion" class="headerlink" title="æ ˆ + é€’å½’ (Stack + Recursion)"></a>æ ˆ + é€’å½’ (Stack + Recursion)</h2><ul>
<li>ä¸åŒäºé˜Ÿåˆ—çš„æ˜¯ï¼Œé˜Ÿåˆ—è¦åœ¨åˆå§‹åŒ–é˜¶æ®µï¼Œå°†éå†çš„ç»“æœå…¨éƒ¨å¤„ç†å¥½ï¼Œæœ€åæŒ‰ç…§é¡ºåºè¿›è¡Œæ“ä½œå³å¯ã€‚</li>
<li>åˆ©ç”¨æ ˆçš„æ€æƒ³æ˜¯ï¼Œå…ˆå°†è¿™äº› <code>NestedInteger</code>æŒ‰é¡ºåºï¼ˆå€’åºï¼‰å­˜æ”¾åœ¨æ ˆä¸­ï¼Œè€Œè¦ä½¿ç”¨é‡Œé¢çš„å…ƒç´ æ—¶ï¼Œå†ä¸€æ­¥æ­¥çš„<strong>æ‹†å°</strong>å‡ºæ¥ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * use Stack and Recursion</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NestedIterator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Iterator</span>&lt;<span class="hljs-title">Integer</span>&gt; </span>&#123;<br><br>    Deque&lt;NestedInteger&gt; stack = <span class="hljs-keyword">new</span> ArrayDeque&lt;NestedInteger&gt;();<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">NestedIterator</span><span class="hljs-params">(List&lt;NestedInteger&gt; nestedList)</span> </span>&#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = nestedList.size() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span> ; i--) &#123;<br>            stack.push(nestedList.get(i));<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Integer <span class="hljs-title">next</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> hasNext() ? stack.pop().getInteger() : -<span class="hljs-number">1</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">hasNext</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (stack.isEmpty()) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>        &#125; <span class="hljs-keyword">else</span> &#123;    <span class="hljs-comment">// stack not empty, judge the peek elem&#x27;s type(List/Integer)</span><br>            NestedInteger elem = stack.peek();<br>            <span class="hljs-keyword">if</span> (elem.isInteger()) &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>            &#125; <span class="hljs-keyword">else</span> &#123; <span class="hljs-comment">// peek elem is list, iterate the list to push elem into the stack</span><br>                elem = stack.pop();<br>                List&lt;NestedInteger&gt; list = elem.getList();<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = list.size() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>                    stack.push(list.get(i));<br>                &#125;<br>                <span class="hljs-keyword">return</span> hasNext();<br>            &#125;<br>        &#125;<br>    &#125;<br><br>&#125;<br></code></pre></div></td></tr></table></figure>]]></content>
      <categories>
        <category>JavaSE</category>
      </categories>
  </entry>
  <entry>
    <title>Javaåœ¨Iteratorä¸­remove &amp; ConcurrentModificationExceptioné—®é¢˜</title>
    <url>/2021/03/15/JavaSE/Java%20%E5%9C%A8Iterator%E4%B8%AD%20remove%20&amp;%20ConcurrentModificationException%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        List&lt;String&gt; arrayList = <span class="hljs-keyword">new</span> ArrayList&lt;String&gt;();<br>        arrayList.add(<span class="hljs-string">&quot;a&quot;</span>);<br>        arrayList.add(<span class="hljs-string">&quot;b&quot;</span>);<br>        arrayList.add(<span class="hljs-string">&quot;c&quot;</span>);<br>        arrayList.add(<span class="hljs-string">&quot;d&quot;</span>);<br><br>        Iterator&lt;String&gt; iterator = arrayList.iterator();<br>        <span class="hljs-keyword">while</span> (iterator.hasNext()) &#123;<br>            String cur = iterator.next();<br>            <span class="hljs-keyword">if</span> (<span class="hljs-string">&quot;b&quot;</span>.equals(cur)) &#123;<br>                arrayList.remove(cur);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                System.out.println(cur + <span class="hljs-string">&quot; &quot;</span>);<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">/*for (String s : arrayList) &#123;</span><br><span class="hljs-comment">            if (&quot;b&quot;.equals(s)) &#123;</span><br><span class="hljs-comment">                arrayList.remove(s);</span><br><span class="hljs-comment">            &#125; else &#123;</span><br><span class="hljs-comment">                System.out.println(s + &quot; &quot;);</span><br><span class="hljs-comment">            &#125;</span><br><span class="hljs-comment">        &#125;*/</span><br>        System.out.println(arrayList);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<ul>
<li>for-eachå®é™…å°±æ˜¯éšå¼ä½¿ç”¨ iterator éå†é›†åˆï¼Œä¸Šé¢çš„ä¾‹å­ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå¹¶åˆ é™¤å¤±è´¥ã€‚</li>
</ul>
<blockquote>
<p>a<br>Exception in thread â€œmainâ€ java.util.ConcurrentModificationException<br>    at java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:937)<br>    at java.base/java.util.ArrayList$Itr.next(ArrayList.java:891)<br>    at Solution.main(Solution.java:14)</p>
</blockquote>
<ul>
<li>ç„¶è€Œåˆ é™¤<strong>å€’æ•°ç¬¬äºŒä¸ª</strong>å…ƒç´ å´ä¸ä¼šæŠ¥é”™</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        List&lt;String&gt; arrayList = <span class="hljs-keyword">new</span> ArrayList&lt;String&gt;();<br>        arrayList.add(<span class="hljs-string">&quot;a&quot;</span>);<br>        arrayList.add(<span class="hljs-string">&quot;b&quot;</span>);<br>        arrayList.add(<span class="hljs-string">&quot;c&quot;</span>);<br>        arrayList.add(<span class="hljs-string">&quot;d&quot;</span>);<br><br>        Iterator&lt;String&gt; iterator = arrayList.iterator();<br>        <span class="hljs-keyword">while</span> (iterator.hasNext()) &#123;<br>            String cur = iterator.next();<br>            <span class="hljs-keyword">if</span> (<span class="hljs-string">&quot;c&quot;</span>.equals(cur)) &#123;<br>                arrayList.remove(cur);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                System.out.println(cur + <span class="hljs-string">&quot; &quot;</span>);<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">/*for (String s : arrayList) &#123;</span><br><span class="hljs-comment">            if (&quot;c&quot;.equals(s)) &#123;</span><br><span class="hljs-comment">                arrayList.remove(s);</span><br><span class="hljs-comment">            &#125; else &#123;</span><br><span class="hljs-comment">                System.out.println(s + &quot; &quot;);</span><br><span class="hljs-comment">            &#125;</span><br><span class="hljs-comment">        &#125;*/</span><br>        System.out.println(arrayList);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<blockquote>
<p>a<br>b<br>[a, b, d]</p>
</blockquote>
<h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><ul>
<li><p>é¦–å…ˆå…ˆè§‚å¯Ÿ ArrayList çš„ <code>iterator()</code>ï¼Œçœ‹è¿­ä»£å™¨æ€ä¹ˆæ„é€ ã€‚</p>
</li>
<li><p>ArrayList çš„ çˆ¶ç±» <code>AbstractList</code>ä¸­</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> Iterator&lt;E&gt; <span class="hljs-title">iterator</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Itr();<br>&#125;<br></code></pre></div></td></tr></table></figure>
<ul>
<li>Itr æ˜¯é‡Œé¢çš„å†…éƒ¨ç±»</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Itr</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Iterator</span>&lt;<span class="hljs-title">E</span>&gt; </span>&#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * Index of element to be returned by subsequent call to next.</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">int</span> cursor = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * Index of element returned by most recent call to next or</span><br><span class="hljs-comment">     * previous.  Reset to -1 if this element is deleted by a call</span><br><span class="hljs-comment">     * to remove.</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">int</span> lastRet = -<span class="hljs-number">1</span>;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * The modCount value that the iterator believes that the backing</span><br><span class="hljs-comment">     * List should have.  If this expectation is violated, the iterator</span><br><span class="hljs-comment">     * has detected concurrent modification.</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">int</span> expectedModCount = modCount;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">hasNext</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> cursor != size();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">next</span><span class="hljs-params">()</span> </span>&#123;<br>        checkForComodification();<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">int</span> i = cursor;<br>            E next = get(i);<br>            lastRet = i;<br>            cursor = i + <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">return</span> next;<br>        &#125; <span class="hljs-keyword">catch</span> (IndexOutOfBoundsException e) &#123;<br>            checkForComodification();<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NoSuchElementException();<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">remove</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (lastRet &lt; <span class="hljs-number">0</span>)<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalStateException();<br>        checkForComodification();<br><br>        <span class="hljs-keyword">try</span> &#123;<br>            AbstractList.<span class="hljs-keyword">this</span>.remove(lastRet);<br>            <span class="hljs-keyword">if</span> (lastRet &lt; cursor)<br>                cursor--;<br>            lastRet = -<span class="hljs-number">1</span>;<br>            expectedModCount = modCount;<br>        &#125; <span class="hljs-keyword">catch</span> (IndexOutOfBoundsException e) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ConcurrentModificationException();<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title">checkForComodification</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (modCount != expectedModCount)<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ConcurrentModificationException();<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<ul>
<li><p><code>cursor</code>ï¼šä¸‹ä¸€ä¸ªè¦è®¿é—®çš„å…ƒç´ çš„ç´¢å¼•</p>
</li>
<li><p><code>lastRet</code>ï¼šä¸Šä¸€ä¸ªè®¿é—®çš„å…ƒç´ çš„ç´¢å¼•</p>
</li>
<li><p><code>expectedModCount</code>æ˜¯æœŸæœ›çš„è¯¥ List è¢«ä¿®æ”¹çš„æ¬¡æ•°ï¼Œåˆå§‹åŒ–ä¸º<code>modCount</code></p>
</li>
<li><p><code>modCount</code>æ˜¯AbstractList çš„ä¸€ä¸ªæˆå‘˜å˜é‡ã€‚</p>
</li>
</ul>
<blockquote>
<p>The number of times this list has been structurally modified. Structural modifications are those that change the size of the list, or otherwise perturb it in such a fashion that iterations in progress may yield incorrect results.<br>This field is used by the iterator and list iterator implementation returned by the iterator and listIterator methods. If the value of this field changes unexpectedly, the iterator (or list iterator) will throw a ConcurrentModificationException in response to the next, remove, previous, set or add operations. This provides fail-fast behavior, rather than non-deterministic behavior in the face of concurrent modification during iteration.<br>Use of this field by subclasses is optional. If a subclass wishes to provide fail-fast iterators (and list iterators), then it merely has to increment this field in its add(int, E) and remove(int) methods (and any other methods that it overrides that result in structural modifications to the list). A single call to add(int, E) or remove(int) must add no more than one to this field, or the iterators (and list iterators) will throw bogus ConcurrentModificationExceptions. If an implementation does not wish to provide fail-fast iterators, this field may be ignored.</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">transient</span> <span class="hljs-keyword">int</span> modCount = <span class="hljs-number">0</span>;<br></code></pre></div></td></tr></table></figure>
<ul>
<li>ç»“æ„ä¿®æ”¹æ˜¯æŒ‡é‚£äº›æ”¹å˜åˆ—è¡¨å¤§å°çš„ä¿®æ”¹ï¼Œæˆ–è€…ä»¥æŸç§æ–¹å¼æ‰°ä¹±åˆ—è¡¨ï¼Œä½¿å¾—æ­£åœ¨è¿›è¡Œçš„è¿­ä»£å¯èƒ½äº§ç”Ÿä¸æ­£ç¡®çš„ç»“æœã€‚</li>
<li>æ­¤å­—æ®µç”±è¿­ä»£å™¨å’Œ<code>listIterator</code>æ–¹æ³•è¿”å›çš„è¿­ä»£å™¨å’Œåˆ—è¡¨è¿­ä»£å™¨å®ç°ä½¿ç”¨ã€‚å¦‚æœæ­¤å­—æ®µçš„å€¼æ„å¤–æ›´æ”¹ï¼Œè¿­ä»£å™¨ï¼ˆæˆ–åˆ—è¡¨è¿­ä»£å™¨ï¼‰å°†æŠ›å‡º<code>ConcurrentModificationException</code>ä»¥å“åº”<code>next</code>ã€<code>remove</code>ã€previousã€<code>set</code>æˆ–<code>add</code>æ“ä½œã€‚è¿™æä¾›äº†<code>å¿«é€Ÿå¤±è´¥</code>çš„è¡Œä¸ºã€‚</li>
</ul>
<ul>
<li>æ·±å…¥ ArrayList é‡Œè§‚å¯Ÿ <code>next()</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">next</span><span class="hljs-params">()</span> </span>&#123;<br>    checkForComodification();<br>    <span class="hljs-keyword">int</span> i = cursor;<br>    <span class="hljs-keyword">if</span> (i &gt;= size)<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NoSuchElementException();<br>    Object[] elementData = ArrayList.<span class="hljs-keyword">this</span>.elementData;<br>    <span class="hljs-keyword">if</span> (i &gt;= elementData.length)<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ConcurrentModificationException();<br>    cursor = i + <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">return</span> (E) elementData[lastRet = i];<br>&#125;<br></code></pre></div></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title">checkForComodification</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (modCount != expectedModCount)<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ConcurrentModificationException();<br>&#125;<br></code></pre></div></td></tr></table></figure>
<ul>
<li><p>æŠ›å‡ºçš„<code>ConcurrentModificationException</code>å¼‚å¸¸æ˜¯<code>checkForComodification()</code>æŠ›å‡ºçš„ã€‚</p>
</li>
<li><p>æ¡ä»¶æ˜¯ï¼š<code>modCount != expectedModCount</code></p>
</li>
</ul>
<p>æ‰€ä»¥åœ¨ add remove çš„è¿‡ç¨‹ä¸­ <code>modCount</code>ä¼šè‡ªå¢è‡ªå‡ã€‚å¦‚æœç”¨é›†åˆçš„ <code>remove</code>åˆ™ List çš„<code>modCount</code>å‡å°‘ä¸€ï¼Œè€Œ Iterator çš„ <code>expectedModCount</code>ä¸å˜ï¼Œå°±ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>
<ul>
<li>è‡³äºä¸ºä»€ä¹ˆå€’æ•°ç¬¬äºŒä¸ªå…ƒç´ åˆ é™¤ä¸ä¼šæŠ¥é”™ï¼Œæˆ‘ä»¬è¦å…ˆäº†è§£ Iterator éå†çš„ç‰¹ç‚¹ã€‚</li>
</ul>
<p>while + iterator çš„ç»„åˆæ˜¯éœ€è¦å…ˆåˆ¤ç©º <code>hasNext()</code>ï¼Œç„¶åå†<code>next()</code>ï¼Œæœ€åæ‰ <code>remove()</code>ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œå¯ä»¥è‡ªè¡Œå®éªŒï¼Œè°ƒæ¢ next å’Œ removeã€‚</p>
<p>å› ä¸ºè¦å…ˆ nextï¼Œå°†æ¸¸æ ‡<code>è¶Šè¿‡</code>å½“å‰çš„å…ƒç´ ï¼Œç„¶åå†å†³å®šè¦æ€ä¹ˆæ“ä½œå½“å‰çš„ï¼ˆæ¸¸æ ‡å‰é¢çš„ï¼‰è¿™ä¸ªå…ƒç´ ï¼Œå³æ¸¸æ ‡æ˜¯æ’åœ¨ å½“å‰å…ƒç´  å’Œ ä¸‹ä¸€ä¸ªå…ƒç´ çš„ä¸­é—´ï¼ˆå¯ä»¥è¿™ä¹ˆç†è§£ï¼‰ã€‚</p>
<p>åˆ é™¤å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ çš„æ—¶å€™ï¼ŒcursoræŒ‡å‘<code>æœ€åä¸€ä¸ªå…ƒç´ </code>ï¼Œè€Œæ­¤æ—¶åˆ æ‰äº†å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ åï¼Œcursorå’Œsize()æ­£å¥½ç›¸ç­‰äº†ï¼Œæ‰€ä»¥<code>hasNext()</code>è¿”å›falseï¼Œéå†ç»“æŸï¼ŒæˆåŠŸçš„åˆ é™¤äº†å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ ã€‚</p>
<h2 id="å»ºè®®ç”¨æ³•"><a href="#å»ºè®®ç”¨æ³•" class="headerlink" title="å»ºè®®ç”¨æ³•"></a>å»ºè®®ç”¨æ³•</h2><ul>
<li><p>ä¸€ä¸ªåŸåˆ™æ˜¯ï¼Œå°½é‡åœ¨éå†çš„è¿‡ç¨‹ä¸­ä¸è¦å¯¹åŸé›†åˆè¿›è¡Œå¢åˆ ï¼Œå®¹æ˜“æ”¹å˜åŸç»“æ„ï¼Œå¯ä»¥ç”¨ immutable çš„æ€æƒ³ï¼Œé‡æ–°å°è£…ä¸€ä¸ªé›†åˆã€‚</p>
</li>
<li><p>è¦ remove() ï¼Œåˆ™è¦åœ¨ <code>iterator()</code>ä¸Šé¢æ¥è¿›è¡Œ <code>remove()</code>ï¼Œå› ä¸ºIteratorè¿­ä»£ï¼Œå°±æŠŠæ“ä½œæƒäº¤ç»™äº† Iteratorï¼Œå°±ä¸è¦å†ç”¨åŸé›†åˆè¿›è¡Œæ“ä½œäº†ã€‚</p>
</li>
<li><p>æ­£ç¡®ç”¨æ³•ï¼š</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        List&lt;String&gt; arrayList = <span class="hljs-keyword">new</span> ArrayList&lt;String&gt;();<br>        arrayList.add(<span class="hljs-string">&quot;a&quot;</span>);<br>        arrayList.add(<span class="hljs-string">&quot;b&quot;</span>);<br>        arrayList.add(<span class="hljs-string">&quot;c&quot;</span>);<br>        arrayList.add(<span class="hljs-string">&quot;d&quot;</span>);<br><br>        Iterator&lt;String&gt; iterator = arrayList.iterator();<br>        <span class="hljs-keyword">while</span> (iterator.hasNext()) &#123;<br>            String cur = iterator.next();<br>            <span class="hljs-keyword">if</span> (<span class="hljs-string">&quot;a&quot;</span>.equals(cur)) &#123;<br>                iterator.remove();<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                System.out.println(cur + <span class="hljs-string">&quot; &quot;</span>);<br>            &#125;<br>        &#125;<br>        System.out.println(arrayList);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<blockquote>
<p>b<br>c<br>d<br>[b, c, d]</p>
</blockquote>
<ul>
<li>ä»¥ä¸Šåˆ†ææ˜¯åŸºäº <code>ArrayList</code>ï¼ŒåŸºäºé“¾è¡¨çš„ LinkedListé“ç†å¤§åŒå°å¼‚ï¼Œæ€æƒ³ä¸å˜ï¼Œæµ‹è¯•çš„ç»“æœä¹Ÿæ˜¯ä¸å˜çš„ã€‚</li>
<li>æ—¢ç„¶æ­£ç¡®æ˜¯ ä½¿ç”¨ iterator æ¥æ“ä½œé›†åˆï¼Œå°±åº”è¯¥å»é˜…è¯» iterator é‡Œçš„ next() å®ç°ï¼Œè€Œä¸åº”è¯¥å»çœ‹ ArrayList é‡Œçš„å®ç°ï¼Œè¦æ›´æ·±å…¥äº†è§£å°±å»é˜…è¯»æºç å§ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>JavaSE</category>
      </categories>
  </entry>
  <entry>
    <title>Centos 6æ— æ³•ä½¿ç”¨yumè§£å†³åŠæ³•</title>
    <url>/2021/03/27/Linux/Centos%206%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8yum%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/</url>
    <content><![CDATA[<h1 id="Centos-6æ— æ³•ä½¿ç”¨yumè§£å†³åŠæ³•"><a href="#Centos-6æ— æ³•ä½¿ç”¨yumè§£å†³åŠæ³•" class="headerlink" title="Centos 6æ— æ³•ä½¿ç”¨yumè§£å†³åŠæ³•"></a>Centos 6æ— æ³•ä½¿ç”¨yumè§£å†³åŠæ³•</h1><p>CentOS 6å·²ç»éšç€2020å¹´11æœˆçš„ç»“æŸè¿›å…¥äº†EOLï¼ˆReaches End of Lifeï¼‰ï¼Œä¸è¿‡æœ‰ä¸€äº›è€è®¾å¤‡ä¾ç„¶éœ€è¦æ”¯æŒï¼ŒCentOSå®˜æ–¹ä¹Ÿç»™è¿™äº›è¿˜ä¸æƒ³æŠŠCentOS 6æ‰”è¿›åƒåœ¾å †çš„ç”¨æˆ·ä¿ç•™äº†æœ€åä¸€ä¸ªç‰ˆæœ¬çš„é•œåƒï¼Œåªæ˜¯è¿™ä¸ªé•œåƒä¸ä¼šå†æœ‰æ›´æ–°äº†</p>
<p>å®˜æ–¹ä¾¿åœ¨12æœˆ2æ—¥æ­£å¼å°†CentOS 6ç›¸å…³çš„è½¯ä»¶æºç§»å‡ºäº†å®˜æ–¹æºï¼Œéšä¹‹è€Œæ¥é€çº§é•œåƒä¹Ÿä¼šé™†ç»­å°†å…¶åˆ é™¤ã€‚</p>
<p>ä¸è¿‡æœ‰ä¸€äº›è€è®¾å¤‡ä¾ç„¶éœ€è¦ç»´æŒåœ¨å½“å‰ç³»ç»Ÿï¼ŒCentOSå®˜æ–¹ä¹Ÿç»™è¿™äº›è¿˜ä¸æƒ³æŠŠCentOS 6æ‰”è¿›åƒåœ¾å †çš„ç”¨æˆ·ä¿ç•™äº†å„ä¸ªç‰ˆæœ¬è½¯ä»¶æºçš„é•œåƒï¼Œåªæ˜¯è¿™ä¸ªè½¯ä»¶æºä¸ä¼šå†æœ‰æ›´æ–°äº†ã€‚</p>
<h2 id="ä¸€ã€ä¸€é”®ä¿®å¤"><a href="#ä¸€ã€ä¸€é”®ä¿®å¤" class="headerlink" title="ä¸€ã€ä¸€é”®ä¿®å¤"></a>ä¸€ã€ä¸€é”®ä¿®å¤</h2><figure class="highlight awk"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs awk">sed -i <span class="hljs-string">&quot;s|enabled=1|enabled=0|g&quot;</span> <span class="hljs-regexp">/etc/yum</span><span class="hljs-regexp">/pluginconf.d/</span>fastestmirror.conf<br>mv <span class="hljs-regexp">/etc/yum</span>.repos.d<span class="hljs-regexp">/CentOS-Base.repo /</span>etc<span class="hljs-regexp">/yum.repos.d/</span>CentOS-Base.repo.backup<br>curl -o <span class="hljs-regexp">/etc/yum</span>.repos.d<span class="hljs-regexp">/CentOS-Base.repo https:/</span><span class="hljs-regexp">/www.xmpan.com/</span>Centos-<span class="hljs-number">6</span>-Vault-Aliyun.repo <br>yum clean all<br>yum makecache<br></code></pre></div></td></tr></table></figure>
<h2 id="äºŒã€æ‰‹åŠ¨ä¿®å¤"><a href="#äºŒã€æ‰‹åŠ¨ä¿®å¤" class="headerlink" title="äºŒã€æ‰‹åŠ¨ä¿®å¤"></a>äºŒã€æ‰‹åŠ¨ä¿®å¤</h2><p>é¦–å…ˆæŠŠfastestmirrorså…³äº†</p>
<figure class="highlight awk"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs awk"><span class="hljs-comment">#ç¼–è¾‘</span><br>vi <span class="hljs-regexp">/etc/yum</span><span class="hljs-regexp">/pluginconf.d/</span>fastestmirror.conf<br><span class="hljs-comment">#ä¿®æ”¹</span><br>enable=<span class="hljs-number">0</span><br><span class="hljs-comment">#æˆ–è€…æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</span><br>sed -i <span class="hljs-string">&quot;s|enabled=1|enabled=0|g&quot;</span> <span class="hljs-regexp">/etc/yum</span><span class="hljs-regexp">/pluginconf.d/</span>fastestmirror.conf<br></code></pre></div></td></tr></table></figure>
<p>å…ˆæŠŠä¹‹å‰çš„repoæŒªåˆ°å¤‡ä»½ï¼Œç„¶åä¸‹é¢ä¸¤ä¸ªäºŒé€‰ä¸€</p>
<figure class="highlight awk"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs awk">mv <span class="hljs-regexp">/etc/yum</span>.repos.d<span class="hljs-regexp">/CentOS-Base.repo /</span>etc<span class="hljs-regexp">/yum.repos.d/</span>CentOS-Base.repo.bak<br></code></pre></div></td></tr></table></figure>
<p>æ›¿æ¢ä¸ºå®˜æ–¹Vaultæº(æµ·å¤–æœåŠ¡å™¨ç”¨)</p>
<figure class="highlight awk"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs awk">curl -o <span class="hljs-regexp">/etc/yum</span>.repos.d<span class="hljs-regexp">/CentOS-Base.repo https:/</span><span class="hljs-regexp">/www.xmpan.com/</span>Centos-<span class="hljs-number">6</span>-Vault-Official.repo<br></code></pre></div></td></tr></table></figure>
<p>æˆ–è€…æ›¿æ¢ä¸ºé˜¿é‡Œäº‘Vaulté•œåƒ(å›½å†…æœåŠ¡å™¨ç”¨)</p>
<figure class="highlight awk"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs awk">curl -o <span class="hljs-regexp">/etc/yum</span>.repos.d<span class="hljs-regexp">/CentOS-Base.repo https:/</span><span class="hljs-regexp">/www.xmpan.com/</span>Centos-<span class="hljs-number">6</span>-Vault-Aliyun.repo<br></code></pre></div></td></tr></table></figure>


<blockquote>
<p>ä»¥ä¸Šè½¬è‡ªï¼šç†ŠçŒ«ç•”</p>
</blockquote>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
  </entry>
  <entry>
    <title>Javaç®—æ³•ç«èµ›å¸¸ç”¨æ¨¡æ¿</title>
    <url>/2021/02/10/JavaSE/Java%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E5%B8%B8%E7%94%A8%E6%A8%A1%E6%9D%BF/</url>
    <content><![CDATA[<h1 id="Javaç®—æ³•ç«èµ›å¸¸ç”¨æ¨¡æ¿"><a href="#Javaç®—æ³•ç«èµ›å¸¸ç”¨æ¨¡æ¿" class="headerlink" title="Javaç®—æ³•ç«èµ›å¸¸ç”¨æ¨¡æ¿"></a>Javaç®—æ³•ç«èµ›å¸¸ç”¨æ¨¡æ¿</h1><h2 id="ä¸€ã€è¾“å…¥è¾“å‡º"><a href="#ä¸€ã€è¾“å…¥è¾“å‡º" class="headerlink" title="ä¸€ã€è¾“å…¥è¾“å‡º"></a>ä¸€ã€è¾“å…¥è¾“å‡º</h2><h3 id="ç®€å•è¾“å…¥"><a href="#ç®€å•è¾“å…¥" class="headerlink" title="ç®€å•è¾“å…¥"></a>ç®€å•è¾“å…¥</h3><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Scanner <br><span class="hljs-keyword">import</span> java.io.BufferedInputStream;<br><br>Scanner sc1 = <span class="hljs-keyword">new</span> Scanner(System.in);<br>Scanner sc2 = <span class="hljs-keyword">new</span> Scanner(<span class="hljs-keyword">new</span> BufferedInputStream(System.in));<br><span class="hljs-comment">// sc2ç”¨åˆ°ç¼“å†²æµï¼Œè¯»å…¥æ›´å¿«</span><br></code></pre></div></td></tr></table></figure>
<p>æµ‹è¯•ï¼š</p>
<figure class="highlight reasonml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs reasonml">public static void main(String<span class="hljs-literal">[]</span> args) &#123;<br>        long t1, t2, t3;<br>        Scanner sc1 = <span class="hljs-keyword">new</span> <span class="hljs-constructor">Scanner(System.<span class="hljs-params">in</span>)</span>;<br>        Scanner sc2 = <span class="hljs-keyword">new</span> <span class="hljs-constructor">Scanner(<span class="hljs-params">new</span> BufferedInputStream(System.<span class="hljs-params">in</span>)</span>);<br><br>        t1 = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>nano<span class="hljs-constructor">Time()</span>;<br>        String next = sc1.next<span class="hljs-literal">()</span>;<br>        t2 = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>nano<span class="hljs-constructor">Time()</span>;<br>        t3 = t2 - t1;<br>        <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;sc1:&quot;</span> + t3);<br>        <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(next);<br><br>        t1 = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>nano<span class="hljs-constructor">Time()</span>;<br>        String next2 = sc2.next<span class="hljs-literal">()</span>;<br>        t2 = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>nano<span class="hljs-constructor">Time()</span>;<br>        t3 = t2 - t1;<br>        <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;sc2:&quot;</span> + t3);<br>        <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(next2);<br>    &#125;<br></code></pre></div></td></tr></table></figure>
<blockquote>
<p>abc<br>sc1:7968695900<br>abc<br>abc<br>sc2:1945031900<br>abc</p>
</blockquote>
<h3 id="å¤æ‚è¾“å…¥"><a href="#å¤æ‚è¾“å…¥" class="headerlink" title="å¤æ‚è¾“å…¥"></a>å¤æ‚è¾“å…¥</h3><div class="hljs code-wrapper"><pre><code>    å¦‚ï¼š1,2,3,4,5
</code></pre></div>
<figure class="highlight processing"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs processing"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(<span class="hljs-keyword">String</span>[] args) &#123;<br>    Scanner sc = <span class="hljs-keyword">new</span> Scanner(System.in);<br>    <span class="hljs-keyword">String</span> <span class="hljs-built_in">str</span> = sc.next();<br>    <span class="hljs-keyword">String</span>[] <span class="hljs-built_in">split</span> = <span class="hljs-built_in">str</span>.<span class="hljs-built_in">split</span>(<span class="hljs-string">&quot;,&quot;</span>);<br>    <span class="hljs-built_in">int</span>[] strInt = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>[<span class="hljs-built_in">split</span>.length];<br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">split</span>.length; i++) &#123;<br>        strInt[i] = Integer.parseInt(<span class="hljs-built_in">split</span>[i]);<br>    &#125;<br>    System.out.<span class="hljs-built_in">println</span>(Arrays.toString(strInt));<br>&#125;<br></code></pre></div></td></tr></table></figure>
<blockquote>
<p>1,2,3,4,5<br>[1, 2, 3, 4, 5]</p>
</blockquote>
<h3 id="æ–‡ä»¶è¾“å…¥"><a href="#æ–‡ä»¶è¾“å…¥" class="headerlink" title="æ–‡ä»¶è¾“å…¥"></a>æ–‡ä»¶è¾“å…¥</h3><div class="hljs code-wrapper"><pre><code>    ç”¨äºå¤§æ•°æ®çš„è¯»å…¥ï¼Œä¸ç”¨æ‰‹åŠ¨è¾“å…¥é‚£ä¹ˆéº»çƒ¦ã€‚BufferedInputStreamç¼“å†²æµæ¥åŠ é€Ÿï¼Œæ–‡ä»¶è¾“å…¥æµç”¨**ç»å¯¹è·¯å¾„**ï¼Œé¿å…ä¸å¿…è¦çš„éº»çƒ¦ï¼Œè¦ä¸å°±æŠŠèµ„æºæ–‡ä»¶æ”¾åœ¨srcç›®å½•ä¸‹ã€‚
</code></pre></div>
<figure class="highlight haxe"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs haxe"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> void main(<span class="hljs-keyword">String</span>[] args) throws FileNotFoundException &#123;<br>    Scanner sc = <span class="hljs-keyword">new</span> <span class="hljs-type">Scanner</span>(<span class="hljs-keyword">new</span> <span class="hljs-type">BufferedInputStream</span>(<span class="hljs-keyword">new</span> <span class="hljs-type"></span><br><span class="hljs-type"></span>    FileInputStream(<span class="hljs-string">&quot;E:\\input.txt&quot;</span>)));<br>    List&lt;Integer&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-type">ArrayList</span>&lt;&gt;();<br>    <span class="hljs-keyword">while</span> (sc.hasNext()) &#123;<br>        list.add(sc.nextInt());<br>    &#125;<br>    System.out.println(list);<br>&#125;<br></code></pre></div></td></tr></table></figure>
<h2 id="äºŒã€æ•°æ®ç±»å‹"><a href="#äºŒã€æ•°æ®ç±»å‹" class="headerlink" title="äºŒã€æ•°æ®ç±»å‹"></a>äºŒã€æ•°æ®ç±»å‹</h2><h3 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h3><ul>
<li>æŒ‰ç…§ç©ºæ ¼åˆ†å‰²å­—ç¬¦ä¸²</li>
</ul>
<figure class="highlight processing"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs processing"><span class="hljs-keyword">String</span>[] s=<span class="hljs-built_in">str</span>.<span class="hljs-built_in">split</span>(<span class="hljs-string">&quot; +&quot;</span>);<br><span class="hljs-keyword">String</span>[] s=<span class="hljs-built_in">str</span>.<span class="hljs-built_in">split</span>(<span class="hljs-string">&quot;\\s+&quot;</span>);<br><span class="hljs-comment">// ä»¥ä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼åˆ†å‰²</span><br></code></pre></div></td></tr></table></figure>
<ul>
<li><p><strong>public int indexOf(String str)ï¼š</strong>è¿”å›å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°strçš„ä½ç½®ï¼›</p>
</li>
<li><p><strong>public int indexOf(String str,int fromIndex)ï¼š</strong>è¿”å›å­—ç¬¦ä¸²ä»fromIndexå¼€å§‹ç¬¬ä¸€æ¬¡å‡ºç°strçš„ä½ç½®ï¼›</p>
</li>
<li><p><strong>public String substring(int beginIndex)ï¼š</strong>è¿”å›è¯¥å­—ç¬¦ä¸²ä»beginIndexå¼€å§‹åˆ°ç»“å°¾çš„å­å­—ç¬¦ä¸²ï¼›</p>
</li>
<li><p><strong>public String substring(int beginIndex,int endIndex)ï¼š</strong>è¿”å›è¯¥å­—ç¬¦ä¸²ä»beginIndexå¼€å§‹åˆ°endsIndexç»“å°¾çš„å­å­—ç¬¦ä¸²</p>
</li>
<li><p><strong>public char[] toCharArray ()</strong> <strong>ï¼š</strong>å°†æ­¤å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ–°çš„å­—ç¬¦æ•°ç»„</p>
</li>
<li><p><strong>public String replace (CharSequence target, CharSequence replacement)</strong> <strong>ï¼š</strong>å°†ä¸targetåŒ¹é…çš„å­—ç¬¦ä¸²ä½¿ç”¨replacementå­—ç¬¦ä¸²æ›¿æ¢ã€‚</p>
</li>
<li><p><strong>String replaceAll(String regex, String replacement)ï¼š</strong>ä½¿ç”¨ç»™å®šçš„ replacement æ›¿æ¢æ­¤å­—ç¬¦ä¸²æ‰€æœ‰åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼çš„å­å­—ç¬¦ä¸²</p>
</li>
</ul>
<figure class="highlight processing"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs processing"><span class="hljs-keyword">String</span> ss=<span class="hljs-built_in">str</span>.replaceAll(<span class="hljs-string">&quot; +&quot;</span>, <span class="hljs-string">&quot;,&quot;</span>);<br><span class="hljs-keyword">String</span> ss=<span class="hljs-built_in">str</span>.replaceAll(<span class="hljs-string">&quot;\\s+&quot;</span>, <span class="hljs-string">&quot;,&quot;</span>);<br><span class="hljs-comment">// äºŒè€…éƒ½èƒ½æŠŠä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼æ¢æˆé€—å·</span><br></code></pre></div></td></tr></table></figure>
<h3 id="å¤§æ•°"><a href="#å¤§æ•°" class="headerlink" title="å¤§æ•°"></a>å¤§æ•°</h3><figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-comment">//BigDecimalç±»å‹æ„é€ æ–¹æ³•</span><br><span class="hljs-function"><span class="hljs-title">BigDecimal</span><span class="hljs-params">(double val)</span></span><br>          <span class="hljs-comment">//å°† double è½¬æ¢ä¸º BigDecimalï¼Œåè€…æ˜¯ double çš„äºŒè¿›åˆ¶æµ®ç‚¹å€¼å‡†ç¡®çš„åè¿›åˆ¶è¡¨ç¤ºå½¢å¼ã€‚</span><br><span class="hljs-function"><span class="hljs-title">BigDecimal</span><span class="hljs-params">(int val)</span></span><br>          <span class="hljs-comment">//å°† int è½¬æ¢ä¸º BigDecimalã€‚</span><br><span class="hljs-function"><span class="hljs-title">BigDecimal</span><span class="hljs-params">(long val)</span></span><br>          <span class="hljs-comment">//å°† long è½¬æ¢ä¸º BigDecimalã€‚</span><br><span class="hljs-function"><span class="hljs-title">BigDecimal</span><span class="hljs-params">(String val)</span></span><br>          <span class="hljs-comment">//å°† BigDecimal çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼è½¬æ¢ä¸º BigDecimalã€‚</span><br><span class="hljs-comment">//BigIntegerç±»å‹æ„é€ æ–¹æ³•</span><br><span class="hljs-function"><span class="hljs-title">BigInteger</span><span class="hljs-params">(int val)</span></span><br>          <span class="hljs-comment">//å°† int è½¬æ¢ä¸º BigIntegerã€‚</span><br><span class="hljs-function"><span class="hljs-title">BigInteger</span><span class="hljs-params">(String val)</span></span><br>          <span class="hljs-comment">//å°† BigDecimal çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼è½¬æ¢ä¸º BigIntegerã€‚</span><br><span class="hljs-comment">//BigIntegerè½¬æ¢æ–¹æ³•</span><br>BigInteger valueOf(long val)<br>          <span class="hljs-comment">//è¿”å›å…¶å€¼ç­‰äºæŒ‡å®š long çš„å€¼çš„ BigIntegerã€‚</span><br>		  <span class="hljs-comment">//å¦‚ï¼šBigInteger bi1=new BigInteger(1000);</span><br><span class="hljs-comment">//é€šç”¨æ–¹æ³•</span><br><span class="hljs-function"><span class="hljs-title">BigInteger</span><span class="hljs-params">(BigDecimal)</span></span><span class="hljs-selector-class">.max</span>(BigInteger(BigDecimal))<br>    <span class="hljs-comment">//è¿”å›æœ€å¤§æ•°</span><br><span class="hljs-function"><span class="hljs-title">BigInteger</span><span class="hljs-params">(BigDecimal)</span></span><span class="hljs-selector-class">.min</span>(BigInteger(BigDecimal))<br>    <span class="hljs-comment">//è¿”å›æœ€å°æ•°</span><br><span class="hljs-function"><span class="hljs-title">BigInteger</span><span class="hljs-params">(BigDecimal)</span></span><span class="hljs-selector-class">.add</span>(BigInteger(BigDecimal))<br>    <span class="hljs-comment">//ç›¸å½“äºï¼š+</span><br><span class="hljs-function"><span class="hljs-title">BigInteger</span><span class="hljs-params">(BigDecimal)</span></span><span class="hljs-selector-class">.subtract</span>(BigInteger(BigDecimal))<br>    <span class="hljs-comment">//ç›¸å½“äºï¼š-</span><br><span class="hljs-function"><span class="hljs-title">BigInteger</span><span class="hljs-params">(BigDecimal)</span></span><span class="hljs-selector-class">.multiply</span>(BigInteger(BigDecimal))<br>    <span class="hljs-comment">//ç›¸å½“äºï¼š*</span><br><span class="hljs-function"><span class="hljs-title">BigInteger</span><span class="hljs-params">(BigDecimal)</span></span><span class="hljs-selector-class">.divide</span>(BigInteger(BigDecimal))<br>    <span class="hljs-comment">//ç›¸å½“äºï¼š/</span><br><span class="hljs-function"><span class="hljs-title">BigInteger</span><span class="hljs-params">(BigDecimal)</span></span><span class="hljs-selector-class">.mod</span>(BigInteger(BigDecimal))<br>    <span class="hljs-comment">//ç›¸å½“äºï¼š%</span><br><span class="hljs-function"><span class="hljs-title">BigInteger</span><span class="hljs-params">(BigDecimal)</span></span><span class="hljs-selector-class">.abs</span>()<br>    <span class="hljs-comment">//è¿”å›å…¶å€¼æ˜¯æ­¤ BigIntege(BigDecimal)r çš„ç»å¯¹å€¼çš„ BigInteger(BigDecimal)ã€‚</span><br></code></pre></div></td></tr></table></figure>
<h3 id="Calendarç±»"><a href="#Calendarç±»" class="headerlink" title="Calendarç±»"></a>Calendarç±»</h3><ul>
<li>Calendarå®ä¾‹åŒ–</li>
</ul>
<figure class="highlight reasonml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs reasonml">Calendar calendar = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Calendar</span>.</span></span>get<span class="hljs-constructor">Instance()</span>;<br></code></pre></div></td></tr></table></figure>
<ul>
<li><strong>YEAR</strong>       æŒ‡ç¤ºå¹´çš„ get å’Œ set çš„å­—æ®µæ•°å­—ã€‚</li>
<li><strong>MONTH</strong>  æŒ‡ç¤ºæœˆä»½çš„ get å’Œ set çš„å­—æ®µæ•°å­—ã€‚</li>
<li><strong>DATE</strong>       æŒ‡ç¤ºæ—¥çš„ get å’Œ set çš„å­—æ®µæ•°å­—ã€‚-</li>
<li><strong>HOUR</strong>       get å’Œ set çš„å­—æ®µæ•°å­—,æŒ‡ç¤ºå½“å¤©ä¸­çš„æŸå°æ—¶</li>
<li><strong>MINUTE</strong> get å’Œ set çš„å­—æ®µæ•°å­—,æŒ‡ç¤ºå½“å‰å°æ—¶ä¸­çš„æŸåˆ†é’Ÿ</li>
<li><strong>SECOND</strong> get å’Œ set çš„å­—æ®µæ•°å­—,æŒ‡ç¤ºå½“å‰åˆ†é’Ÿä¸­çš„æŸç§’</li>
<li><strong>DAY_OF_MONTH</strong>   get å’Œ set çš„å­—æ®µæ•°å­—, æŒ‡ç¤ºä»¥æœˆä¸ºèµ·ç‚¹è¿‡äº†å‡ å¤©ã€‚</li>
<li><strong>DAY_OF_WEEK</strong>   get å’Œ set çš„å­—æ®µæ•°å­—, æŒ‡ç¤ºä»¥å‘¨ä¸ºèµ·ç‚¹è¿‡äº†å‡ å¤©ã€‚</li>
<li><strong>DAY_OF_YEAR</strong>   get å’Œ set çš„å­—æ®µæ•°å­—, æŒ‡ç¤ºä»¥å¹´ä¸ºèµ·ç‚¹è¿‡äº†å‡ å¤©ã€‚</li>
<li><strong>DAY_OF_WEEK_IN_MONTH</strong>   get å’Œ set çš„å­—æ®µæ•°å­—, æŒ‡ç¤ºå½“å‰æœˆä¸­çš„ç¬¬å‡ ä¸ªæ˜ŸæœŸã€‚</li>
</ul>
<blockquote>
<p>public static final int SUNDAY = 1;</p>
<p>public static final int JANUARY = 0;</p>
<p>ä»¥ä¸Šè¡¨ç¤ºï¼Œä¸€å‘¨çš„å¼€å§‹æ˜¯å‘¨æ—¥ï¼Œå³ä¸º1ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
<p>ä¸€å¹´çš„å¼€å§‹æ˜¯ä¸€æœˆï¼Œå³ä¸º0ï¼Œæ‰€ä»¥å¯¹æœˆçš„è®¾ç½®è¦ - 1ï¼Œå¯¹æœˆçš„è¯»å–è¦ + 1</p>
</blockquote>
<div class="hljs code-wrapper"><pre><code>    `get(int field); `// è·å–ç»™å®šå­—æ®µçš„å€¼ï¼Œfieldå³ä¸Šé¢çš„å­—æ®µæ•°å­—
</code></pre></div>
<figure class="highlight stata"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stata">Calendar calendar = Calendar.getInstance();<br><span class="hljs-comment">// è®¾ç½®æ—¥æœŸä¸º: 2020.1.21</span><br>calendar.<span class="hljs-keyword">set</span>(Calendar.YEAR, 2020);<br>calendar.<span class="hljs-keyword">set</span>(Calendar.MONTH, 0);<br>calendar.<span class="hljs-keyword">set</span>(Calendar.DAY_OF_MONTH, 21);<br><span class="hljs-comment">// è·å–2020.1.21æ˜¯æ˜ŸæœŸå‡ </span><br>System.<span class="hljs-keyword">out</span>.<span class="hljs-keyword">print</span>(calendar.<span class="hljs-built_in">get</span>(Calendar.DAY_OF_WEEK));<br><br>è¾“å‡ºï¼š<br>3 <span class="hljs-comment">// 3ä»£è¡¨æ˜ŸæœŸäºŒ</span><br></code></pre></div></td></tr></table></figure>
<h4 id="Calendarç±»ä¸Dateç±»çš„è½¬æ¢"><a href="#Calendarç±»ä¸Dateç±»çš„è½¬æ¢" class="headerlink" title="Calendarç±»ä¸Dateç±»çš„è½¬æ¢"></a>Calendarç±»ä¸Dateç±»çš„è½¬æ¢</h4><ul>
<li><p>Dateç±»</p>
<div class="hljs code-wrapper"><pre><code>  Date date = new Date();
  System.out.println(&quot;æ¯«ç§’:&quot;+date.getTime());//è¾“å…¥æ¯«ç§’
   
  //æ—¶é—´è½¬å­—ç¬¦ä¸²
  SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);
  String time = sdf.format(date);
  System.out.println(&quot;æ—¶é—´è½¬å­—ç¬¦ä¸²:&quot;+time);
   
  //åˆ©ç”¨å­—ç¬¦ä¸²æ¥è½¬æ—¶é—´æ ¼å¼ï¼ˆè®°å¾—æŠ›å‡ºå¼‚å¸¸ï¼‰
  String time02 = &quot;2018-09-05&quot;;
  SimpleDateFormat  sdf2 = new SimpleDateFormat (&quot;yyyy-MM-dd&quot;);
  Date date2 = sdf2.parse(time02);
  System.out.println(&quot;å­—ç¬¦ä¸²è½¬æ—¶é—´æ ¼å¼ï¼š&quot;+date2);
</code></pre></div>
</li>
<li><p>Calendarç±»</p>
<div class="hljs code-wrapper"><pre><code>  // ä½¿ç”¨é»˜è®¤æ—¶åŒºå’Œè¯­è¨€ç¯å¢ƒè·å¾—ä¸€ä¸ªæ—¥å†
  Calendar cal = Calendar.getInstance();
  // èµ‹å€¼æ—¶å¹´æœˆæ—¥æ—¶åˆ†ç§’å¸¸ç”¨çš„6ä¸ªå€¼ï¼Œæ³¨æ„æœˆä»½ä¸‹æ ‡ä»0å¼€å§‹ï¼Œæ‰€ä»¥å–æœˆä»½è¦+1
  System.out.println(&quot;å¹´:&quot; + cal.get(Calendar.YEAR));
  System.out.println(&quot;æœˆ:&quot; + (cal.get(Calendar.MONTH) + 1));
  System.out.println(&quot;æ—¥:&quot; + cal.get(Calendar.DAY_OF_MONTH));
  System.out.println(&quot;æ—¶:&quot; + cal.get(Calendar.HOUR_OF_DAY));
  System.out.println(&quot;åˆ†:&quot; + cal.get(Calendar.MINUTE));
  System.out.println(&quot;ç§’:&quot; + cal.get(Calendar.SECOND));
   
  //æ‰‹åŠ¨è®¾ç½®æŸä¸ªæ—¥æœŸ
  Calendar cal02 = Calendar.getInstance();
  //æ³¨æ„ï¼Œè®¾ç½®æ—¶é—´çš„æ—¶å€™æœˆä»½çš„ä¸‹æ ‡æ˜¯åœ¨0å¼€å§‹çš„
  //è®¾ç½®æ—¶é—´ä¸ä¸€å®šè¦è¿™6ä¸ªå‚æ•°3ä¸ªå‚æ•°ä¹Ÿæ˜¯å¯ä»¥çš„
  cal02.set(2018,9,1,12,0,0);//äºŒé›¶ä¸€å…«å¹´åæœˆä¸€å·åäºŒç‚¹
  System.out.println(cal02.getTime());//getTime()è¿”å›Dateç±»å‹
</code></pre></div>
</li>
<li><p>Calendarè½¬æ¢ä¸ºDate</p>
</li>
</ul>
<figure class="highlight reasonml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs reasonml">Calendar cal = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Calendar</span>.</span></span>get<span class="hljs-constructor">Instance()</span>;<br>Date date = cal.get<span class="hljs-constructor">Time()</span>;<br>SimpleDateFormat simpleDateFormat = <span class="hljs-keyword">new</span> <span class="hljs-constructor">SimpleDateFormat(<span class="hljs-string">&quot;yyyy-MM-dd&quot;</span>)</span>;<br>String s = simpleDateFormat.format(date);<br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;æ—¶é—´ä¸º====&quot;</span>+s);<br></code></pre></div></td></tr></table></figure>
<ul>
<li>Dateè½¬æ¢ä¸ºCalendar</li>
</ul>
<figure class="highlight pgsql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs pgsql"><span class="hljs-type">Date</span> date2 = <span class="hljs-built_in">new</span> <span class="hljs-type">Date</span>();<br>Calendar cal2 = Calendar.getInstance();<br>cal2.setTime(date2);<br><span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(cal2.<span class="hljs-keyword">get</span>(Calendar.YEAR) +&quot;-&quot;+(cal2.<span class="hljs-keyword">get</span>(Calendar.MONTH)+<span class="hljs-number">1</span>)+&quot;-&quot;+cal2.<span class="hljs-keyword">get</span>(Calendar.DATE));<br></code></pre></div></td></tr></table></figure>
<p>ä¾‹é¢˜ï¼š</p>
<p>ä»é”®ç›˜è¾“å…¥ä¸€ä¸ªæ—¥æœŸï¼Œæ ¼å¼ä¸ºyyyy-M-d</p>
<p>è¦æ±‚è®¡ç®—è¯¥æ—¥æœŸä¸1949å¹´10æœˆ1æ—¥è·ç¦»å¤šå°‘å¤©</p>
<p>ä¾‹å¦‚ï¼š</p>
<p>ç”¨æˆ·è¾“å…¥äº†ï¼š1949-10-2 ç¨‹åºè¾“å‡ºï¼š1</p>
<p>ç”¨æˆ·è¾“å…¥äº†ï¼š1949-11-1 ç¨‹åºè¾“å‡ºï¼š31</p>
<figure class="highlight reasonml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs reasonml">public static void main(String<span class="hljs-literal">[]</span> args) &#123;<br>        Calendar cal = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Calendar</span>.</span></span>get<span class="hljs-constructor">Instance()</span>;<br>        Scanner sc = <span class="hljs-keyword">new</span> <span class="hljs-constructor">Scanner(<span class="hljs-params">new</span> BufferedInputStream(System.<span class="hljs-params">in</span>)</span>);<br>        String s = sc.next<span class="hljs-literal">()</span>;<br>        String<span class="hljs-literal">[]</span> str = s.split(<span class="hljs-string">&quot;-&quot;</span>);<br>        cal.set(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Integer</span>.</span></span>parse<span class="hljs-constructor">Int(<span class="hljs-params">str</span>[0])</span>, <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Integer</span>.</span></span>parse<span class="hljs-constructor">Int(<span class="hljs-params">str</span>[1])</span> - <span class="hljs-number">1</span>, <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Integer</span>.</span></span>parse<span class="hljs-constructor">Int(<span class="hljs-params">str</span>[2])</span>);<br>        Calendar standard = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Calendar</span>.</span></span>get<span class="hljs-constructor">Instance()</span>;<br>        standard.set(<span class="hljs-number">1949</span>, <span class="hljs-number">10</span> - <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br>        long t1 = cal.get<span class="hljs-constructor">TimeInMillis()</span>;<br>        long t2 = standard.get<span class="hljs-constructor">TimeInMillis()</span>;<br>        <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println((t1 - t2)<span class="hljs-operator"> / </span>(<span class="hljs-number">1000</span><span class="hljs-operator"> * </span><span class="hljs-number">60</span><span class="hljs-operator"> * </span><span class="hljs-number">60</span><span class="hljs-operator"> * </span><span class="hljs-number">24</span>) + <span class="hljs-number">1</span>);<br>    &#125;<br></code></pre></div></td></tr></table></figure>
<h2 id="åŒç«¯é˜Ÿåˆ—"><a href="#åŒç«¯é˜Ÿåˆ—" class="headerlink" title="åŒç«¯é˜Ÿåˆ—"></a>åŒç«¯é˜Ÿåˆ—</h2><div class="hljs code-wrapper"><pre><code>    å®šä¹‰ï¼šï¼ˆå¸¸ç”¨ï¼‰
</code></pre></div>
<blockquote>
<p>Deque<Integer> q=new LinkedList<Integer>();</p>
</blockquote>
<p>LinkedListåº•å±‚æ˜¯é“¾è¡¨ï¼ŒArrayDequeåº•å±‚æ˜¯æ•°ç»„å®ç°</p>
<ul>
<li><p><code>offerFirst / addFirst(Object e);</code> é˜Ÿé¦–æ’å…¥</p>
</li>
<li><p><code>offerLast / addLast(Object e); </code>é˜Ÿå°¾æ’å…¥</p>
</li>
<li><p><code>pollFirst(); </code>é˜Ÿé¦–åˆ é™¤</p>
</li>
<li><p><code>pollLast(); </code>é˜Ÿå°¾åˆ é™¤</p>
</li>
<li><p><code>peekFirst(); </code>é˜Ÿé¦–è·å–</p>
</li>
<li><p><code>peekLast(); </code>é˜Ÿå°¾è·å–</p>
</li>
</ul>
<h2 id="è¿›åˆ¶è½¬æ¢"><a href="#è¿›åˆ¶è½¬æ¢" class="headerlink" title="è¿›åˆ¶è½¬æ¢"></a>è¿›åˆ¶è½¬æ¢</h2><h3 id="å…¶ä»–è¿›åˆ¶å­—ç¬¦ä¸²-gt-åè¿›åˆ¶æ•´æ•°"><a href="#å…¶ä»–è¿›åˆ¶å­—ç¬¦ä¸²-gt-åè¿›åˆ¶æ•´æ•°" class="headerlink" title="å…¶ä»–è¿›åˆ¶å­—ç¬¦ä¸²-&gt;åè¿›åˆ¶æ•´æ•°"></a>å…¶ä»–è¿›åˆ¶å­—ç¬¦ä¸²-&gt;åè¿›åˆ¶æ•´æ•°</h3><ul>
<li>public static Integer valueOf(int i)</li>
<li>public static Integer valueOf(String s)</li>
<li>public static Integer valueOf(String s, int radix) - radixä¸ºså­—ç¬¦ä¸²ç¬¦åˆçš„è¿›åˆ¶</li>
</ul>
<figure class="highlight reasonml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs reasonml"><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Integer</span>.</span></span>value<span class="hljs-constructor">Of(12)</span>);<span class="hljs-comment">//12</span><br> <br><span class="hljs-comment">// åè¿›åˆ¶å­—ç¬¦ä¸² =&gt; åè¿›åˆ¶æ•´æ•°</span><br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Integer</span>.</span></span>value<span class="hljs-constructor">Of(<span class="hljs-string">&quot;12&quot;</span>)</span>);<span class="hljs-comment">//12</span><br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Integer</span>.</span></span>value<span class="hljs-constructor">Of(<span class="hljs-string">&quot;12&quot;</span>,10)</span>);<span class="hljs-comment">//12</span><br> <br><span class="hljs-comment">// äºŒè¿›åˆ¶å­—ç¬¦ä¸² =&gt; åè¿›åˆ¶æ•´æ•°</span><br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Integer</span>.</span></span>value<span class="hljs-constructor">Of(<span class="hljs-string">&quot;1100&quot;</span>, 2)</span>);<span class="hljs-comment">//12</span><br> <br><span class="hljs-comment">// 8è¿›åˆ¶å­—ç¬¦ä¸² =&gt; åè¿›åˆ¶æ•´æ•°</span><br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Integer</span>.</span></span>value<span class="hljs-constructor">Of(<span class="hljs-string">&quot;1100&quot;</span>, 8)</span>);<span class="hljs-comment">//576</span><br> <br><span class="hljs-comment">// 16è¿›åˆ¶å­—ç¬¦ä¸² =&gt; åè¿›åˆ¶æ•´æ•°</span><br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Integer</span>.</span></span>value<span class="hljs-constructor">Of(<span class="hljs-string">&quot;1100&quot;</span>, 16)</span>);<span class="hljs-comment">//4352</span><br></code></pre></div></td></tr></table></figure>
<p>åŒç†ï¼Œç”¨ public static int parseInt(String s)æˆ– public static int parseInt(String s, int radix)è½¬æ¢ä¸ºintå‹</p>
<figure class="highlight reasonml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs reasonml"><span class="hljs-comment">// åè¿›åˆ¶å­—ç¬¦ä¸² =&gt; åè¿›åˆ¶æ•´æ•°</span><br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Integer</span>.</span></span>parse<span class="hljs-constructor">Int(<span class="hljs-string">&quot;12&quot;</span>)</span>); <span class="hljs-comment">// 12</span><br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Integer</span>.</span></span>parse<span class="hljs-constructor">Int(<span class="hljs-string">&quot;12&quot;</span>, 10)</span>); <span class="hljs-comment">// 12</span><br> <br><span class="hljs-comment">// äºŒè¿›åˆ¶å­—ç¬¦ä¸² =&gt; åè¿›åˆ¶æ•´æ•°</span><br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Integer</span>.</span></span>parse<span class="hljs-constructor">Int(<span class="hljs-string">&quot;1100&quot;</span>, 2)</span>); <span class="hljs-comment">// 12</span><br> <br><span class="hljs-comment">// 8è¿›åˆ¶å­—ç¬¦ä¸² =&gt; åè¿›åˆ¶æ•´æ•°</span><br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Integer</span>.</span></span>parse<span class="hljs-constructor">Int(<span class="hljs-string">&quot;1100&quot;</span>, 8)</span>); <span class="hljs-comment">// 576</span><br> <br><span class="hljs-comment">// 16è¿›åˆ¶å­—ç¬¦ä¸² =&gt; åè¿›åˆ¶æ•´æ•°</span><br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Integer</span>.</span></span>parse<span class="hljs-constructor">Int(<span class="hljs-string">&quot;1100&quot;</span>, 16)</span>); <span class="hljs-comment">// 4352</span><br> <br><span class="hljs-comment">// 32è¿›åˆ¶å­—ç¬¦ä¸² =&gt; åè¿›åˆ¶æ•´æ•°</span><br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Integer</span>.</span></span>parse<span class="hljs-constructor">Int(<span class="hljs-string">&quot;1100&quot;</span>, 32)</span>); <span class="hljs-comment">// 33792</span><br></code></pre></div></td></tr></table></figure>
<h3 id="åè¿›åˆ¶æ•´æ•°-gt-å…¶ä»–è¿›åˆ¶å­—ç¬¦ä¸²"><a href="#åè¿›åˆ¶æ•´æ•°-gt-å…¶ä»–è¿›åˆ¶å­—ç¬¦ä¸²" class="headerlink" title="åè¿›åˆ¶æ•´æ•°-&gt;å…¶ä»–è¿›åˆ¶å­—ç¬¦ä¸²"></a>åè¿›åˆ¶æ•´æ•°-&gt;å…¶ä»–è¿›åˆ¶å­—ç¬¦ä¸²</h3><ul>
<li>public static String toBinaryString(int i) - è½¬äºŒè¿›åˆ¶</li>
<li>public static String toOctalString(int i) - è½¬å…«è¿›åˆ¶</li>
<li>public static String toHexString(int i) - è½¬åå…­è¿›åˆ¶</li>
</ul>
<figure class="highlight reasonml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs reasonml"><span class="hljs-built_in">int</span> n = <span class="hljs-number">12</span>;<br><span class="hljs-comment">// åè¿›åˆ¶æ•´æ•° -&gt; åè¿›åˆ¶å­—ç¬¦ä¸²</span><br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Integer</span>.</span></span><span class="hljs-keyword">to</span><span class="hljs-constructor">String(<span class="hljs-params">n</span>)</span>);<span class="hljs-comment">// 12</span><br> <br><span class="hljs-comment">// åè¿›åˆ¶æ•´æ•° -&gt; äºŒè¿›åˆ¶å­—ç¬¦ä¸²</span><br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Integer</span>.</span></span><span class="hljs-keyword">to</span><span class="hljs-constructor">String(<span class="hljs-params">n</span>, 2)</span>);<span class="hljs-comment">// 1100</span><br> <br><span class="hljs-comment">// åè¿›åˆ¶æ•´æ•° -&gt; 8è¿›åˆ¶å­—ç¬¦ä¸²</span><br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Integer</span>.</span></span><span class="hljs-keyword">to</span><span class="hljs-constructor">String(<span class="hljs-params">n</span>, 8)</span>);<span class="hljs-comment">// 14</span><br> <br><span class="hljs-comment">// åè¿›åˆ¶æ•´æ•° -&gt; 16è¿›åˆ¶å­—ç¬¦ä¸²</span><br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Integer</span>.</span></span><span class="hljs-keyword">to</span><span class="hljs-constructor">String(<span class="hljs-params">n</span>, 16)</span>);<span class="hljs-comment">// c</span><br> <br><span class="hljs-comment">// åè¿›åˆ¶æ•´æ•° -&gt; 32è¿›åˆ¶å­—ç¬¦ä¸²</span><br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Integer</span>.</span></span><span class="hljs-keyword">to</span><span class="hljs-constructor">String(<span class="hljs-params">n</span>, 32)</span>);<span class="hljs-comment">// c</span><br></code></pre></div></td></tr></table></figure>
<h2 id="è‡ªå®šä¹‰æ’åº"><a href="#è‡ªå®šä¹‰æ’åº" class="headerlink" title="è‡ªå®šä¹‰æ’åº"></a>è‡ªå®šä¹‰æ’åº</h2><figure class="highlight arduino"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs arduino"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">String</span>[] args)</span> </span>&#123;<br>    <span class="hljs-keyword">String</span>[] arr = <span class="hljs-keyword">new</span> <span class="hljs-keyword">String</span>[] &#123;<span class="hljs-string">&quot;3&quot;</span>, <span class="hljs-string">&quot;22&quot;</span>, <span class="hljs-string">&quot;1111&quot;</span>&#125;;<br>    <span class="hljs-comment">// æŒ‰ç…§é•¿åº¦é™åº</span><br>    Arrays.sort(arr, (s1, s2) -&gt; &#123;<br>        <span class="hljs-keyword">return</span> s2.length() - s1.length();<br>    &#125;);<br>    System.out.<span class="hljs-built_in">println</span>(Arrays.toString(arr));<br>&#125;<br></code></pre></div></td></tr></table></figure>
<h2 id="æ•°ç»„æ±‚å’Œ"><a href="#æ•°ç»„æ±‚å’Œ" class="headerlink" title="æ•°ç»„æ±‚å’Œ"></a>æ•°ç»„æ±‚å’Œ</h2><ul>
<li>Arrayså·¥å…·ç±»è½¬streamå†æ±‚å’Œ</li>
</ul>
<figure class="highlight smali"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs smali">int[]<span class="hljs-built_in"> array </span>=<span class="hljs-built_in"> new </span>int[]&#123;1,2,3&#125;;<br>Arrays.stream(array).sum();<br></code></pre></div></td></tr></table></figure>
<ul>
<li>for loop æ±‚å’Œï¼Œè™½ç„¶ä»£ç é‡æ¯”ä¸Šé¢çš„å¤§ä¸€ç‚¹ï¼Œä½†æ˜¯æ•ˆç‡æ¯”ä¸Šé¢çš„é«˜å¾ˆå¤šï¼Œå»ºè®®è¿˜æ˜¯ä½¿ç”¨for loopæ±‚å’Œï¼Œåˆ«æèŠ±é‡Œèƒ¡å“¨çš„</li>
</ul>
]]></content>
      <categories>
        <category>JavaSE</category>
      </categories>
  </entry>
  <entry>
    <title>javaä¸­æ•°ç»„å¤šç§éå†æ±‚å’Œçš„æ•ˆç‡åˆ†æ</title>
    <url>/2021/02/01/JavaSE/java%E4%B8%AD%E6%95%B0%E7%BB%84%E5%A4%9A%E7%A7%8D%E9%81%8D%E5%8E%86%E6%B1%82%E5%92%8C%E7%9A%84%E6%95%88%E7%8E%87%E5%88%86%E6%9E%90/</url>
    <content><![CDATA[<h1 id="javaä¸­æ•°ç»„å¤šç§éå†æ±‚å’Œçš„æ•ˆç‡åˆ†æ"><a href="#javaä¸­æ•°ç»„å¤šç§éå†æ±‚å’Œçš„æ•ˆç‡åˆ†æ" class="headerlink" title="javaä¸­æ•°ç»„å¤šç§éå†æ±‚å’Œçš„æ•ˆç‡åˆ†æ"></a>javaä¸­æ•°ç»„å¤šç§éå†æ±‚å’Œçš„æ•ˆç‡åˆ†æ</h1><h2 id="intå‹æ•°ç»„çš„éå†æ±‚å’Œæ•ˆç‡åˆ†æ"><a href="#intå‹æ•°ç»„çš„éå†æ±‚å’Œæ•ˆç‡åˆ†æ" class="headerlink" title="intå‹æ•°ç»„çš„éå†æ±‚å’Œæ•ˆç‡åˆ†æ"></a>intå‹æ•°ç»„çš„éå†æ±‚å’Œæ•ˆç‡åˆ†æ</h2><ul>
<li>è½¬æ¢æˆæµçš„å½¢å¼ï¼Œå†æ±‚å’Œã€‚IntStream.of(a).sum();</li>
<li>å¦ä¸€ç§è½¬æ¢æµæ±‚å’Œçš„æ–¹å¼ï¼ŒArrays.stream(a).sum();</li>
<li>æ™®é€šfor loop æ±‚å’Œï¼šfor i</li>
<li>å¢å¼ºfor loop æ±‚å’Œï¼šfor-each</li>
</ul>
<p>æµ‹è¯•æ–¹æ³•ä½¿ç”¨çš„æ˜¯ System.nanoTime() æ±‚å‡ºæ±‚å’Œæ®µçš„è¿è¡Œæ—¶é—´ï¼Œå•ä½ä¸ºçº³ç§’(10^-9 s)</p>
<h3 id="æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š"><a href="#æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š" class="headerlink" title="æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š"></a>æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</h3><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span>[] a = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">100</span>];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) &#123;<br>            a[i] = i + <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">long</span> l1, l2;<br>        <span class="hljs-keyword">int</span> sum1, sum2, sum3 = <span class="hljs-number">0</span>, sum4 = <span class="hljs-number">0</span>;<br><br>        l1 = System.nanoTime();<br>        sum1 = IntStream.of(a).sum();<br>        l2 = System.nanoTime();<br>        System.out.print(<span class="hljs-string">&quot;IntStream.of(a).sum(): &quot;</span>);<br>        System.out.println(sum1);<br>        System.out.println(l2 - l1);<br><br>        l1 = System.nanoTime();<br>        sum2 = Arrays.stream(a).sum();<br>        l2 = System.nanoTime();<br>        System.out.print(<span class="hljs-string">&quot;Arrays.stream(a).sum(): &quot;</span>);<br>        System.out.println(sum2);<br>        System.out.println(l2 - l1);<br><br>        l1 = System.nanoTime();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; a.length; i++) &#123;<br>            sum3 += a[i];<br>        &#125;<br>        l2 = System.nanoTime();<br>        System.out.print(<span class="hljs-string">&quot;for loop: &quot;</span>);<br>        System.out.println(sum3);<br>        System.out.println(l2 - l1);<br><br>        l1 = System.nanoTime();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i : a) &#123;<br>            sum4 += i;<br>        &#125;<br>        l2 = System.nanoTime();<br>        System.out.print(<span class="hljs-string">&quot;iterator loop: &quot;</span>);<br>        System.out.println(sum4);<br>        System.out.println(l2 - l1);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<blockquote>
<p>IntStream.of(a).sum(): 5050<br>24215600<br>Arrays.stream(a).sum(): 5050<br>184000<br>for loop: 5050<br>1600<br>iterator loop: 5050<br>1800</p>
</blockquote>
<p>æ±‚å’Œç»“æœéƒ½æ˜¯æ­£ç¡®çš„ã€‚æ‰€ä»¥æ ¹æ®æœ€åæ±‚å’Œé€Ÿåº¦è¿›è¡Œæ’åºï¼Œæ•ˆç‡ä»ä½åˆ°é«˜ï¼š</p>
<blockquote>
<p>IntStream.of(A).sum() &lt; Arrays.stream(A).sum() &lt; iterator loop &lt; for loop</p>
</blockquote>
]]></content>
      <categories>
        <category>JavaSE</category>
      </categories>
  </entry>
  <entry>
    <title>è´Ÿæ•°å–æ¨¡è¿ç®—</title>
    <url>/2020/05/27/JavaSE/%E8%B4%9F%E6%95%B0%E5%8F%96%E6%A8%A1%E8%BF%90%E7%AE%97/</url>
    <content><![CDATA[<h1 id="è´Ÿæ•°å–æ¨¡è¿ç®—"><a href="#è´Ÿæ•°å–æ¨¡è¿ç®—" class="headerlink" title="è´Ÿæ•°å–æ¨¡è¿ç®—"></a>è´Ÿæ•°å–æ¨¡è¿ç®—</h1><hr>
<h2 id="ä¸€ã€å¼•ä¾‹"><a href="#ä¸€ã€å¼•ä¾‹" class="headerlink" title="ä¸€ã€å¼•ä¾‹"></a>ä¸€ã€å¼•ä¾‹</h2><div class="hljs code-wrapper"><pre><code>System.out.println(&quot;3 % 5 = &quot; + 3 % 5);
System.out.println(&quot;-3 % 5 = &quot; + -3 % 5);
System.out.println(&quot;3 % -5 = &quot; + 3 % -5);
System.out.println(&quot;-3 % -5 = &quot; + -3 % -5);
</code></pre></div>
<blockquote>
<p> 3 % 5 = 3<br> -3 % 5 = -3<br> 3 % -5 = 3<br> -3 % -5 = -3  </p>
</blockquote>
<h3 id="è§„å¾‹"><a href="#è§„å¾‹" class="headerlink" title="è§„å¾‹"></a>è§„å¾‹</h3><blockquote>
<p>è¢«é™¤æ•°æ˜¯è´Ÿæ•°ï¼Œåˆ™å–æ¨¡åç¬¦å·ä¹Ÿä¸ºè´Ÿ</p>
</blockquote>
<blockquote>
<p>è¢«é™¤æ•°æ˜¯æ­£æ•°ï¼Œåˆ™å–æ¨¡åç¬¦å·ä¹Ÿä¸ºæ­£</p>
</blockquote>
<blockquote>
<p>ç»“æœçš„ç¬¦å·ä¸é™¤æ•°çš„æ­£è´Ÿå·æ— å…³</p>
</blockquote>
<h2 id="äºŒã€æ•´æ•°é™¤æ³•é—®é¢˜"><a href="#äºŒã€æ•´æ•°é™¤æ³•é—®é¢˜" class="headerlink" title="äºŒã€æ•´æ•°é™¤æ³•é—®é¢˜"></a>äºŒã€æ•´æ•°é™¤æ³•é—®é¢˜</h2><ul>
<li><p>å‘ä¸Šå–æ•´(Ceiling) å‘Xè½´æ­£æ–¹å‘å–æ•´ï¼Œå³å–æ¯”å®é™…ç»“æœç¨å¤§çš„æ•°<br>æ¯”å¦‚ï¼š17 / 8 == 3ï¼Œ 8 / 3 == 3ï¼Œ-9 / 4 == -2</p>
</li>
<li><p>å‘ä¸‹å–æ•´(Floor) å‘Xè½´è´Ÿæ–¹å‘å–æ•´ï¼Œå³å–æ¯”å®é™…ç»“æœç¨å°çš„æ•°<br>æ¯”å¦‚ï¼š17 / 8 == 2ï¼Œ 8 / 3 == 2ï¼Œ-9 / 4 == -3</p>
</li>
<li><p>å‘é›¶å–æ•´(Truncate) å‘åŸç‚¹æ–¹å‘å–æ•´ï¼Œå³ç›´æ¥çœç•¥å°æ•°éƒ¨åˆ†ï¼Œå–æ•´<br>æ¯”å¦‚ï¼š17 / 8 == 2ï¼Œ 8 / 3 == 2ï¼Œ-9 / 4 == -2</p>
</li>
</ul>
<h2 id="ä¸‰ã€å–æ¨¡é€šç”¨å…¬å¼"><a href="#ä¸‰ã€å–æ¨¡é€šç”¨å…¬å¼" class="headerlink" title="ä¸‰ã€å–æ¨¡é€šç”¨å…¬å¼"></a>ä¸‰ã€å–æ¨¡é€šç”¨å…¬å¼</h2><blockquote>
<p>a % b = r</p>
</blockquote>
<blockquote>
<p>r = a - (a/b) * b</p>
</blockquote>
<h2 id="å››ã€è®¡ç®—æœºè¯­è¨€å·®å¼‚æ€§"><a href="#å››ã€è®¡ç®—æœºè¯­è¨€å·®å¼‚æ€§" class="headerlink" title="å››ã€è®¡ç®—æœºè¯­è¨€å·®å¼‚æ€§"></a>å››ã€è®¡ç®—æœºè¯­è¨€å·®å¼‚æ€§</h2><ul>
<li><p>C/Java<br>é‡‡ç”¨Truncateé™¤æ³•ï¼Œå³å‘é›¶å–æ•´</p>
</li>
<li><p>Python<br>é‡‡ç”¨Flooré™¤æ³•ï¼Œå³å‘ä¸‹å–æ•´</p>
</li>
</ul>
<h2 id="äº”ã€Truncateé™¤æ³•çš„é—®é¢˜"><a href="#äº”ã€Truncateé™¤æ³•çš„é—®é¢˜" class="headerlink" title="äº”ã€Truncateé™¤æ³•çš„é—®é¢˜"></a>äº”ã€Truncateé™¤æ³•çš„é—®é¢˜</h2><p>åœ¨ä¸€äº›é¢˜ç›®ä¸­ï¼Œæ•°ç»„å…ƒç´ å¯èƒ½å‡ºç°è´Ÿæ•°ï¼Œè¿™æ ·å¯¼è‡´å–æ¨¡çš„æ—¶å€™ï¼Œä¼šå‡ºç°å–æ•´é—®é¢˜çš„æ­§ä¹‰</p>
<blockquote>
<p>åœ¨Javaä¸­ï¼Œé»˜è®¤Truncateé™¤æ³•ï¼Œä¸ºé¿å…æ­§ä¹‰å¯ä»¥ä½¿ç”¨ï¼š</p>
</blockquote>
<blockquote>
<p>1ã€ä½¿ç”¨Math.floorModæ–¹æ³•è¿›è¡ŒFlooré™¤æ³•</p>
</blockquote>
<blockquote>
<p>2ã€å¦‚åœ¨å‰ç¼€å’Œè®¡ç®—ä¸­ï¼Œç”¨<br>int modulus = <strong>(sum % K + K) % k</strong>;<br>è€Œä¸ç”¨ <strong>sum % k</strong>ï¼Œé¿å…è´Ÿæ•°å¹²æ‰°ç»“æœ</p>
</blockquote>
]]></content>
      <categories>
        <category>JavaSE</category>
      </categories>
  </entry>
  <entry>
    <title>è™šæ‹Ÿæœºä¸‹Linuxé…ç½®é™æ€ipï¼Œä½¿å¾—XShellæˆåŠŸè¿æ¥</title>
    <url>/2021/01/23/Linux/%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%8BLinux%E9%85%8D%E7%BD%AE%E9%9D%99%E6%80%81ip%EF%BC%8C%E4%BD%BF%E5%BE%97XShell%E6%88%90%E5%8A%9F%E8%BF%9E%E6%8E%A5/</url>
    <content><![CDATA[<h1 id="è™šæ‹Ÿæœºä¸‹Linuxé…ç½®é™æ€ipï¼Œä½¿å¾—XShellæˆåŠŸè¿æ¥"><a href="#è™šæ‹Ÿæœºä¸‹Linuxé…ç½®é™æ€ipï¼Œä½¿å¾—XShellæˆåŠŸè¿æ¥" class="headerlink" title="è™šæ‹Ÿæœºä¸‹Linuxé…ç½®é™æ€ipï¼Œä½¿å¾—XShellæˆåŠŸè¿æ¥"></a>è™šæ‹Ÿæœºä¸‹Linuxé…ç½®é™æ€ipï¼Œä½¿å¾—XShellæˆåŠŸè¿æ¥</h1><ul>
<li>Linuxï¼šcentOS6.7</li>
<li>è™šæ‹Ÿæœºï¼šVMware Workstation Pro15</li>
<li>SSHå®¢æˆ·ç«¯ï¼šXShell6</li>
</ul>
<h2 id="ä¸€ã€é…ç½®VMwareçš„è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨"><a href="#ä¸€ã€é…ç½®VMwareçš„è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨" class="headerlink" title="ä¸€ã€é…ç½®VMwareçš„è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨"></a>ä¸€ã€é…ç½®VMwareçš„è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨</h2><p>è¿›VMwareä¹‹å‰ï¼Œå³é”®ï¼Œç”¨ç®¡ç†å‘˜æ¨¡å¼æ‰“å¼€ï¼Œåé¢éœ€è¦ç®¡ç†å‘˜æƒé™ï¼Œå…ˆä¸è¦å¼€è™šæ‹Ÿæœº</p>
<blockquote>
<p>èœå•æ ï¼ˆæœ€é¡¶ä¸Šä¸€æ ï¼‰ -&gt; ç¼–è¾‘ -&gt;  è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨</p>
</blockquote>
<p><a href="https://imgtu.com/i/sTn2BF"><img src="https://z3.ax1x.com/2021/01/23/sTn2BF.png" alt="sTn2BF.png"></a></p>
<p>æŒ‰ç…§â‘ â‘¡é…ç½®ï¼Œ<strong>æŠŠâ‘¢çš„å­ç½‘IPè®°ä½</strong>ï¼Œåé¢è¦ç”¨åˆ°ã€‚</p>
<p>ç„¶åç‚¹å‡»â‘£è¿›å…¥NATè®¾ç½®ã€‚</p>
<p><img src="https://s3.ax1x.com/2021/01/23/sT1Epd.png" alt="NATè®¾ç½®"></p>
<p>â‘ ä¸­é…ç½®<strong>é»˜è®¤ç½‘å…³</strong>ï¼Œå…¶ä¸­å‰ä¸‰å¤§ä½è¦ä¸å‰é¢è®°ä½çš„å­ç½‘IPå‰é¢ç›¸åŒï¼Œåé¢é»˜è®¤ä¼šé…ç½®2ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰ã€‚ç„¶åè¯¥é»˜è®¤ç½‘å…³192.168.248.2è¦è®°ä½ï¼Œåé¢éœ€è¦ç”¨åˆ°ã€‚</p>
<p>â‘¡ç…§åšå°±è¡Œ</p>
<p>â‘¢æŒ‰ç¡®å®šè¿”å›ä¸Šå›¾ï¼Œå†ç‚¹å‡»ä¸‹æ ç¡®å®šå°±å¯ä»¥ä¿å­˜è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨çš„é…ç½®ã€‚</p>
<h2 id="äºŒã€é…ç½®VMware-Network-Adapter-VMnet8çš„æŒ‡å®šIP"><a href="#äºŒã€é…ç½®VMware-Network-Adapter-VMnet8çš„æŒ‡å®šIP" class="headerlink" title="äºŒã€é…ç½®VMware Network Adapter VMnet8çš„æŒ‡å®šIP"></a>äºŒã€é…ç½®VMware Network Adapter VMnet8çš„æŒ‡å®šIP</h2><blockquote>
<p> windowsè®¾ç½® -&gt; ç½‘ç»œå’ŒInternet -&gt; æ›´æ”¹é€‚é…å™¨é€‰é¡¹ -&gt;  å³é”®VMware Network Adapter VMnet8è¿›å…¥å±æ€§</p>
</blockquote>
<p><a href="https://imgchr.com/i/sT86w6"><img src="https://s3.ax1x.com/2021/01/23/sT86w6.png" alt="sT86w6.png"></a></p>
<p><a href="https://imgchr.com/i/sT8vlj"><img src="https://s3.ax1x.com/2021/01/23/sT8vlj.png" alt="sT8vlj.png"></a></p>
<p><a href="https://imgchr.com/i/sTGUBt"><img src="https://s3.ax1x.com/2021/01/23/sTGUBt.png" alt="VMnet8å±æ€§"></a></p>
<p>â‘ é€‰æ‹©IPv4çš„é¡¹ç›®ï¼Œâ‘¡ç„¶åè¿›å…¥å±æ€§ã€‚</p>
<p><a href="https://imgchr.com/i/sTGqD1"><img src="https://s3.ax1x.com/2021/01/23/sTGqD1.png" alt="sTGqD1.png"></a></p>
<p>é»˜è®¤æ˜¯è‡ªåŠ¨è·å¾—IPåœ°å€ï¼Œå‹¾é€‰â€œä½¿ç”¨ä¸‹é¢çš„IPåœ°å€â€è‡ªå®šä¹‰IP</p>
<p>â‘ é…ç½®IPåœ°å€ï¼Œå‰ä¸‰ä½åŒè™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨é…ç½®çš„å­ç½‘IPå‰ä¸‰ä½ç›¸åŒï¼Œæœ€åä¸€ä½çš„1è‡ªå®šä¹‰ï¼Œè¿™é‡Œæˆ‘è®¾ç½®ä¸º1</p>
<p>â‘¡é…å®Œâ‘ ä¸€èˆ¬å­ç½‘æ©ç ä¼šè‡ªåŠ¨å¡«å¥½ï¼Œæ²¡è‡ªåŠ¨è¡¥ä¸Šå°±å¡«ä¸Šè™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨é‡Œçš„å­ç½‘æ©ç ã€‚</p>
<p>â‘¢é»˜è®¤ç½‘å…³å°±æ˜¯å¹²èœè™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨é‡Œé¢NATè®¾ç½®é‡Œçš„é‚£ä¸ªé»˜è®¤ç½‘å…³ã€‚</p>
<p>â‘£ç¡®å®šä¿å­˜ï¼Œç„¶åå†ç¡®å®šå°±ä¿å­˜æˆåŠŸäº†ã€‚</p>
<h2 id="ä¸‰ã€é…ç½®ç½‘ç»œé€‚é…å™¨"><a href="#ä¸‰ã€é…ç½®ç½‘ç»œé€‚é…å™¨" class="headerlink" title="ä¸‰ã€é…ç½®ç½‘ç»œé€‚é…å™¨"></a>ä¸‰ã€é…ç½®ç½‘ç»œé€‚é…å™¨</h2><p>ç®¡ç†å‘˜æ¨¡å¼è¿›å…¥VMwareï¼Œé€‰æ‹©è¦é…ç½®çš„é‚£å°è™šæ‹Ÿæœºï¼Œè¿›å…¥ç½‘ç»œé€‚é…å™¨</p>
<p><a href="https://imgchr.com/i/sTYOfO"><img src="https://s3.ax1x.com/2021/01/23/sTYOfO.png" alt="sTYOfO.png"></a></p>
<p><a href="https://imgchr.com/i/sTtE9S"><img src="https://s3.ax1x.com/2021/01/23/sTtE9S.png" alt="sTtE9S.png"></a></p>
<p>å¦‚å›¾é…ç½®å³å¯ã€‚</p>
<h2 id="å››ã€é…ç½®ifcfg-eth0æ–‡ä»¶"><a href="#å››ã€é…ç½®ifcfg-eth0æ–‡ä»¶" class="headerlink" title="å››ã€é…ç½®ifcfg-eth0æ–‡ä»¶"></a>å››ã€é…ç½®ifcfg-eth0æ–‡ä»¶</h2><p>æ‰“å¼€è™šæ‹Ÿæœºï¼Œå»ºè®®ç”¨rootç”¨æˆ·ç™»å½•ï¼Œæ–¹ä¾¿åé¢å¯¹ifcfg-eth0æ–‡ä»¶è¿›è¡Œç¼–è¾‘ã€‚</p>
<p>æ‰“å¼€terminalç»ˆç«¯ï¼Œè¾“å…¥æŒ‡ä»¤ï¼š<strong>vim /etc/sysconfig/network-scripts/ifcfg-eth0</strong></p>
<p>è¿™æ˜¯ä½¿ç”¨ç»ˆç«¯vimçš„æ–¹å¼ä¿®æ”¹ï¼Œä¸ä¼švimæ“ä½œçš„è‡ªè¡Œç™¾åº¦ï¼Œæˆ–è€…æ ¹æ®ä¸Šé¢çš„è·¯åŠ²å»æ‰¾ifcfg-eth0æ–‡ä»¶æ‰“å¼€è¿›è¡Œä¿®æ”¹ã€‚</p>
<p>ä¸‹é¢çš„é…ç½®å»ºè®®å¯¹å­—æ®µè¿›è¡Œå¤åˆ¶ï¼Œé˜²æ­¢é…é”™ã€‚</p>
<ol>
<li><strong>ä»¥ä¸‹è¿›è¡Œä¿®æ”¹</strong></li>
</ol>
<ul>
<li>ONBOOT=yes  # ç³»ç»Ÿå¯åŠ¨æ—¶æ˜¯å¦è®¾ç½®æ­¤ç½‘ç»œæ¥å£ï¼Œè®¾ç½®ä¸ºyesæ—¶ï¼Œç³»ç»Ÿå¯åŠ¨æ—¶æ¿€æ´»æ­¤è®¾å¤‡ã€‚</li>
<li>BOOTPROTO=static  # é™æ€æ¨¡å¼</li>
</ul>
<ol start="2">
<li><strong>å°†ä¸‹é¢çš„å­—æ®µè¿½åŠ åˆ°æœ€åä¸€è¡Œï¼Œæ ¹æ®æ³¨é‡Šè¿›è¡Œç›¸åº”çš„é…ç½®</strong></li>
</ol>
<ul>
<li>IPADDR=192.168.248.128    # è‡ªå®šä¹‰çš„IPåœ°å€ï¼Œç”¨XShellå¯¹æœåŠ¡å™¨è¿›è¡Œè¿æ¥çš„IPï¼Œå‰ä¸‰ä½ä¸å‰é¢ä¿æŒä¸€è‡´</li>
<li>NETMASK=255.255.255.0    # å­ç½‘æ©ç </li>
<li>NETWORK=192.168.248.0   #  ç½‘ç»œåœ°å€ï¼Œä¸è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨è®¾ç½®çš„ä¸€æ ·</li>
<li>BROADCAST=192.168.248.255  # å¹¿æ’­åœ°å€ï¼Œå‰ä¸‰ä½ä¸å‰é¢ä¸€è‡´ï¼Œæœ€åä¸€ä½255</li>
<li>DNS1=192.168.248.2  # DNSåœ°å€ï¼Œä¸é»˜è®¤ç½‘å…³ç›¸åŒ</li>
<li>GATEWAY=192.168.248.2  # é»˜è®¤ç½‘å…³</li>
</ul>
<p>ç„¶åesc : wqä¿å­˜</p>
<p>é€€å‡ºåï¼Œç»ˆç«¯è¾“å…¥æŒ‡ä»¤ï¼š<strong>service network restart</strong>  é‡å¯ç½‘ç»œ</p>
<p>ç„¶å ping baidu.comï¼Œçœ‹èƒ½ä¸èƒ½pingé€šï¼Œèƒ½è¯´æ˜èƒ½ä¸Šç½‘ã€‚</p>
<p>è¾“å…¥æŒ‡ä»¤ï¼šifconfigï¼ŒæŸ¥çœ‹åˆšæ‰è‡ªå®šä¹‰çš„é™æ€ipåœ°å€æ˜¯å¦é…ç½®æˆåŠŸã€‚</p>
<p><a href="https://imgchr.com/i/sTa2DJ"><img src="https://s3.ax1x.com/2021/01/23/sTa2DJ.png" alt="sTa2DJ.png"></a></p>
<h2 id="äº”ã€SSHå®¢æˆ·ç«¯è¿æ¥æœåŠ¡å™¨"><a href="#äº”ã€SSHå®¢æˆ·ç«¯è¿æ¥æœåŠ¡å™¨" class="headerlink" title="äº”ã€SSHå®¢æˆ·ç«¯è¿æ¥æœåŠ¡å™¨"></a>äº”ã€SSHå®¢æˆ·ç«¯è¿æ¥æœåŠ¡å™¨</h2><p>å¯ä»¥å…ˆæœ¬åœ°cmdä¸­ping ä¸€ä¸‹æœåŠ¡å™¨</p>
<p><a href="https://imgchr.com/i/sTdFbj"><img src="https://s3.ax1x.com/2021/01/23/sTdFbj.png" alt="sTdFbj.png"></a></p>
<p>å¦‚å›¾èƒ½pingé€šï¼Œæ¥ä¸‹æ¥è¿›å…¥XShellï¼Œå°†è¯¥ipè¿æ¥å°±å¯ä»¥äº†ï¼Œè‡³æ­¤è™šæ‹Ÿæœºé™æ€IPé…ç½®ç»“æŸã€‚</p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
  </entry>
  <entry>
    <title>Mybatis-plus</title>
    <url>/2021/03/20/SSM/mybatis-plus/</url>
    <content><![CDATA[<h3 id="MyBatis-Plus"><a href="#MyBatis-Plus" class="headerlink" title="MyBatis Plus"></a>MyBatis Plus</h3><p>å›½äº§çš„å¼€æºæ¡†æ¶ï¼ŒåŸºäº MyBatis</p>
<p>æ ¸å¿ƒåŠŸèƒ½å°±æ˜¯ç®€åŒ– MyBatis çš„å¼€å‘ï¼Œæé«˜æ•ˆç‡ã€‚</p>
<h3 id="MyBatis-Plus-å¿«é€Ÿä¸Šæ‰‹"><a href="#MyBatis-Plus-å¿«é€Ÿä¸Šæ‰‹" class="headerlink" title="MyBatis Plus å¿«é€Ÿä¸Šæ‰‹"></a>MyBatis Plus å¿«é€Ÿä¸Šæ‰‹</h3><p>Spring Boot(2.3.0) + MyBatis Plusï¼ˆå›½äº§çš„å¼€æºæ¡†æ¶ï¼Œå¹¶æ²¡æœ‰æ¥å…¥åˆ° Spring å®˜æ–¹å­µåŒ–å™¨ä¸­ï¼‰</p>
<p>1ã€åˆ›å»º Maven å·¥ç¨‹</p>
<p><a href="https://imgtu.com/i/cAs0KO"><img src="https://z3.ax1x.com/2021/03/31/cAs0KO.png" alt="cAs0KO.png"></a></p>
<p>2ã€pom.xml å¼•å…¥ MyBatis Plus çš„ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.baomidou<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.3.1.tmp<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<p>3ã€åˆ›å»ºå®ä½“ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.southwind.mybatisplus.entity;<br><br><span class="hljs-keyword">import</span> lombok.Data;<br><br><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> Integer id;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> Integer age;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>4ã€åˆ›å»º Mapper æ¥å£</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.southwind.mybatisplus.mapper;<br><br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;<br><span class="hljs-keyword">import</span> com.southwind.mybatisplus.entity.User;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserMapper</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseMapper</span>&lt;<span class="hljs-title">User</span>&gt; </span>&#123;<br><br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>5ã€application.yml</p>
<figure class="highlight yaml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs yaml"><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">datasource:</span><br>    <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span><br>    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/db?useUnicode=true&amp;characterEncoding=UTF-8</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">root</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-string">root</span><br><span class="hljs-attr">mybatis-plus:</span><br>  <span class="hljs-attr">configuration:</span><br>    <span class="hljs-attr">log-impl:</span> <span class="hljs-string">org.apache.ibatis.logging.stdout.StdOutImpl</span><br></code></pre></div></td></tr></table></figure>
<p>6ã€å¯åŠ¨ç±»éœ€è¦æ·»åŠ  @MapperScan(â€œmapperæ‰€åœ¨çš„åŒ…â€)ï¼Œå¦åˆ™æ— æ³•åŠ è½½ Mppaer beanã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.southwind.mybatisplus;<br><br><span class="hljs-keyword">import</span> org.mybatis.spring.annotation.MapperScan;<br><span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;<br><span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;<br><br><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-meta">@MapperScan(&quot;com.southwind.mybatisplus.mapper&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MybatisplusApplication</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        SpringApplication.run(MybatisplusApplication.class, args);<br>    &#125;<br><br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>7ã€æµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.southwind.mybatisplus.mapper;<br><br><span class="hljs-keyword">import</span> org.junit.jupiter.api.Test;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.boot.test.context.SpringBootTest;<br><br><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserMapperTest</span> </span>&#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper mapper;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>&#123;<br>        mapper.selectList(<span class="hljs-keyword">null</span>).forEach(System.out::println);<br>    &#125;<br><br>&#125;<br></code></pre></div></td></tr></table></figure>


<h3 id="å¸¸ç”¨æ³¨è§£"><a href="#å¸¸ç”¨æ³¨è§£" class="headerlink" title="å¸¸ç”¨æ³¨è§£"></a>å¸¸ç”¨æ³¨è§£</h3><blockquote>
<p>@TableName</p>
</blockquote>
<p>æ˜ å°„æ•°æ®åº“çš„è¡¨å</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.southwind.mybatisplus.entity;<br><br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.TableName;<br><span class="hljs-keyword">import</span> lombok.Data;<br><br><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@TableName(value = &quot;user&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Account</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> Integer id;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> Integer age;<br>&#125;<br></code></pre></div></td></tr></table></figure>


<blockquote>
<p>@TableId</p>
</blockquote>
<p>è®¾ç½®ä¸»é”®æ˜ å°„ï¼Œvalue æ˜ å°„ä¸»é”®å­—æ®µå</p>
<p>type è®¾ç½®ä¸»é”®ç±»å‹ï¼Œä¸»é”®çš„ç”Ÿæˆç­–ç•¥ï¼Œ</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">AUTO(<span class="hljs-number">0</span>),<br>NONE(<span class="hljs-number">1</span>),<br>INPUT(<span class="hljs-number">2</span>),<br>ASSIGN_ID(<span class="hljs-number">3</span>),<br>ASSIGN_UUID(<span class="hljs-number">4</span>),<br><span class="hljs-comment">/** <span class="hljs-doctag">@deprecated</span> */</span><br><span class="hljs-meta">@Deprecated</span><br>ID_WORKER(<span class="hljs-number">3</span>),<br><span class="hljs-comment">/** <span class="hljs-doctag">@deprecated</span> */</span><br><span class="hljs-meta">@Deprecated</span><br>ID_WORKER_STR(<span class="hljs-number">3</span>),<br><span class="hljs-comment">/** <span class="hljs-doctag">@deprecated</span> */</span><br><span class="hljs-meta">@Deprecated</span><br>UUID(<span class="hljs-number">4</span>);<br></code></pre></div></td></tr></table></figure>
<table>
<thead>
<tr>
<th>å€¼</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>AUTO</td>
<td>æ•°æ®åº“è‡ªå¢</td>
</tr>
<tr>
<td>NONE</td>
<td>MP set ä¸»é”®ï¼Œé›ªèŠ±ç®—æ³•å®ç°</td>
</tr>
<tr>
<td>INPUT</td>
<td>éœ€è¦å¼€å‘è€…æ‰‹åŠ¨èµ‹å€¼</td>
</tr>
<tr>
<td>ASSIGN_ID</td>
<td>MP åˆ†é… IDï¼ŒLongã€Integerã€String</td>
</tr>
<tr>
<td>ASSIGN_UUID</td>
<td>åˆ†é… UUIDï¼ŒStrinig</td>
</tr>
</tbody></table>
<p>INPUT å¦‚æœå¼€å‘è€…æ²¡æœ‰æ‰‹åŠ¨èµ‹å€¼ï¼Œåˆ™æ•°æ®åº“é€šè¿‡è‡ªå¢çš„æ–¹å¼ç»™ä¸»é”®èµ‹å€¼ï¼Œå¦‚æœå¼€å‘è€…æ‰‹åŠ¨èµ‹å€¼ï¼Œåˆ™å­˜å…¥è¯¥å€¼ã€‚</p>
<p>AUTO é»˜è®¤å°±æ˜¯æ•°æ®åº“è‡ªå¢ï¼Œå¼€å‘è€…æ— éœ€èµ‹å€¼ã€‚</p>
<p>ASSIGN_ID MP è‡ªåŠ¨èµ‹å€¼ï¼Œé›ªèŠ±ç®—æ³•ã€‚</p>
<p>ASSIGN_UUID ä¸»é”®çš„æ•°æ®ç±»å‹å¿…é¡»æ˜¯ Stringï¼Œè‡ªåŠ¨ç”Ÿæˆ UUID è¿›è¡Œèµ‹å€¼</p>
<blockquote>
<p>@TableField</p>
</blockquote>
<p>æ˜ å°„éä¸»é”®å­—æ®µï¼Œvalue æ˜ å°„å­—æ®µå</p>
<p>exist è¡¨ç¤ºæ˜¯å¦ä¸ºæ•°æ®åº“å­—æ®µ falseï¼Œå¦‚æœå®ä½“ç±»ä¸­çš„æˆå‘˜å˜é‡åœ¨æ•°æ®åº“ä¸­æ²¡æœ‰å¯¹åº”çš„å­—æ®µï¼Œåˆ™å¯ä»¥ä½¿ç”¨ existï¼ŒVOã€DTO</p>
<p>select è¡¨ç¤ºæ˜¯å¦æŸ¥è¯¢è¯¥å­—æ®µ</p>
<p>fill è¡¨ç¤ºæ˜¯å¦è‡ªåŠ¨å¡«å……ï¼Œå°†å¯¹è±¡å­˜å…¥æ•°æ®åº“çš„æ—¶å€™ï¼Œç”± MyBatis Plus è‡ªåŠ¨ç»™æŸäº›å­—æ®µèµ‹å€¼ï¼Œcreate_timeã€update_time</p>
<p>1ã€ç»™è¡¨æ·»åŠ  create_timeã€update_time å­—æ®µ</p>
<p>2ã€å®ä½“ç±»ä¸­æ·»åŠ æˆå‘˜å˜é‡</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.southwind.mybatisplus.entity;<br><br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.FieldFill;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.TableField;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.TableName;<br><span class="hljs-keyword">import</span> lombok.Data;<br><br><span class="hljs-keyword">import</span> java.util.Date;<br><br><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@TableName(value = &quot;user&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <span class="hljs-meta">@TableId</span><br>    <span class="hljs-keyword">private</span> String id;<br>    <span class="hljs-meta">@TableField(value = &quot;name&quot;,select = false)</span><br>    <span class="hljs-keyword">private</span> String title;<br>    <span class="hljs-keyword">private</span> Integer age;<br>    <span class="hljs-meta">@TableField(exist = false)</span><br>    <span class="hljs-keyword">private</span> String gender;<br>    <span class="hljs-meta">@TableField(fill = FieldFill.INSERT)</span><br>    <span class="hljs-keyword">private</span> Date createTime;<br>    <span class="hljs-meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span><br>    <span class="hljs-keyword">private</span> Date updateTime;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>3ã€åˆ›å»ºè‡ªåŠ¨å¡«å……å¤„ç†å™¨</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.southwind.mybatisplus.handler;<br><br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.handlers.MetaObjectHandler;<br><span class="hljs-keyword">import</span> org.apache.ibatis.reflection.MetaObject;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Component;<br><br><span class="hljs-keyword">import</span> java.util.Date;<br><br><span class="hljs-meta">@Component</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyMetaObjectHandler</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">MetaObjectHandler</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">insertFill</span><span class="hljs-params">(MetaObject metaObject)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.setFieldValByName(<span class="hljs-string">&quot;createTime&quot;</span>,<span class="hljs-keyword">new</span> Date(),metaObject);<br>        <span class="hljs-keyword">this</span>.setFieldValByName(<span class="hljs-string">&quot;updateTime&quot;</span>,<span class="hljs-keyword">new</span> Date(),metaObject);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">updateFill</span><span class="hljs-params">(MetaObject metaObject)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.setFieldValByName(<span class="hljs-string">&quot;updateTime&quot;</span>,<span class="hljs-keyword">new</span> Date(),metaObject);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>


<blockquote>
<p>@Version</p>
</blockquote>
<p>æ ‡è®°ä¹è§‚é”ï¼Œé€šè¿‡ version å­—æ®µæ¥ä¿è¯æ•°æ®çš„å®‰å…¨æ€§ï¼Œå½“ä¿®æ”¹æ•°æ®çš„æ—¶å€™ï¼Œä¼šä»¥ version ä½œä¸ºæ¡ä»¶ï¼Œå½“æ¡ä»¶æˆç«‹çš„æ—¶å€™æ‰ä¼šä¿®æ”¹æˆåŠŸã€‚</p>
<p>version = 2</p>
<p>çº¿ç¨‹ 1:update â€¦ set version = 2  where version = 1</p>
<p>çº¿ç¨‹2 ï¼šupdate â€¦ set version = 2 where version = 1</p>
<p>1ã€æ•°æ®åº“è¡¨æ·»åŠ  version å­—æ®µï¼Œé»˜è®¤å€¼ä¸º 1</p>
<p>2ã€å®ä½“ç±»æ·»åŠ  version æˆå‘˜å˜é‡ï¼Œå¹¶ä¸”æ·»åŠ  @Version </p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.southwind.mybatisplus.entity;<br><br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.*;<br><span class="hljs-keyword">import</span> lombok.Data;<br><br><span class="hljs-keyword">import</span> java.util.Date;<br><br><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@TableName(value = &quot;user&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <span class="hljs-meta">@TableId</span><br>    <span class="hljs-keyword">private</span> String id;<br>    <span class="hljs-meta">@TableField(value = &quot;name&quot;,select = false)</span><br>    <span class="hljs-keyword">private</span> String title;<br>    <span class="hljs-keyword">private</span> Integer age;<br>    <span class="hljs-meta">@TableField(exist = false)</span><br>    <span class="hljs-keyword">private</span> String gender;<br>    <span class="hljs-meta">@TableField(fill = FieldFill.INSERT)</span><br>    <span class="hljs-keyword">private</span> Date createTime;<br>    <span class="hljs-meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span><br>    <span class="hljs-keyword">private</span> Date updateTime;<br>    <span class="hljs-meta">@Version</span><br>    <span class="hljs-keyword">private</span> Integer version;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>3ã€æ³¨å†Œé…ç½®ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.southwind.mybatisplus.config;<br><br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.extension.plugins.OptimisticLockerInterceptor;<br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Bean;<br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;<br><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBatisPlusConfig</span> </span>&#123;<br>    <br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> OptimisticLockerInterceptor <span class="hljs-title">optimisticLockerInterceptor</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> OptimisticLockerInterceptor();<br>    &#125;<br>    <br>&#125;<br></code></pre></div></td></tr></table></figure>


<blockquote>
<p>@EnumValue</p>
</blockquote>
<p>1ã€é€šç”¨æšä¸¾ç±»æ³¨è§£ï¼Œå°†æ•°æ®åº“å­—æ®µæ˜ å°„æˆå®ä½“ç±»çš„æšä¸¾ç±»å‹æˆå‘˜å˜é‡</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.southwind.mybatisplus.enums;<br><br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.EnumValue;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">StatusEnum</span> </span>&#123;<br>    WORK(<span class="hljs-number">1</span>,<span class="hljs-string">&quot;ä¸Šç­&quot;</span>),<br>    REST(<span class="hljs-number">0</span>,<span class="hljs-string">&quot;ä¼‘æ¯&quot;</span>);<br><br>    StatusEnum(Integer code, String msg) &#123;<br>        <span class="hljs-keyword">this</span>.code = code;<br>        <span class="hljs-keyword">this</span>.msg = msg;<br>    &#125;<br><br>    <span class="hljs-meta">@EnumValue</span><br>    <span class="hljs-keyword">private</span> Integer code;<br>    <span class="hljs-keyword">private</span> String msg;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.southwind.mybatisplus.entity;<br><br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.*;<br><span class="hljs-keyword">import</span> com.southwind.mybatisplus.enums.StatusEnum;<br><span class="hljs-keyword">import</span> lombok.Data;<br><br><span class="hljs-keyword">import</span> java.util.Date;<br><br><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@TableName(value = &quot;user&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <span class="hljs-meta">@TableId</span><br>    <span class="hljs-keyword">private</span> String id;<br>    <span class="hljs-meta">@TableField(value = &quot;name&quot;,select = false)</span><br>    <span class="hljs-keyword">private</span> String title;<br>    <span class="hljs-keyword">private</span> Integer age;<br>    <span class="hljs-meta">@TableField(exist = false)</span><br>    <span class="hljs-keyword">private</span> String gender;<br>    <span class="hljs-meta">@TableField(fill = FieldFill.INSERT)</span><br>    <span class="hljs-keyword">private</span> Date createTime;<br>    <span class="hljs-meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span><br>    <span class="hljs-keyword">private</span> Date updateTime;<br>    <span class="hljs-meta">@Version</span><br>    <span class="hljs-keyword">private</span> Integer version;<br>    <span class="hljs-keyword">private</span> StatusEnum status;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>application.yml</p>
<figure class="highlight yaml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs yaml"><span class="hljs-attr">type-enums-package:</span> <br>  <span class="hljs-string">com.southwind.mybatisplus.enums</span><br></code></pre></div></td></tr></table></figure>
<p>2ã€å®ç°æ¥å£</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.southwind.mybatisplus.enums;<br><br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.enums.IEnum;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">AgeEnum</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">IEnum</span>&lt;<span class="hljs-title">Integer</span>&gt; </span>&#123;<br>    ONE(<span class="hljs-number">1</span>,<span class="hljs-string">&quot;ä¸€å²&quot;</span>),<br>    TWO(<span class="hljs-number">2</span>,<span class="hljs-string">&quot;ä¸¤å²&quot;</span>),<br>    THREE(<span class="hljs-number">3</span>,<span class="hljs-string">&quot;ä¸‰å²&quot;</span>);<br><br>    <span class="hljs-keyword">private</span> Integer code;<br>    <span class="hljs-keyword">private</span> String msg;<br><br>    AgeEnum(Integer code, String msg) &#123;<br>        <span class="hljs-keyword">this</span>.code = code;<br>        <span class="hljs-keyword">this</span>.msg = msg;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Integer <span class="hljs-title">getValue</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.code;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>


<blockquote>
<p>@TableLogic</p>
</blockquote>
<p>æ˜ å°„é€»è¾‘åˆ é™¤</p>
<p>1ã€æ•°æ®è¡¨æ·»åŠ  deleted å­—æ®µ</p>
<p>2ã€å®ä½“ç±»æ·»åŠ æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.southwind.mybatisplus.entity;<br><br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.*;<br><span class="hljs-keyword">import</span> com.southwind.mybatisplus.enums.AgeEnum;<br><span class="hljs-keyword">import</span> com.southwind.mybatisplus.enums.StatusEnum;<br><span class="hljs-keyword">import</span> lombok.Data;<br><br><span class="hljs-keyword">import</span> java.util.Date;<br><br><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@TableName(value = &quot;user&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <span class="hljs-meta">@TableId</span><br>    <span class="hljs-keyword">private</span> String id;<br>    <span class="hljs-meta">@TableField(value = &quot;name&quot;,select = false)</span><br>    <span class="hljs-keyword">private</span> String title;<br>    <span class="hljs-keyword">private</span> AgeEnum age;<br>    <span class="hljs-meta">@TableField(exist = false)</span><br>    <span class="hljs-keyword">private</span> String gender;<br>    <span class="hljs-meta">@TableField(fill = FieldFill.INSERT)</span><br>    <span class="hljs-keyword">private</span> Date createTime;<br>    <span class="hljs-meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span><br>    <span class="hljs-keyword">private</span> Date updateTime;<br>    <span class="hljs-meta">@Version</span><br>    <span class="hljs-keyword">private</span> Integer version;<br>    <span class="hljs-meta">@TableField(value = &quot;status&quot;)</span><br>    <span class="hljs-keyword">private</span> StatusEnum statusEnum;<br>    <span class="hljs-meta">@TableLogic</span><br>    <span class="hljs-keyword">private</span> Integer deleted;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>3ã€application.yml æ·»åŠ é…ç½®</p>
<figure class="highlight yaml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs yaml"><span class="hljs-attr">global-config:</span><br>  <span class="hljs-attr">db-config:</span><br>    <span class="hljs-attr">logic-not-delete-value:</span> <span class="hljs-number">0</span><br>    <span class="hljs-attr">logic-delete-value:</span> <span class="hljs-number">1</span><br></code></pre></div></td></tr></table></figure>


<h3 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h3><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//mapper.selectList(null);</span><br>QueryWrapper wrapper = <span class="hljs-keyword">new</span> QueryWrapper();<br><span class="hljs-comment">//        Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();</span><br><span class="hljs-comment">//        map.put(&quot;name&quot;,&quot;å°çº¢&quot;);</span><br><span class="hljs-comment">//        map.put(&quot;age&quot;,3);</span><br><span class="hljs-comment">//        wrapper.allEq(map);</span><br><span class="hljs-comment">//        wrapper.gt(&quot;age&quot;,2);</span><br><span class="hljs-comment">//        wrapper.ne(&quot;name&quot;,&quot;å°çº¢&quot;);</span><br><span class="hljs-comment">//        wrapper.ge(&quot;age&quot;,2);</span><br><br><span class="hljs-comment">//like &#x27;%å°&#x27;</span><br><span class="hljs-comment">//        wrapper.likeLeft(&quot;name&quot;,&quot;å°&quot;);</span><br><span class="hljs-comment">//like &#x27;å°%&#x27;</span><br><span class="hljs-comment">//        wrapper.likeRight(&quot;name&quot;,&quot;å°&quot;);</span><br><br><span class="hljs-comment">//inSQL</span><br><span class="hljs-comment">//        wrapper.inSql(&quot;id&quot;,&quot;select id from user where id &lt; 10&quot;);</span><br><span class="hljs-comment">//        wrapper.inSql(&quot;age&quot;,&quot;select age from user where age &gt; 3&quot;);</span><br><br><span class="hljs-comment">//        wrapper.orderByDesc(&quot;age&quot;);</span><br><br><span class="hljs-comment">//        wrapper.orderByAsc(&quot;age&quot;);</span><br><span class="hljs-comment">//        wrapper.having(&quot;id &gt; 8&quot;);</span><br><br>mapper.selectList(wrapper).forEach(System.out::println);<br></code></pre></div></td></tr></table></figure>


<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//        System.out.println(mapper.selectById(7));</span><br><span class="hljs-comment">//        mapper.selectBatchIds(Arrays.asList(7,8,9)).forEach(System.out::println);</span><br><br><span class="hljs-comment">//Map åªèƒ½åšç­‰å€¼åˆ¤æ–­ï¼Œé€»è¾‘åˆ¤æ–­éœ€è¦ä½¿ç”¨ Wrapper æ¥å¤„ç†</span><br><span class="hljs-comment">//        Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();</span><br><span class="hljs-comment">//        map.put(&quot;id&quot;,7);</span><br><span class="hljs-comment">//        mapper.selectByMap(map).forEach(System.out::println);</span><br><br>QueryWrapper wrapper = <span class="hljs-keyword">new</span> QueryWrapper();<br>wrapper.eq(<span class="hljs-string">&quot;id&quot;</span>,<span class="hljs-number">7</span>);<br><span class="hljs-comment">////        System.out.println(mapper.selectCount(wrapper));</span><br><span class="hljs-comment">//</span><br><span class="hljs-comment">//        //å°†æŸ¥è¯¢çš„ç»“æœé›†å°è£…åˆ°Mapä¸­</span><br><span class="hljs-comment">//        mapper.selectMaps(wrapper).forEach(System.out::println);</span><br><span class="hljs-comment">//        System.out.println(&quot;-------------------&quot;);</span><br><span class="hljs-comment">//        mapper.selectList(wrapper).forEach(System.out::println);</span><br><br><span class="hljs-comment">//åˆ†é¡µæŸ¥è¯¢</span><br><span class="hljs-comment">//        Page&lt;User&gt; page = new Page&lt;&gt;(2,2);</span><br><span class="hljs-comment">//        Page&lt;User&gt; result = mapper.selectPage(page,null);</span><br><span class="hljs-comment">//        System.out.println(result.getSize());</span><br><span class="hljs-comment">//        System.out.println(result.getTotal());</span><br><span class="hljs-comment">//        result.getRecords().forEach(System.out::println);</span><br><br><span class="hljs-comment">//        Page&lt;Map&lt;String,Object&gt;&gt; page = new Page&lt;&gt;(1,2);</span><br><span class="hljs-comment">//        mapper.selectMapsPage(page,null).getRecords().forEach(System.out::println);</span><br><br><span class="hljs-comment">//        mapper.selectObjs(null).forEach(System.out::println);</span><br><br><br>System.out.println(mapper.selectOne(wrapper));<br></code></pre></div></td></tr></table></figure>


<h3 id="è‡ªå®šä¹‰-SQLï¼ˆå¤šè¡¨å…³è”æŸ¥è¯¢ï¼‰"><a href="#è‡ªå®šä¹‰-SQLï¼ˆå¤šè¡¨å…³è”æŸ¥è¯¢ï¼‰" class="headerlink" title="è‡ªå®šä¹‰ SQLï¼ˆå¤šè¡¨å…³è”æŸ¥è¯¢ï¼‰"></a>è‡ªå®šä¹‰ SQLï¼ˆå¤šè¡¨å…³è”æŸ¥è¯¢ï¼‰</h3><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.southwind.mybatisplus.entity;<br><br><span class="hljs-keyword">import</span> lombok.Data;<br><br><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductVO</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> Integer category;<br>    <span class="hljs-keyword">private</span> Integer count;<br>    <span class="hljs-keyword">private</span> String description;<br>    <span class="hljs-keyword">private</span> Integer userId;<br>    <span class="hljs-keyword">private</span> String userName;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.southwind.mybatisplus.mapper;<br><br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;<br><span class="hljs-keyword">import</span> com.southwind.mybatisplus.entity.ProductVO;<br><span class="hljs-keyword">import</span> com.southwind.mybatisplus.entity.User;<br><span class="hljs-keyword">import</span> org.apache.ibatis.annotations.Select;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserMapper</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseMapper</span>&lt;<span class="hljs-title">User</span>&gt; </span>&#123;<br>    <span class="hljs-meta">@Select(&quot;select p.*,u.name userName from product p,user u where p.user_id = u.id and u.id = #&#123;id&#125;&quot;)</span><br>    <span class="hljs-function">List&lt;ProductVO&gt; <span class="hljs-title">productList</span><span class="hljs-params">(Integer id)</span></span>;<br>&#125;<br></code></pre></div></td></tr></table></figure>


<h3 id="æ·»åŠ "><a href="#æ·»åŠ " class="headerlink" title="æ·»åŠ "></a>æ·»åŠ </h3><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">User user = <span class="hljs-keyword">new</span> User();<br>user.setTitle(<span class="hljs-string">&quot;å°æ˜&quot;</span>);<br>user.setAge(<span class="hljs-number">22</span>);<br>mapper.insert(user);<br>System.out.println(user);<br></code></pre></div></td></tr></table></figure>


<h3 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h3><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//mapper.deleteById(1);</span><br><span class="hljs-comment">//        mapper.deleteBatchIds(Arrays.asList(7,8));</span><br><span class="hljs-comment">//        QueryWrapper wrapper = new QueryWrapper();</span><br><span class="hljs-comment">//        wrapper.eq(&quot;age&quot;,14);</span><br><span class="hljs-comment">//        mapper.delete(wrapper);</span><br><br>Map&lt;String,Object&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br>map.put(<span class="hljs-string">&quot;id&quot;</span>,<span class="hljs-number">10</span>);<br>mapper.deleteByMap(map);<br></code></pre></div></td></tr></table></figure>


<h3 id="ä¿®æ”¹"><a href="#ä¿®æ”¹" class="headerlink" title="ä¿®æ”¹"></a>ä¿®æ”¹</h3><figure class="highlight awk"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs awk"><span class="hljs-regexp">//</span>        <span class="hljs-regexp">//u</span>pdate ... version = <span class="hljs-number">3</span> where version = <span class="hljs-number">2</span><br><span class="hljs-regexp">//</span>        User user = mapper.selectById(<span class="hljs-number">7</span>);<br><span class="hljs-regexp">//</span>        user.setTitle(<span class="hljs-string">&quot;ä¸€å·&quot;</span>);<br><span class="hljs-regexp">//</span><br><span class="hljs-regexp">//</span>        <span class="hljs-regexp">//u</span>pdate ... version = <span class="hljs-number">3</span> where version = <span class="hljs-number">2</span><br><span class="hljs-regexp">//</span>        User user1 = mapper.selectById(<span class="hljs-number">7</span>);<br><span class="hljs-regexp">//</span>        user1.setTitle(<span class="hljs-string">&quot;äºŒå·&quot;</span>);<br><span class="hljs-regexp">//</span><br><span class="hljs-regexp">//</span>        mapper.updateById(user1);<br><span class="hljs-regexp">//</span>        mapper.updateById(user);<br><br>User user = mapper.selectById(<span class="hljs-number">1</span>);<br>user.setTitle(<span class="hljs-string">&quot;å°çº¢&quot;</span>);<br>QueryWrapper wrapper = new QueryWrapper();<br>wrapper.eq(<span class="hljs-string">&quot;age&quot;</span>,<span class="hljs-number">22</span>);<br>mapper.update(user,wrapper);<br></code></pre></div></td></tr></table></figure>


<h3 id="MyBatisPlus-è‡ªåŠ¨ç”Ÿæˆ"><a href="#MyBatisPlus-è‡ªåŠ¨ç”Ÿæˆ" class="headerlink" title="MyBatisPlus è‡ªåŠ¨ç”Ÿæˆ"></a>MyBatisPlus è‡ªåŠ¨ç”Ÿæˆ</h3><p>æ ¹æ®æ•°æ®è¡¨è‡ªåŠ¨ç”Ÿæˆå®ä½“ç±»ã€Mapperã€Serviceã€ServiceImplã€Controller</p>
<p>1ã€pom.xml å¯¼å…¥ MyBatis Plus Generator</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.baomidou<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-plus-generator<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.3.1.tmp<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.velocity<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>velocity<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.7<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<p>Velocityï¼ˆé»˜è®¤ï¼‰ã€Freemarkerã€Beetl</p>
<p>2ã€å¯åŠ¨ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.southwind.mybatisplus;<br><br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.DbType;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.generator.AutoGenerator;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.generator.config.DataSourceConfig;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.generator.config.GlobalConfig;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.generator.config.PackageConfig;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.generator.config.StrategyConfig;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.generator.config.rules.NamingStrategy;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-comment">//åˆ›å»ºgeneratorå¯¹è±¡</span><br>        AutoGenerator autoGenerator = <span class="hljs-keyword">new</span> AutoGenerator();<br>        <span class="hljs-comment">//æ•°æ®æº</span><br>        DataSourceConfig dataSourceConfig = <span class="hljs-keyword">new</span> DataSourceConfig();<br>        dataSourceConfig.setDbType(DbType.MYSQL);<br>        dataSourceConfig.setUrl(<span class="hljs-string">&quot;jdbc:mysql://ip:3306/db?useUnicode=true&amp;characterEncoding=UTF-8&quot;</span>);<br>        dataSourceConfig.setUsername(<span class="hljs-string">&quot;root&quot;</span>);<br>        dataSourceConfig.setPassword(<span class="hljs-string">&quot;root&quot;</span>);<br>        dataSourceConfig.setDriverName(<span class="hljs-string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);<br>        autoGenerator.setDataSource(dataSourceConfig);<br>        <span class="hljs-comment">//å…¨å±€é…ç½®</span><br>        GlobalConfig globalConfig = <span class="hljs-keyword">new</span> GlobalConfig();<br>        globalConfig.setOutputDir(System.getProperty(<span class="hljs-string">&quot;user.dir&quot;</span>)+<span class="hljs-string">&quot;/src/main/java&quot;</span>);<br>        globalConfig.setOpen(<span class="hljs-keyword">false</span>);<br>        globalConfig.setAuthor(<span class="hljs-string">&quot;southwind&quot;</span>);<br>        globalConfig.setServiceName(<span class="hljs-string">&quot;%sService&quot;</span>);<br>        autoGenerator.setGlobalConfig(globalConfig);<br>        <span class="hljs-comment">//åŒ…ä¿¡æ¯</span><br>        PackageConfig packageConfig = <span class="hljs-keyword">new</span> PackageConfig();<br>        packageConfig.setParent(<span class="hljs-string">&quot;com.southwind.mybatisplus&quot;</span>);<br>        packageConfig.setModuleName(<span class="hljs-string">&quot;generator&quot;</span>);<br>        packageConfig.setController(<span class="hljs-string">&quot;controller&quot;</span>);<br>        packageConfig.setService(<span class="hljs-string">&quot;service&quot;</span>);<br>        packageConfig.setServiceImpl(<span class="hljs-string">&quot;service.impl&quot;</span>);<br>        packageConfig.setMapper(<span class="hljs-string">&quot;mapper&quot;</span>);<br>        packageConfig.setEntity(<span class="hljs-string">&quot;entity&quot;</span>);<br>        autoGenerator.setPackageInfo(packageConfig);<br>        <span class="hljs-comment">//é…ç½®ç­–ç•¥</span><br>        StrategyConfig strategyConfig = <span class="hljs-keyword">new</span> StrategyConfig();<br>        strategyConfig.setEntityLombokModel(<span class="hljs-keyword">true</span>);<br>        strategyConfig.setNaming(NamingStrategy.underline_to_camel);<br>        strategyConfig.setColumnNaming(NamingStrategy.underline_to_camel);<br>        autoGenerator.setStrategy(strategyConfig);<br><br>        autoGenerator.execute();<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<blockquote>
<p>æ¥è‡ªï¼š<a href="https://space.bilibili.com/434617924">https://space.bilibili.com/434617924</a></p>
<p><a href="https://mp.baomidou.com/">https://mp.baomidou.com/</a></p>
</blockquote>
]]></content>
      <categories>
        <category>SSM</category>
      </categories>
  </entry>
  <entry>
    <title>Mybatis-9.28</title>
    <url>/2021/03/20/SSM/mybatis/</url>
    <content><![CDATA[<h2 id="Mybatis-9-28"><a href="#Mybatis-9-28" class="headerlink" title="Mybatis-9.28"></a>Mybatis-9.28</h2><p>ç¯å¢ƒï¼š</p>
<ul>
<li>JDK1.8</li>
<li>Mysql 5.7</li>
<li>maven 3.6.1</li>
<li>IDEA</li>
</ul>
<p>å›é¡¾ï¼š</p>
<ul>
<li>JDBC</li>
<li>Mysql</li>
<li>JavaåŸºç¡€</li>
<li>Maven</li>
<li>Junit</li>
</ul>
<p>SSMæ¡†æ¶ï¼šé…ç½®æ–‡ä»¶çš„ã€‚  æœ€å¥½çš„æ–¹å¼ï¼šçœ‹å®˜ç½‘æ–‡æ¡£ï¼›</p>
<h2 id="1ã€ç®€ä»‹"><a href="#1ã€ç®€ä»‹" class="headerlink" title="1ã€ç®€ä»‹"></a>1ã€ç®€ä»‹</h2><h3 id="1-1ã€ä»€ä¹ˆæ˜¯Mybatis"><a href="#1-1ã€ä»€ä¹ˆæ˜¯Mybatis" class="headerlink" title="1.1ã€ä»€ä¹ˆæ˜¯Mybatis"></a>1.1ã€ä»€ä¹ˆæ˜¯Mybatis</h3><div align=center>
<img src="https://z3.ax1x.com/2021/03/31/cAwfYV.png" alt="cAwfYV.png" border="0" />
</div>

<ul>
<li>MyBatis æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„<strong>æŒä¹…å±‚æ¡†æ¶</strong></li>
<li>å®ƒæ”¯æŒå®šåˆ¶åŒ– SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„ã€‚</li>
<li>MyBatis é¿å…äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠè·å–ç»“æœé›†ã€‚</li>
<li>MyBatis å¯ä»¥ä½¿ç”¨ç®€å•çš„ XML æˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŸç”Ÿç±»å‹ã€æ¥å£å’Œ Java çš„ POJOï¼ˆPlain Old Java Objectsï¼Œæ™®é€šè€å¼ Java å¯¹è±¡ï¼‰ä¸ºæ•°æ®åº“ä¸­çš„è®°å½•ã€‚</li>
<li>MyBatis æœ¬æ˜¯<a href="https://baike.baidu.com/item/apache/6265">apache</a>çš„ä¸€ä¸ªå¼€æºé¡¹ç›®<a href="https://baike.baidu.com/item/iBatis">iBatis</a>, 2010å¹´è¿™ä¸ªé¡¹ç›®ç”±apache software foundation è¿ç§»åˆ°äº†google codeï¼Œå¹¶ä¸”æ”¹åä¸ºMyBatis ã€‚</li>
<li>2013å¹´11æœˆè¿ç§»åˆ°Githubã€‚</li>
</ul>
<p>å¦‚ä½•è·å¾—Mybatisï¼Ÿ</p>
<ul>
<li><p>mavenä»“åº“ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></div></td></tr></table></figure></li>
<li><p>Github ï¼š <a href="https://github.com/mybatis/mybatis-3/releases">https://github.com/mybatis/mybatis-3/releases</a></p>
</li>
<li><p>ä¸­æ–‡æ–‡æ¡£ï¼š<a href="https://mybatis.org/mybatis-3/zh/index.html">https://mybatis.org/mybatis-3/zh/index.html</a></p>
</li>
</ul>
<h3 id="1-2ã€æŒä¹…åŒ–"><a href="#1-2ã€æŒä¹…åŒ–" class="headerlink" title="1.2ã€æŒä¹…åŒ–"></a>1.2ã€æŒä¹…åŒ–</h3><p>æ•°æ®æŒä¹…åŒ–</p>
<ul>
<li>æŒä¹…åŒ–å°±æ˜¯å°†ç¨‹åºçš„æ•°æ®åœ¨æŒä¹…çŠ¶æ€å’Œç¬æ—¶çŠ¶æ€è½¬åŒ–çš„è¿‡ç¨‹</li>
<li>å†…å­˜ï¼š<strong>æ–­ç”µå³å¤±</strong></li>
<li>æ•°æ®åº“(Jdbc)ï¼Œioæ–‡ä»¶æŒä¹…åŒ–ã€‚</li>
<li>ç”Ÿæ´»ï¼šå†·è—. ç½å¤´ã€‚</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦éœ€è¦æŒä¹…åŒ–ï¼Ÿ</strong></p>
<ul>
<li><p>æœ‰ä¸€äº›å¯¹è±¡ï¼Œä¸èƒ½è®©ä»–ä¸¢æ‰ã€‚</p>
</li>
<li><p>å†…å­˜å¤ªè´µäº†</p>
</li>
</ul>
<h3 id="1-3ã€æŒä¹…å±‚"><a href="#1-3ã€æŒä¹…å±‚" class="headerlink" title="1.3ã€æŒä¹…å±‚"></a>1.3ã€æŒä¹…å±‚</h3><p>Daoå±‚ï¼ŒServiceå±‚ï¼ŒControllerå±‚â€¦.</p>
<ul>
<li>å®ŒæˆæŒä¹…åŒ–å·¥ä½œçš„ä»£ç å—</li>
<li>å±‚ç•Œé™ååˆ†æ˜æ˜¾ã€‚</li>
</ul>
<h3 id="1-4-ä¸ºä»€ä¹ˆéœ€è¦Mybatisï¼Ÿ"><a href="#1-4-ä¸ºä»€ä¹ˆéœ€è¦Mybatisï¼Ÿ" class="headerlink" title="1.4 ä¸ºä»€ä¹ˆéœ€è¦Mybatisï¼Ÿ"></a>1.4 ä¸ºä»€ä¹ˆéœ€è¦Mybatisï¼Ÿ</h3><ul>
<li>å¸®åŠ©ç¨‹åºçŒ¿å°†æ•°æ®å­˜å…¥åˆ°æ•°æ®åº“ä¸­ã€‚</li>
<li>æ–¹ä¾¿</li>
<li>ä¼ ç»Ÿçš„JDBCä»£ç å¤ªå¤æ‚äº†ã€‚ç®€åŒ–ã€‚æ¡†æ¶ã€‚è‡ªåŠ¨åŒ–ã€‚</li>
<li>ä¸ç”¨Mybatisä¹Ÿå¯ä»¥ã€‚æ›´å®¹æ˜“ä¸Šæ‰‹ã€‚ <strong>æŠ€æœ¯æ²¡æœ‰é«˜ä½ä¹‹åˆ†</strong></li>
<li>ä¼˜ç‚¹ï¼š<ul>
<li>ç®€å•æ˜“å­¦</li>
<li>çµæ´»</li>
<li>sqlå’Œä»£ç çš„åˆ†ç¦»ï¼Œæé«˜äº†å¯ç»´æŠ¤æ€§ã€‚</li>
<li>æä¾›æ˜ å°„æ ‡ç­¾ï¼Œæ”¯æŒå¯¹è±¡ä¸æ•°æ®åº“çš„ormå­—æ®µå…³ç³»æ˜ å°„</li>
<li>æä¾›å¯¹è±¡å…³ç³»æ˜ å°„æ ‡ç­¾ï¼Œæ”¯æŒå¯¹è±¡å…³ç³»ç»„å»ºç»´æŠ¤</li>
<li>æä¾›xmlæ ‡ç­¾ï¼Œæ”¯æŒç¼–å†™åŠ¨æ€sqlã€‚</li>
</ul>
</li>
</ul>
<p><strong>æœ€é‡è¦çš„ä¸€ç‚¹ï¼šä½¿ç”¨çš„äººå¤šï¼</strong></p>
<p>Spring   SpringMVC    SpringBoot</p>
<h2 id="2ã€ç¬¬ä¸€ä¸ªMybatisç¨‹åº"><a href="#2ã€ç¬¬ä¸€ä¸ªMybatisç¨‹åº" class="headerlink" title="2ã€ç¬¬ä¸€ä¸ªMybatisç¨‹åº"></a>2ã€ç¬¬ä¸€ä¸ªMybatisç¨‹åº</h2><p>æ€è·¯ï¼šæ­å»ºç¯å¢ƒâ€“&gt;å¯¼å…¥Mybatisâ€“&gt;ç¼–å†™ä»£ç â€“&gt;æµ‹è¯•ï¼</p>
<h3 id="2-1ã€æ­å»ºç¯å¢ƒ"><a href="#2-1ã€æ­å»ºç¯å¢ƒ" class="headerlink" title="2.1ã€æ­å»ºç¯å¢ƒ"></a>2.1ã€æ­å»ºç¯å¢ƒ</h3><p>æ­å»ºæ•°æ®åº“</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">CREATE DATABASE `mybatis`;<br><br>USE `mybatis`;<br><br>CREATE TABLE `user`(<br>  `id` INT(<span class="hljs-number">20</span>) NOT NULL PRIMARY KEY,<br>  `name` VARCHAR(<span class="hljs-number">30</span>) DEFAULT NULL,<br>  `pwd` VARCHAR(<span class="hljs-number">30</span>) DEFAULT NULL<br>)ENGINE=INNODB DEFAULT CHARSET=utf8;<br><br>INSERT INTO `user`(`id`,`name`,`pwd`) VALUES <br>(<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;ç‹‚ç¥&#x27;</span>,<span class="hljs-string">&#x27;123456&#x27;</span>),<br>(<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="hljs-string">&#x27;123456&#x27;</span>),<br>(<span class="hljs-number">3</span>,<span class="hljs-string">&#x27;æå››&#x27;</span>,<span class="hljs-string">&#x27;123890&#x27;</span>)<br></code></pre></div></td></tr></table></figure>
<p>æ–°å»ºé¡¹ç›®</p>
<ol>
<li><p>æ–°å»ºä¸€ä¸ªæ™®é€šçš„mavené¡¹ç›®</p>
</li>
<li><p>åˆ é™¤srcç›®å½•</p>
</li>
<li><p>å¯¼å…¥mavenä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml">   <br><span class="hljs-comment">&lt;!--å¯¼å…¥ä¾èµ–--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--mysqlé©±åŠ¨--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.47<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--mybatis--&gt;</span><br>    <span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--junit--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<h3 id="2-2ã€åˆ›å»ºä¸€ä¸ªæ¨¡å—"><a href="#2-2ã€åˆ›å»ºä¸€ä¸ªæ¨¡å—" class="headerlink" title="2.2ã€åˆ›å»ºä¸€ä¸ªæ¨¡å—"></a>2.2ã€åˆ›å»ºä¸€ä¸ªæ¨¡å—</h3></li>
</ol>
<ul>
<li><p>ç¼–å†™mybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">configuration</span></span><br><span class="hljs-meta">        <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!--configurationæ ¸å¿ƒé…ç½®æ–‡ä»¶--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">environments</span> <span class="hljs-attr">default</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">environment</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">transactionManager</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;JDBC&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">dataSource</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;POOLED&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driver&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;jdbc:mysql://localhost:3306/mybatis?useSSL=true<span class="hljs-symbol">&amp;amp;</span>useUnicode=true<span class="hljs-symbol">&amp;amp;</span>characterEncoding=UTF-8&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;root&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;123456&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">dataSource</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">environment</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">environments</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></div></td></tr></table></figure></li>
<li><p>ç¼–å†™mybatiså·¥å…·ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//sqlSessionFactory --&gt; sqlSession</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MybatisUtils</span> </span>&#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> SqlSessionFactory sqlSessionFactory;<br><br>    <span class="hljs-keyword">static</span>&#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">//ä½¿ç”¨Mybatisç¬¬ä¸€æ­¥ï¼šè·å–sqlSessionFactoryå¯¹è±¡</span><br>            String resource = <span class="hljs-string">&quot;mybatis-config.xml&quot;</span>;<br>            InputStream inputStream = Resources.getResourceAsStream(resource);<br>            sqlSessionFactory = <span class="hljs-keyword">new</span> SqlSessionFactoryBuilder().build(inputStream);<br>        &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br><br>    &#125;<br><br>    <span class="hljs-comment">//æ—¢ç„¶æœ‰äº† SqlSessionFactoryï¼Œé¡¾åæ€ä¹‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä»ä¸­è·å¾— SqlSession çš„å®ä¾‹äº†ã€‚</span><br>    <span class="hljs-comment">// SqlSession å®Œå…¨åŒ…å«äº†é¢å‘æ•°æ®åº“æ‰§è¡Œ SQL å‘½ä»¤æ‰€éœ€çš„æ‰€æœ‰æ–¹æ³•ã€‚</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SqlSession  <span class="hljs-title">getSqlSession</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> sqlSessionFactory.openSession();<br>    &#125;<br><br>&#125;<br><br></code></pre></div></td></tr></table></figure>
<h3 id="2-3ã€ç¼–å†™ä»£ç "><a href="#2-3ã€ç¼–å†™ä»£ç " class="headerlink" title="2.3ã€ç¼–å†™ä»£ç "></a>2.3ã€ç¼–å†™ä»£ç </h3></li>
<li><p>å®ä½“ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.pojo;<br><br><span class="hljs-comment">//å®ä½“ç±»</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> String pwd;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">User</span><span class="hljs-params">()</span> </span>&#123;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">User</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id, String name, String pwd)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.id = id;<br>        <span class="hljs-keyword">this</span>.name = name;<br>        <span class="hljs-keyword">this</span>.pwd = pwd;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> id;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setId</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.id = id;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getPwd</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> pwd;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setPwd</span><span class="hljs-params">(String pwd)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.pwd = pwd;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;User&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;id=&quot;</span> + id +<br>                <span class="hljs-string">&quot;, name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, pwd=&#x27;&quot;</span> + pwd + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br><br></code></pre></div></td></tr></table></figure></li>
<li><p>Daoæ¥å£</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserDao</span> </span>&#123;<br>    <span class="hljs-function">List&lt;User&gt; <span class="hljs-title">getUserList</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></div></td></tr></table></figure></li>
<li><p>æ¥å£å®ç°ç±»ç”±åŸæ¥çš„UserDaoImplè½¬å˜ä¸ºä¸€ä¸ª Mapperé…ç½®æ–‡ä»¶.</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br>        <span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">mapper</span></span><br><span class="hljs-meta">                <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span><br><span class="hljs-meta">                <span class="hljs-meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--namespace=ç»‘å®šä¸€ä¸ªå¯¹åº”çš„Dao/Mapperæ¥å£--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;com.kuang.dao.UserDao&quot;</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--selectæŸ¥è¯¢è¯­å¥--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserList&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.kuang.pojo.User&quot;</span>&gt;</span><br>       select * from mybatis.user<br>   <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<h3 id="2-4ã€æµ‹è¯•"><a href="#2-4ã€æµ‹è¯•" class="headerlink" title="2.4ã€æµ‹è¯•"></a>2.4ã€æµ‹è¯•</h3></li>
</ul>
<p>æ³¨æ„ç‚¹ï¼š</p>
<p>org.apache.ibatis.binding.BindingException: Type interface com.kuang.dao.UserDao is not known to the MapperRegistry.</p>
<p><strong>MapperRegistryæ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œ mappers</p>
<ul>
<li><p>junitæµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-comment">//ç¬¬ä¸€æ­¥ï¼šè·å¾—SqlSessionå¯¹è±¡</span><br>    SqlSession sqlSession = MybatisUtils.getSqlSession();<br><br><br>    <span class="hljs-comment">//æ–¹å¼ä¸€ï¼šgetMapper</span><br>    UserDao userDao = sqlSession.getMapper(UserDao.class);<br>    List&lt;User&gt; userList = userDao.getUserList();<br><br>    <span class="hljs-keyword">for</span> (User user : userList) &#123;<br>        System.out.println(user);<br>    &#125;<br><br><br><br>    <span class="hljs-comment">//å…³é—­SqlSession</span><br>    sqlSession.close();<br>&#125;<br><br></code></pre></div></td></tr></table></figure>


</li>
</ul>
<p>ä½ ä»¬å¯ä»¥èƒ½ä¼šé‡åˆ°çš„é—®é¢˜ï¼š</p>
<ol>
<li>é…ç½®æ–‡ä»¶æ²¡æœ‰æ³¨å†Œ</li>
<li>ç»‘å®šæ¥å£é”™è¯¯ã€‚</li>
<li>æ–¹æ³•åä¸å¯¹</li>
<li>è¿”å›ç±»å‹ä¸å¯¹</li>
<li>Mavenå¯¼å‡ºèµ„æºé—®é¢˜</li>
</ol>
<h2 id="3ã€CRUD"><a href="#3ã€CRUD" class="headerlink" title="3ã€CRUD"></a>3ã€CRUD</h2><h3 id="1ã€namespace"><a href="#1ã€namespace" class="headerlink" title="1ã€namespace"></a>1ã€namespace</h3><p>namespaceä¸­çš„åŒ…åè¦å’Œ Dao/mapper æ¥å£çš„åŒ…åä¸€è‡´ï¼</p>
<h3 id="2ã€select"><a href="#2ã€select" class="headerlink" title="2ã€select"></a>2ã€select</h3><p>é€‰æ‹©ï¼ŒæŸ¥è¯¢è¯­å¥;</p>
<ul>
<li>id : å°±æ˜¯å¯¹åº”çš„namespaceä¸­çš„æ–¹æ³•åï¼›</li>
<li>resultTypeï¼šSqlè¯­å¥æ‰§è¡Œçš„è¿”å›å€¼ï¼</li>
<li>parameterType ï¼š å‚æ•°ç±»å‹ï¼</li>
</ul>
<ol>
<li><p>ç¼–å†™æ¥å£</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//æ ¹æ®IDæŸ¥è¯¢ç”¨æˆ·</span><br><span class="hljs-function">User <span class="hljs-title">getUserById</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span></span>;<br></code></pre></div></td></tr></table></figure>
</li>
<li><p>ç¼–å†™å¯¹åº”çš„mapperä¸­çš„sqlè¯­å¥</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">&lt;select id=<span class="hljs-string">&quot;getUserById&quot;</span> parameterType=<span class="hljs-string">&quot;int&quot;</span> resultType=<span class="hljs-string">&quot;com.kuang.pojo.User&quot;</span>&gt;<br>        select * from mybatis.user where id = #&#123;id&#125;<br>&lt;/select&gt;<br><br></code></pre></div></td></tr></table></figure></li>
<li><p>æµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getUserById</span><span class="hljs-params">()</span> </span>&#123;<br>    SqlSession sqlSession = MybatisUtils.getSqlSession();<br>   <br>    UserMapper mapper = sqlSession.getMapper(UserMapper.class);<br>   <br>    User user = mapper.getUserById(<span class="hljs-number">1</span>);<br>    System.out.println(user);<br>   <br>    sqlSession.close();<br>&#125;<br>   <br></code></pre></div></td></tr></table></figure>
<h3 id="3ã€Insert"><a href="#3ã€Insert" class="headerlink" title="3ã€Insert"></a>3ã€Insert</h3></li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å¯¹è±¡ä¸­çš„å±æ€§ï¼Œå¯ä»¥ç›´æ¥å–å‡ºæ¥--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">insert</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;addUser&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;com.kuang.pojo.User&quot;</span>&gt;</span><br>    insert into mybatis.user (id, name, pwd) values (#&#123;id&#125;,#&#123;name&#125;,#&#123;pwd&#125;);<br><span class="hljs-tag">&lt;/<span class="hljs-name">insert</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<h3 id="4ã€update"><a href="#4ã€update" class="headerlink" title="4ã€update"></a>4ã€update</h3><figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">update</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;updateUser&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;com.kuang.pojo.User&quot;</span>&gt;</span><br>    update mybatis.user set name=#&#123;name&#125;,pwd=#&#123;pwd&#125;  where id = #&#123;id&#125; ;<br><span class="hljs-tag">&lt;/<span class="hljs-name">update</span>&gt;</span><br><br></code></pre></div></td></tr></table></figure>
<h3 id="5ã€Delete"><a href="#5ã€Delete" class="headerlink" title="5ã€Delete"></a>5ã€Delete</h3><figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">delete</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;deleteUser&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;int&quot;</span>&gt;</span><br>    delete from mybatis.user where id = #&#123;id&#125;;<br><span class="hljs-tag">&lt;/<span class="hljs-name">delete</span>&gt;</span><br></code></pre></div></td></tr></table></figure>


<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>å¢åˆ æ”¹éœ€è¦æäº¤äº‹åŠ¡ï¼</li>
</ul>
<h3 id="6ã€åˆ†æé”™è¯¯"><a href="#6ã€åˆ†æé”™è¯¯" class="headerlink" title="6ã€åˆ†æé”™è¯¯"></a>6ã€åˆ†æé”™è¯¯</h3><ul>
<li>æ ‡ç­¾ä¸è¦åŒ¹é…é”™</li>
<li>resource ç»‘å®šmapperï¼Œéœ€è¦ä½¿ç”¨è·¯å¾„ï¼</li>
<li>ç¨‹åºé…ç½®æ–‡ä»¶å¿…é¡»ç¬¦åˆè§„èŒƒï¼</li>
<li>NullPointerExceptionï¼Œæ²¡æœ‰æ³¨å†Œåˆ°èµ„æº!</li>
<li>è¾“å‡ºçš„xmlæ–‡ä»¶ä¸­å­˜åœ¨ä¸­æ–‡ä¹±ç é—®é¢˜ï¼</li>
<li>mavenèµ„æºæ²¡æœ‰å¯¼å‡ºé—®é¢˜ï¼</li>
</ul>
<h3 id="7ã€ä¸‡èƒ½Map"><a href="#7ã€ä¸‡èƒ½Map" class="headerlink" title="7ã€ä¸‡èƒ½Map"></a>7ã€ä¸‡èƒ½Map</h3><p>å‡è®¾ï¼Œæˆ‘ä»¬çš„å®ä½“ç±»ï¼Œæˆ–è€…æ•°æ®åº“ä¸­çš„è¡¨ï¼Œå­—æ®µæˆ–è€…å‚æ•°è¿‡å¤šï¼Œæˆ‘ä»¬åº”å½“è€ƒè™‘ä½¿ç”¨Mapï¼</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//ä¸‡èƒ½çš„Map</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">addUser2</span><span class="hljs-params">(Map&lt;String,Object&gt; map)</span></span>;<br><br></code></pre></div></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><br><span class="hljs-comment">&lt;!--å¯¹è±¡ä¸­çš„å±æ€§ï¼Œå¯ä»¥ç›´æ¥å–å‡ºæ¥    ä¼ é€’mapçš„key--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">insert</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;addUser&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span>&gt;</span><br>    insert into mybatis.user (id, pwd) values (#&#123;userid&#125;,#&#123;passWord&#125;);<br><span class="hljs-tag">&lt;/<span class="hljs-name">insert</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml">@Test<br>public void addUser2()&#123;<br>    SqlSession sqlSession = MybatisUtils.getSqlSession();<br><br>    UserMapper mapper = sqlSession.getMapper(UserMapper.class);<br><br><br>    Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();<br><br>    map.put(&quot;userid&quot;,5);<br>    map.put(&quot;passWord&quot;,&quot;2222333&quot;);<br><br>    mapper.addUser2(map);<br><br>    sqlSession.close();<br>&#125;<br><br></code></pre></div></td></tr></table></figure>


<p>Mapä¼ é€’å‚æ•°ï¼Œç›´æ¥åœ¨sqlä¸­å–å‡ºkeyå³å¯ï¼    ã€parameterType=â€mapâ€ã€‘</p>
<p>å¯¹è±¡ä¼ é€’å‚æ•°ï¼Œç›´æ¥åœ¨sqlä¸­å–å¯¹è±¡çš„å±æ€§å³å¯ï¼ã€parameterType=â€Objectâ€ã€‘</p>
<p>åªæœ‰ä¸€ä¸ªåŸºæœ¬ç±»å‹å‚æ•°çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç›´æ¥åœ¨sqlä¸­å–åˆ°ï¼</p>
<p>å¤šä¸ªå‚æ•°ç”¨Mapï¼Œ<strong>æˆ–è€…æ³¨è§£ï¼</strong></p>
<h3 id="8ã€æ€è€ƒé¢˜"><a href="#8ã€æ€è€ƒé¢˜" class="headerlink" title="8ã€æ€è€ƒé¢˜"></a>8ã€æ€è€ƒé¢˜</h3><p>æ¨¡ç³ŠæŸ¥è¯¢æ€ä¹ˆå†™ï¼Ÿ</p>
<ol>
<li><p>Javaä»£ç æ‰§è¡Œçš„æ—¶å€™ï¼Œä¼ é€’é€šé…ç¬¦ % %</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">List&lt;User&gt; userList = mapper.getUserLike(<span class="hljs-string">&quot;%æ%&quot;</span>);<br></code></pre></div></td></tr></table></figure></li>
<li><p>åœ¨sqlæ‹¼æ¥ä¸­ä½¿ç”¨é€šé…ç¬¦ï¼</p>
<figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">select * from mybatis.user where name like &quot;%&quot;#&#123;value&#125;&quot;%&quot;<br></code></pre></div></td></tr></table></figure>


</li>
</ol>
<h2 id="4ã€é…ç½®è§£æ"><a href="#4ã€é…ç½®è§£æ" class="headerlink" title="4ã€é…ç½®è§£æ"></a>4ã€é…ç½®è§£æ</h2><h3 id="1ã€æ ¸å¿ƒé…ç½®æ–‡ä»¶"><a href="#1ã€æ ¸å¿ƒé…ç½®æ–‡ä»¶" class="headerlink" title="1ã€æ ¸å¿ƒé…ç½®æ–‡ä»¶"></a>1ã€æ ¸å¿ƒé…ç½®æ–‡ä»¶</h3><ul>
<li><p>mybatis-config.xml</p>
</li>
<li><p>MyBatis çš„é…ç½®æ–‡ä»¶åŒ…å«äº†ä¼šæ·±æ·±å½±å“ MyBatis è¡Œä¸ºçš„è®¾ç½®å’Œå±æ€§ä¿¡æ¯ã€‚ </p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml">configurationï¼ˆé…ç½®ï¼‰<br>propertiesï¼ˆå±æ€§ï¼‰<br>settingsï¼ˆè®¾ç½®ï¼‰<br>typeAliasesï¼ˆç±»å‹åˆ«åï¼‰<br>typeHandlersï¼ˆç±»å‹å¤„ç†å™¨ï¼‰<br>objectFactoryï¼ˆå¯¹è±¡å·¥å‚ï¼‰<br>pluginsï¼ˆæ’ä»¶ï¼‰<br>environmentsï¼ˆç¯å¢ƒé…ç½®ï¼‰<br>environmentï¼ˆç¯å¢ƒå˜é‡ï¼‰<br>transactionManagerï¼ˆäº‹åŠ¡ç®¡ç†å™¨ï¼‰<br>dataSourceï¼ˆæ•°æ®æºï¼‰<br>databaseIdProviderï¼ˆæ•°æ®åº“å‚å•†æ ‡è¯†ï¼‰<br>mappersï¼ˆæ˜ å°„å™¨ï¼‰<br></code></pre></div></td></tr></table></figure>
<h3 id="2ã€ç¯å¢ƒé…ç½®ï¼ˆenvironmentsï¼‰"><a href="#2ã€ç¯å¢ƒé…ç½®ï¼ˆenvironmentsï¼‰" class="headerlink" title="2ã€ç¯å¢ƒé…ç½®ï¼ˆenvironmentsï¼‰"></a>2ã€ç¯å¢ƒé…ç½®ï¼ˆenvironmentsï¼‰</h3></li>
</ul>
<p>MyBatis å¯ä»¥é…ç½®æˆé€‚åº”å¤šç§ç¯å¢ƒ</p>
<p><strong>ä¸è¿‡è¦è®°ä½ï¼šå°½ç®¡å¯ä»¥é…ç½®å¤šä¸ªç¯å¢ƒï¼Œä½†æ¯ä¸ª SqlSessionFactory å®ä¾‹åªèƒ½é€‰æ‹©ä¸€ç§ç¯å¢ƒã€‚</strong></p>
<p>å­¦ä¼šä½¿ç”¨é…ç½®å¤šå¥—è¿è¡Œç¯å¢ƒï¼</p>
<p>Mybatisé»˜è®¤çš„äº‹åŠ¡ç®¡ç†å™¨å°±æ˜¯ JDBC  ï¼Œ è¿æ¥æ±  ï¼š POOLED</p>
<h3 id="3ã€å±æ€§ï¼ˆpropertiesï¼‰"><a href="#3ã€å±æ€§ï¼ˆpropertiesï¼‰" class="headerlink" title="3ã€å±æ€§ï¼ˆpropertiesï¼‰"></a>3ã€å±æ€§ï¼ˆpropertiesï¼‰</h3><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡propertieså±æ€§æ¥å®ç°å¼•ç”¨é…ç½®æ–‡ä»¶</p>
<p>è¿™äº›å±æ€§éƒ½æ˜¯å¯å¤–éƒ¨é…ç½®ä¸”å¯åŠ¨æ€æ›¿æ¢çš„ï¼Œæ—¢å¯ä»¥åœ¨å…¸å‹çš„ Java å±æ€§æ–‡ä»¶ä¸­é…ç½®ï¼Œäº¦å¯é€šè¿‡ properties å…ƒç´ çš„å­å…ƒç´ æ¥ä¼ é€’ã€‚ã€db.propertiesã€‘</p>
<p><a href="https://imgtu.com/i/cABU8f"><img src="https://z3.ax1x.com/2021/03/31/cABU8f.png" alt="cABU8f.png"></a></p>
<p>ç¼–å†™ä¸€ä¸ªé…ç½®æ–‡ä»¶</p>
<p>db.properties</p>
<figure class="highlight properties"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs properties"><span class="hljs-attr">driver</span>=<span class="hljs-string">com.mysql.jdbc.Driver</span><br><span class="hljs-attr">url</span>=<span class="hljs-string">jdbc:mysql://localhost:3306/mybatis?useSSL=true&amp;useUnicode=true&amp;characterEncoding=UTF-8</span><br><span class="hljs-attr">username</span>=<span class="hljs-string">root</span><br><span class="hljs-attr">password</span>=<span class="hljs-string">123456</span><br></code></pre></div></td></tr></table></figure>
<p>åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ˜ å…¥</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å¼•å…¥å¤–éƒ¨é…ç½®æ–‡ä»¶--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">properties</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;db.properties&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;root&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;pwd&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;11111&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><br><br></code></pre></div></td></tr></table></figure>
<ul>
<li>å¯ä»¥ç›´æ¥å¼•å…¥å¤–éƒ¨æ–‡ä»¶</li>
<li>å¯ä»¥åœ¨å…¶ä¸­å¢åŠ ä¸€äº›å±æ€§é…ç½®</li>
<li>å¦‚æœä¸¤ä¸ªæ–‡ä»¶æœ‰åŒä¸€ä¸ªå­—æ®µï¼Œä¼˜å…ˆä½¿ç”¨å¤–éƒ¨é…ç½®æ–‡ä»¶çš„ï¼</li>
</ul>
<h3 id="4ã€ç±»å‹åˆ«åï¼ˆtypeAliasesï¼‰"><a href="#4ã€ç±»å‹åˆ«åï¼ˆtypeAliasesï¼‰" class="headerlink" title="4ã€ç±»å‹åˆ«åï¼ˆtypeAliasesï¼‰"></a>4ã€ç±»å‹åˆ«åï¼ˆtypeAliasesï¼‰</h3><ul>
<li>ç±»å‹åˆ«åæ˜¯ä¸º Java ç±»å‹è®¾ç½®ä¸€ä¸ªçŸ­çš„åå­—ã€‚â€˜</li>
<li>å­˜åœ¨çš„æ„ä¹‰ä»…åœ¨äºç”¨æ¥å‡å°‘ç±»å®Œå…¨é™å®šåçš„å†—ä½™ã€‚</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å¯ä»¥ç»™å®ä½“ç±»èµ·åˆ«å--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">typeAliases</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">typeAlias</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;com.kuang.pojo.User&quot;</span> <span class="hljs-attr">alias</span>=<span class="hljs-string">&quot;User&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">typeAliases</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªåŒ…åï¼ŒMyBatis ä¼šåœ¨åŒ…åä¸‹é¢æœç´¢éœ€è¦çš„ Java Beanï¼Œæ¯”å¦‚ï¼š</p>
<p>æ‰«æå®ä½“ç±»çš„åŒ…ï¼Œå®ƒçš„é»˜è®¤åˆ«åå°±ä¸ºè¿™ä¸ªç±»çš„ ç±»åï¼Œé¦–å­—æ¯å°å†™ï¼</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å¯ä»¥ç»™å®ä½“ç±»èµ·åˆ«å--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">typeAliases</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;com.kuang.pojo&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">typeAliases</span>&gt;</span><br></code></pre></div></td></tr></table></figure>


<p>åœ¨å®ä½“ç±»æ¯”è¾ƒå°‘çš„æ—¶å€™ï¼Œä½¿ç”¨ç¬¬ä¸€ç§æ–¹å¼ã€‚</p>
<p>å¦‚æœå®ä½“ç±»ååˆ†å¤šï¼Œå»ºè®®ä½¿ç”¨ç¬¬äºŒç§ã€‚</p>
<p>ç¬¬ä¸€ç§å¯ä»¥DIYåˆ«åï¼Œç¬¬äºŒç§åˆ™Â·ä¸è¡ŒÂ·ï¼Œå¦‚æœéè¦æ”¹ï¼Œéœ€è¦åœ¨å®ä½“ä¸Šå¢åŠ æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-meta">@Alias(&quot;user&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;&#125;<br></code></pre></div></td></tr></table></figure>
<h3 id="5ã€è®¾ç½®"><a href="#5ã€è®¾ç½®" class="headerlink" title="5ã€è®¾ç½®"></a>5ã€è®¾ç½®</h3><p>è¿™æ˜¯ MyBatis ä¸­æä¸ºé‡è¦çš„è°ƒæ•´è®¾ç½®ï¼Œå®ƒä»¬ä¼šæ”¹å˜ MyBatis çš„è¿è¡Œæ—¶è¡Œä¸ºã€‚ </p>
<p><a href="https://imgtu.com/i/cAB65q"><img src="https://z3.ax1x.com/2021/03/31/cAB65q.png" alt="cAB65q.png"></a></p>
<p><img src="https://upload-images.jianshu.io/upload_images/22416923-5fb07cc49d386349.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="1569657672791.png"></p>
<h3 id="6ã€å…¶ä»–é…ç½®"><a href="#6ã€å…¶ä»–é…ç½®" class="headerlink" title="6ã€å…¶ä»–é…ç½®"></a>6ã€å…¶ä»–é…ç½®</h3><ul>
<li><a href="https://mybatis.org/mybatis-3/zh/configuration.html#typeHandlers">typeHandlersï¼ˆç±»å‹å¤„ç†å™¨ï¼‰</a></li>
<li><a href="https://mybatis.org/mybatis-3/zh/configuration.html#objectFactory">objectFactoryï¼ˆå¯¹è±¡å·¥å‚ï¼‰</a></li>
<li>pluginsæ’ä»¶<ul>
<li>mybatis-generator-core</li>
<li>mybatis-plus</li>
<li>é€šç”¨mapper</li>
</ul>
</li>
</ul>
<h3 id="7ã€æ˜ å°„å™¨ï¼ˆmappersï¼‰"><a href="#7ã€æ˜ å°„å™¨ï¼ˆmappersï¼‰" class="headerlink" title="7ã€æ˜ å°„å™¨ï¼ˆmappersï¼‰"></a>7ã€æ˜ å°„å™¨ï¼ˆmappersï¼‰</h3><p>MapperRegistryï¼šæ³¨å†Œç»‘å®šæˆ‘ä»¬çš„Mapperæ–‡ä»¶ï¼›</p>
<p>æ–¹å¼ä¸€ï¼š ã€æ¨èä½¿ç”¨ã€‘</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ¯ä¸€ä¸ªMapper.XMLéƒ½éœ€è¦åœ¨Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œï¼--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;com/kuang/dao/UserMapper.xml&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<p>æ–¹å¼äºŒï¼šä½¿ç”¨classæ–‡ä»¶ç»‘å®šæ³¨å†Œ</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ¯ä¸€ä¸ªMapper.XMLéƒ½éœ€è¦åœ¨Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œï¼--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.kuang.dao.UserMapper&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>æ¥å£å’Œä»–çš„Mapperé…ç½®æ–‡ä»¶å¿…é¡»åŒåï¼</li>
<li>æ¥å£å’Œä»–çš„Mapperé…ç½®æ–‡ä»¶å¿…é¡»åœ¨åŒä¸€ä¸ªåŒ…ä¸‹ï¼</li>
</ul>
<p>æ–¹å¼ä¸‰ï¼šä½¿ç”¨æ‰«æåŒ…è¿›è¡Œæ³¨å…¥ç»‘å®š</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ¯ä¸€ä¸ªMapper.XMLéƒ½éœ€è¦åœ¨Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œï¼--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;com.kuang.dao&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>æ¥å£å’Œä»–çš„Mapperé…ç½®æ–‡ä»¶å¿…é¡»åŒåï¼</li>
<li>æ¥å£å’Œä»–çš„Mapperé…ç½®æ–‡ä»¶å¿…é¡»åœ¨åŒä¸€ä¸ªåŒ…ä¸‹ï¼</li>
</ul>
<p>ç»ƒä¹ æ—¶é—´ï¼š</p>
<ul>
<li>å°†æ•°æ®åº“é…ç½®æ–‡ä»¶å¤–éƒ¨å¼•å…¥</li>
<li>å®ä½“ç±»åˆ«å</li>
<li>ä¿è¯UserMapper æ¥å£ å’Œ UserMapper .xml æ”¹ä¸ºä¸€è‡´ï¼å¹¶ä¸”æ”¾åœ¨åŒä¸€ä¸ªåŒ…ä¸‹ï¼</li>
</ul>
<h3 id="8ã€ç”Ÿå‘½å‘¨æœŸå’Œä½œç”¨åŸŸ"><a href="#8ã€ç”Ÿå‘½å‘¨æœŸå’Œä½œç”¨åŸŸ" class="headerlink" title="8ã€ç”Ÿå‘½å‘¨æœŸå’Œä½œç”¨åŸŸ"></a>8ã€ç”Ÿå‘½å‘¨æœŸå’Œä½œç”¨åŸŸ</h3><p><a href="https://imgtu.com/i/cAB5qJ"><img src="https://z3.ax1x.com/2021/03/31/cAB5qJ.png" alt="cAB5qJ.png"></a></p>
<p>ç”Ÿå‘½å‘¨æœŸï¼Œå’Œä½œç”¨åŸŸï¼Œæ˜¯è‡³å…³é‡è¦çš„ï¼Œå› ä¸ºé”™è¯¯çš„ä½¿ç”¨ä¼šå¯¼è‡´éå¸¸ä¸¥é‡çš„<strong>å¹¶å‘é—®é¢˜</strong>ã€‚</p>
<p><strong>SqlSessionFactoryBuilderï¼š</strong></p>
<ul>
<li>ä¸€æ—¦åˆ›å»ºäº† SqlSessionFactoryï¼Œå°±ä¸å†éœ€è¦å®ƒäº†</li>
<li>å±€éƒ¨å˜é‡</li>
</ul>
<p><strong>SqlSessionFactoryï¼š</strong></p>
<ul>
<li>è¯´ç™½äº†å°±æ˜¯å¯ä»¥æƒ³è±¡ä¸º ï¼šæ•°æ®åº“è¿æ¥æ± </li>
<li>SqlSessionFactory ä¸€æ—¦è¢«åˆ›å»ºå°±åº”è¯¥åœ¨åº”ç”¨çš„è¿è¡ŒæœŸé—´ä¸€ç›´å­˜åœ¨ï¼Œ<strong>æ²¡æœ‰ä»»ä½•ç†ç”±ä¸¢å¼ƒå®ƒæˆ–é‡æ–°åˆ›å»ºå¦ä¸€ä¸ªå®ä¾‹ã€‚</strong> </li>
<li>å› æ­¤ SqlSessionFactory çš„æœ€ä½³ä½œç”¨åŸŸæ˜¯åº”ç”¨ä½œç”¨åŸŸã€‚ </li>
<li>æœ€ç®€å•çš„å°±æ˜¯ä½¿ç”¨<strong>å•ä¾‹æ¨¡å¼</strong>æˆ–è€…é™æ€å•ä¾‹æ¨¡å¼ã€‚</li>
</ul>
<p><strong>SqlSession</strong></p>
<ul>
<li>è¿æ¥åˆ°è¿æ¥æ± çš„ä¸€ä¸ªè¯·æ±‚ï¼</li>
<li>SqlSession çš„å®ä¾‹ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› æ­¤æ˜¯ä¸èƒ½è¢«å…±äº«çš„ï¼Œæ‰€ä»¥å®ƒçš„æœ€ä½³çš„ä½œç”¨åŸŸæ˜¯è¯·æ±‚æˆ–æ–¹æ³•ä½œç”¨åŸŸã€‚</li>
<li>ç”¨å®Œä¹‹åéœ€è¦èµ¶ç´§å…³é—­ï¼Œå¦åˆ™èµ„æºè¢«å ç”¨ï¼</li>
</ul>
<p><a href="https://imgtu.com/i/cABOxO"><img src="https://z3.ax1x.com/2021/03/31/cABOxO.png" alt="cABOxO.png"></a></p>
<p>è¿™é‡Œé¢çš„æ¯ä¸€ä¸ªMapperï¼Œå°±ä»£è¡¨ä¸€ä¸ªå…·ä½“çš„ä¸šåŠ¡ï¼</p>
<h2 id="5ã€è§£å†³å±æ€§åå’Œå­—æ®µåä¸ä¸€è‡´çš„é—®é¢˜"><a href="#5ã€è§£å†³å±æ€§åå’Œå­—æ®µåä¸ä¸€è‡´çš„é—®é¢˜" class="headerlink" title="5ã€è§£å†³å±æ€§åå’Œå­—æ®µåä¸ä¸€è‡´çš„é—®é¢˜"></a>5ã€è§£å†³å±æ€§åå’Œå­—æ®µåä¸ä¸€è‡´çš„é—®é¢˜</h2><h3 id="1ã€-é—®é¢˜"><a href="#1ã€-é—®é¢˜" class="headerlink" title="1ã€ é—®é¢˜"></a>1ã€ é—®é¢˜</h3><p>æ•°æ®åº“ä¸­çš„å­—æ®µ</p>
<p><a href="https://imgtu.com/i/cADSZd"><img src="https://z3.ax1x.com/2021/03/31/cADSZd.png" alt="cADSZd.png"></a></p>
<p>æ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼Œæ‹·è´ä¹‹å‰çš„ï¼Œæµ‹è¯•å®ä½“ç±»å­—æ®µä¸ä¸€è‡´çš„æƒ…å†µ</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> String password;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>æµ‹è¯•å‡ºç°é—®é¢˜</p>
<p><a href="https://imgtu.com/i/cADEQS"><img src="https://z3.ax1x.com/2021/03/31/cADEQS.png" alt="cADEQS.png"></a></p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml">//    select * from mybatis.user where id = #&#123;id&#125;<br>//ç±»å‹å¤„ç†å™¨<br>//    select id,name,pwd from mybatis.user where id = #&#123;id&#125;<br></code></pre></div></td></tr></table></figure>


<p>è§£å†³æ–¹æ³•ï¼š</p>
<ul>
<li><p>èµ·åˆ«å</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserById&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.kuang.pojo.User&quot;</span>&gt;</span><br>    select id,name,pwd as password from mybatis.user where id = #&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></div></td></tr></table></figure>


</li>
</ul>
<h3 id="2ã€resultMap"><a href="#2ã€resultMap" class="headerlink" title="2ã€resultMap"></a>2ã€resultMap</h3><p>ç»“æœé›†æ˜ å°„</p>
<figure class="highlight applescript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs applescript"><span class="hljs-built_in">id</span>   <span class="hljs-built_in">name</span>   pwd<br><span class="hljs-built_in">id</span>   <span class="hljs-built_in">name</span>   password<br></code></pre></div></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--ç»“æœé›†æ˜ å°„--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;UserMap&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;User&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--columnæ•°æ®åº“ä¸­çš„å­—æ®µï¼Œpropertyå®ä½“ç±»ä¸­çš„å±æ€§--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;pwd&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;password&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserById&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;UserMap&quot;</span>&gt;</span><br>    select * from mybatis.user where id = #&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></div></td></tr></table></figure>


<ul>
<li><code>resultMap</code> å…ƒç´ æ˜¯ MyBatis ä¸­æœ€é‡è¦æœ€å¼ºå¤§çš„å…ƒç´ </li>
<li>ResultMap çš„è®¾è®¡æ€æƒ³æ˜¯ï¼Œå¯¹äºç®€å•çš„è¯­å¥æ ¹æœ¬ä¸éœ€è¦é…ç½®æ˜¾å¼çš„ç»“æœæ˜ å°„ï¼Œè€Œå¯¹äºå¤æ‚ä¸€ç‚¹çš„è¯­å¥åªéœ€è¦æè¿°å®ƒä»¬çš„å…³ç³»å°±è¡Œäº†ã€‚</li>
<li><code>ResultMap</code> æœ€ä¼˜ç§€çš„åœ°æ–¹åœ¨äºï¼Œè™½ç„¶ä½ å·²ç»å¯¹å®ƒç›¸å½“äº†è§£äº†ï¼Œä½†æ˜¯æ ¹æœ¬å°±ä¸éœ€è¦æ˜¾å¼åœ°ç”¨åˆ°ä»–ä»¬ã€‚</li>
<li> å¦‚æœä¸–ç•Œæ€»æ˜¯è¿™ä¹ˆç®€å•å°±å¥½äº†ã€‚</li>
</ul>
<h2 id="6ã€æ—¥å¿—"><a href="#6ã€æ—¥å¿—" class="headerlink" title="6ã€æ—¥å¿—"></a>6ã€æ—¥å¿—</h2><h3 id="6-1ã€æ—¥å¿—å·¥å‚"><a href="#6-1ã€æ—¥å¿—å·¥å‚" class="headerlink" title="6.1ã€æ—¥å¿—å·¥å‚"></a>6.1ã€æ—¥å¿—å·¥å‚</h3><p>å¦‚æœä¸€ä¸ªæ•°æ®åº“æ“ä½œï¼Œå‡ºç°äº†å¼‚å¸¸ï¼Œæˆ‘ä»¬éœ€è¦æ’é”™ã€‚æ—¥å¿—å°±æ˜¯æœ€å¥½çš„åŠ©æ‰‹ï¼</p>
<p>æ›¾ç»ï¼šsout ã€debug</p>
<p>ç°åœ¨ï¼šæ—¥å¿—å·¥å‚ï¼</p>
<p><a href="https://imgtu.com/i/cADmZj"><img src="https://z3.ax1x.com/2021/03/31/cADmZj.png" alt="cADmZj.png"></a></p>
<ul>
<li><p>SLF4J </p>
</li>
<li><p>LOG4J  ã€æŒæ¡ã€‘</p>
</li>
<li><p>LOG4J2</p>
</li>
<li><p> JDK_LOGGING</p>
</li>
<li><p>COMMONS_LOGGING</p>
</li>
<li><p>STDOUT_LOGGING   ã€æŒæ¡ã€‘</p>
</li>
<li><p>NO_LOGGING</p>
</li>
</ul>
<p>åœ¨Mybatisä¸­å…·ä½“ä½¿ç”¨é‚£ä¸ªä¸€æ—¥å¿—å®ç°ï¼Œåœ¨è®¾ç½®ä¸­è®¾å®šï¼</p>
<p><strong>STDOUT_LOGGINGæ ‡å‡†æ—¥å¿—è¾“å‡º</strong></p>
<p>åœ¨mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ï¼Œé…ç½®æˆ‘ä»¬çš„æ—¥å¿—ï¼</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;logImpl&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;STDOUT_LOGGING&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<p><a href="https://imgtu.com/i/cADuon"><img src="https://z3.ax1x.com/2021/03/31/cADuon.png" alt="cADuon.png"></a></p>
<h3 id="6-2ã€Log4j"><a href="#6-2ã€Log4j" class="headerlink" title="6.2ã€Log4j"></a>6.2ã€Log4j</h3><p>ä»€ä¹ˆæ˜¯Log4jï¼Ÿ</p>
<ul>
<li>Log4jæ˜¯<a href="https://baike.baidu.com/item/Apache/8512995">Apache</a>çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œé€šè¿‡ä½¿ç”¨Log4jï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶æ—¥å¿—ä¿¡æ¯è¾“é€çš„ç›®çš„åœ°æ˜¯<a href="https://baike.baidu.com/item/%E6%8E%A7%E5%88%B6%E5%8F%B0/2438626">æ§åˆ¶å°</a>ã€æ–‡ä»¶ã€<a href="https://baike.baidu.com/item/GUI">GUI</a>ç»„ä»¶</li>
<li>æˆ‘ä»¬ä¹Ÿå¯ä»¥æ§åˆ¶æ¯ä¸€æ¡æ—¥å¿—çš„è¾“å‡ºæ ¼å¼ï¼›</li>
<li>é€šè¿‡å®šä¹‰æ¯ä¸€æ¡æ—¥å¿—ä¿¡æ¯çš„çº§åˆ«ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ›´åŠ ç»†è‡´åœ°æ§åˆ¶æ—¥å¿—çš„ç”Ÿæˆè¿‡ç¨‹ã€‚</li>
<li>é€šè¿‡ä¸€ä¸ª<a href="https://baike.baidu.com/item/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/286550">é…ç½®æ–‡ä»¶</a>æ¥çµæ´»åœ°è¿›è¡Œé…ç½®ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹åº”ç”¨çš„ä»£ç ã€‚</li>
</ul>
<ol>
<li><p>å…ˆå¯¼å…¥log4jçš„åŒ…</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>log4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>log4j<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.17<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></div></td></tr></table></figure></li>
<li><p>log4j.properties</p>
<figure class="highlight properties"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs properties"><span class="hljs-comment">#å°†ç­‰çº§ä¸ºDEBUGçš„æ—¥å¿—ä¿¡æ¯è¾“å‡ºåˆ°consoleå’Œfileè¿™ä¸¤ä¸ªç›®çš„åœ°ï¼Œconsoleå’Œfileçš„å®šä¹‰åœ¨ä¸‹é¢çš„ä»£ç </span><br><span class="hljs-meta">log4j.rootLogger</span>=<span class="hljs-string">DEBUG,console,file</span><br><br><span class="hljs-comment">#æ§åˆ¶å°è¾“å‡ºçš„ç›¸å…³è®¾ç½®</span><br><span class="hljs-meta">log4j.appender.console</span> = <span class="hljs-string">org.apache.log4j.ConsoleAppender</span><br><span class="hljs-meta">log4j.appender.console.Target</span> = <span class="hljs-string">System.out</span><br><span class="hljs-meta">log4j.appender.console.Threshold</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-meta">log4j.appender.console.layout</span> = <span class="hljs-string">org.apache.log4j.PatternLayout</span><br><span class="hljs-meta">log4j.appender.console.layout.ConversionPattern</span>=<span class="hljs-string">[%c]-%m%n</span><br><br><span class="hljs-comment">#æ–‡ä»¶è¾“å‡ºçš„ç›¸å…³è®¾ç½®</span><br><span class="hljs-meta">log4j.appender.file</span> = <span class="hljs-string">org.apache.log4j.RollingFileAppender</span><br><span class="hljs-meta">log4j.appender.file.File</span>=<span class="hljs-string">./log/kuang.log</span><br><span class="hljs-meta">log4j.appender.file.MaxFileSize</span>=<span class="hljs-string">10mb</span><br><span class="hljs-meta">log4j.appender.file.Threshold</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-meta">log4j.appender.file.layout</span>=<span class="hljs-string">org.apache.log4j.PatternLayout</span><br><span class="hljs-meta">log4j.appender.file.layout.ConversionPattern</span>=<span class="hljs-string">[%p][%d&#123;yy-MM-dd&#125;][%c]%m%n</span><br><br><span class="hljs-comment">#æ—¥å¿—è¾“å‡ºçº§åˆ«</span><br><span class="hljs-meta">log4j.logger.org.mybatis</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-meta">log4j.logger.java.sql</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-meta">log4j.logger.java.sql.Statement</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-meta">log4j.logger.java.sql.ResultSet</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-meta">log4j.logger.java.sql.PreparedStatement</span>=<span class="hljs-string">DEBUG</span><br></code></pre></div></td></tr></table></figure></li>
<li><p>é…ç½®log4jä¸ºæ—¥å¿—çš„å®ç°</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;logImpl&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span><br></code></pre></div></td></tr></table></figure></li>
<li><p>Log4jçš„ä½¿ç”¨ï¼ï¼Œç›´æ¥æµ‹è¯•è¿è¡Œåˆšæ‰çš„æŸ¥è¯¢</p>
<p><a href="https://imgtu.com/i/cAD1zT"><img src="https://z3.ax1x.com/2021/03/31/cAD1zT.png" alt="cAD1zT.png"></a></p>
</li>
</ol>
<p><strong>ç®€å•ä½¿ç”¨</strong></p>
<ol>
<li><p>åœ¨è¦ä½¿ç”¨Log4j çš„ç±»ä¸­ï¼Œå¯¼å…¥åŒ…  import org.apache.log4j.Logger;</p>
</li>
<li><p>æ—¥å¿—å¯¹è±¡ï¼Œå‚æ•°ä¸ºå½“å‰ç±»çš„class</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">static</span> Logger logger = Logger.getLogger(UserDaoTest.class);<br></code></pre></div></td></tr></table></figure></li>
<li><p>æ—¥å¿—çº§åˆ«</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">logger.info(<span class="hljs-string">&quot;info:è¿›å…¥äº†testLog4j&quot;</span>);<br>logger.debug(<span class="hljs-string">&quot;debug:è¿›å…¥äº†testLog4j&quot;</span>);<br>logger.error(<span class="hljs-string">&quot;error:è¿›å…¥äº†testLog4j&quot;</span>);<br></code></pre></div></td></tr></table></figure>


</li>
</ol>
<h2 id="7ã€åˆ†é¡µ"><a href="#7ã€åˆ†é¡µ" class="headerlink" title="7ã€åˆ†é¡µ"></a>7ã€åˆ†é¡µ</h2><p><strong>æ€è€ƒï¼šä¸ºä»€ä¹ˆè¦åˆ†é¡µï¼Ÿ</strong></p>
<ul>
<li>å‡å°‘æ•°æ®çš„å¤„ç†é‡</li>
</ul>
<h3 id="7-1ã€ä½¿ç”¨Limitåˆ†é¡µ"><a href="#7-1ã€ä½¿ç”¨Limitåˆ†é¡µ" class="headerlink" title="7.1ã€ä½¿ç”¨Limitåˆ†é¡µ"></a>7.1ã€ä½¿ç”¨Limitåˆ†é¡µ</h3><figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql">è¯­æ³•ï¼š<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span> limit startIndex,pageSize;<br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span> limit <span class="hljs-number">3</span>;  #[<span class="hljs-number">0</span>,n]<br></code></pre></div></td></tr></table></figure>


<p>ä½¿ç”¨Mybatiså®ç°åˆ†é¡µï¼Œæ ¸å¿ƒSQL</p>
<ol>
<li><p>æ¥å£</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//åˆ†é¡µ</span><br><span class="hljs-function">List&lt;User&gt; <span class="hljs-title">getUserByLimit</span><span class="hljs-params">(Map&lt;String,Integer&gt; map)</span></span>;<br></code></pre></div></td></tr></table></figure></li>
<li><p>Mapper.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--//åˆ†é¡µ--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserByLimit&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;UserMap&quot;</span>&gt;</span><br>    select * from  mybatis.user limit #&#123;startIndex&#125;,#&#123;pageSize&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></div></td></tr></table></figure></li>
<li><p>æµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getUserByLimit</span><span class="hljs-params">()</span></span>&#123;<br>SqlSession sqlSession = MybatisUtils.getSqlSession();<br>UserMapper mapper = sqlSession.getMapper(UserMapper.class);<br><br>HashMap&lt;String, Integer&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;String, Integer&gt;();<br>    map.put(<span class="hljs-string">&quot;startIndex&quot;</span>,<span class="hljs-number">1</span>);<br>    map.put(<span class="hljs-string">&quot;pageSize&quot;</span>,<span class="hljs-number">2</span>);<br><br>    List&lt;User&gt; userList =  mapper.getUserByLimit(map);<br>    <span class="hljs-keyword">for</span> (User user : userList) &#123;<br>    System.out.println(user);<br>    &#125;<br><br>    sqlSession.close();<br>    &#125;<br><br></code></pre></div></td></tr></table></figure>


</li>
</ol>
<h3 id="7-2ã€RowBoundsåˆ†é¡µ"><a href="#7-2ã€RowBoundsåˆ†é¡µ" class="headerlink" title="7.2ã€RowBoundsåˆ†é¡µ"></a>7.2ã€RowBoundsåˆ†é¡µ</h3><p>ä¸å†ä½¿ç”¨SQLå®ç°åˆ†é¡µ</p>
<ol>
<li><p>æ¥å£</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//åˆ†é¡µ2</span><br><span class="hljs-function">List&lt;User&gt; <span class="hljs-title">getUserByRowBounds</span><span class="hljs-params">()</span></span>;<br></code></pre></div></td></tr></table></figure></li>
<li><p>mapper.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--åˆ†é¡µ2--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserByRowBounds&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;UserMap&quot;</span>&gt;</span><br>    select * from  mybatis.user<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></div></td></tr></table></figure></li>
<li><p>æµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getUserByRowBounds</span><span class="hljs-params">()</span></span>&#123;<br>SqlSession sqlSession = MybatisUtils.getSqlSession();<br><br><span class="hljs-comment">//RowBoundså®ç°</span><br>RowBounds rowBounds = <span class="hljs-keyword">new</span> RowBounds(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);<br><br><span class="hljs-comment">//é€šè¿‡Javaä»£ç å±‚é¢å®ç°åˆ†é¡µ</span><br>List&lt;User&gt; userList = sqlSession.selectList(<span class="hljs-string">&quot;com.kuang.dao.UserMapper.getUserByRowBounds&quot;</span>,<span class="hljs-keyword">null</span>,rowBounds);<br><br>    <span class="hljs-keyword">for</span> (User user : userList) &#123;<br>    System.out.println(user);<br>    &#125;<br><br>    sqlSession.close();<br>    &#125;<br></code></pre></div></td></tr></table></figure>


</li>
</ol>
<h3 id="7-3ã€åˆ†é¡µæ’ä»¶"><a href="#7-3ã€åˆ†é¡µæ’ä»¶" class="headerlink" title="7.3ã€åˆ†é¡µæ’ä»¶"></a>7.3ã€åˆ†é¡µæ’ä»¶</h3><p><a href="https://imgtu.com/i/cAD8QU"><img src="https://z3.ax1x.com/2021/03/31/cAD8QU.png" alt="cAD8QU.png"></a></p>
<p>äº†è§£å³å¯ï¼Œä¸‡ä¸€ ä»¥åå…¬å¸çš„æ¶æ„å¸ˆï¼Œè¯´è¦ä½¿ç”¨ï¼Œä½ éœ€è¦çŸ¥é“å®ƒæ˜¯ä»€ä¹ˆä¸œè¥¿ï¼</p>
<h2 id="8ã€ä½¿ç”¨æ³¨è§£å¼€å‘"><a href="#8ã€ä½¿ç”¨æ³¨è§£å¼€å‘" class="headerlink" title="8ã€ä½¿ç”¨æ³¨è§£å¼€å‘"></a>8ã€ä½¿ç”¨æ³¨è§£å¼€å‘</h2><h3 id="8-1ã€é¢å‘æ¥å£ç¼–ç¨‹"><a href="#8-1ã€é¢å‘æ¥å£ç¼–ç¨‹" class="headerlink" title="8.1ã€é¢å‘æ¥å£ç¼–ç¨‹"></a>8.1ã€é¢å‘æ¥å£ç¼–ç¨‹</h3><p>- å¤§å®¶ä¹‹å‰éƒ½å­¦è¿‡é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œä¹Ÿå­¦ä¹ è¿‡æ¥å£ï¼Œä½†åœ¨çœŸæ­£çš„å¼€å‘ä¸­ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¼šé€‰æ‹©é¢å‘æ¥å£ç¼–ç¨‹<br>- <strong>æ ¹æœ¬åŸå›  :  ==è§£è€¦== , å¯æ‹“å±• , æé«˜å¤ç”¨ , åˆ†å±‚å¼€å‘ä¸­ , ä¸Šå±‚ä¸ç”¨ç®¡å…·ä½“çš„å®ç° , å¤§å®¶éƒ½éµå®ˆå…±åŒçš„æ ‡å‡† , ä½¿å¾—å¼€å‘å˜å¾—å®¹æ˜“ , è§„èŒƒæ€§æ›´å¥½</strong><br>- åœ¨ä¸€ä¸ªé¢å‘å¯¹è±¡çš„ç³»ç»Ÿä¸­ï¼Œç³»ç»Ÿçš„å„ç§åŠŸèƒ½æ˜¯ç”±è®¸è®¸å¤šå¤šçš„ä¸åŒå¯¹è±¡åä½œå®Œæˆçš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå„ä¸ªå¯¹è±¡å†…éƒ¨æ˜¯å¦‚ä½•å®ç°è‡ªå·±çš„,å¯¹ç³»ç»Ÿè®¾è®¡äººå‘˜æ¥è®²å°±ä¸é‚£ä¹ˆé‡è¦äº†ï¼›<br>- è€Œå„ä¸ªå¯¹è±¡ä¹‹é—´çš„åä½œå…³ç³»åˆ™æˆä¸ºç³»ç»Ÿè®¾è®¡çš„å…³é”®ã€‚å°åˆ°ä¸åŒç±»ä¹‹é—´çš„é€šä¿¡ï¼Œå¤§åˆ°å„æ¨¡å—ä¹‹é—´çš„äº¤äº’ï¼Œåœ¨ç³»ç»Ÿè®¾è®¡ä¹‹åˆéƒ½æ˜¯è¦ç€é‡è€ƒè™‘çš„ï¼Œè¿™ä¹Ÿæ˜¯ç³»ç»Ÿè®¾è®¡çš„ä¸»è¦å·¥ä½œå†…å®¹ã€‚é¢å‘æ¥å£ç¼–ç¨‹å°±æ˜¯æŒ‡æŒ‰ç…§è¿™ç§æ€æƒ³æ¥ç¼–ç¨‹ã€‚</p>
<p><strong>å…³äºæ¥å£çš„ç†è§£</strong></p>
<p>- æ¥å£ä»æ›´æ·±å±‚æ¬¡çš„ç†è§£ï¼Œåº”æ˜¯å®šä¹‰ï¼ˆè§„èŒƒï¼Œçº¦æŸï¼‰ä¸å®ç°ï¼ˆåå®åˆ†ç¦»çš„åŸåˆ™ï¼‰çš„åˆ†ç¦»ã€‚<br>- æ¥å£çš„æœ¬èº«åæ˜ äº†ç³»ç»Ÿè®¾è®¡äººå‘˜å¯¹ç³»ç»Ÿçš„æŠ½è±¡ç†è§£ã€‚<br>- æ¥å£åº”æœ‰ä¸¤ç±»ï¼š<br>  - ç¬¬ä¸€ç±»æ˜¯å¯¹ä¸€ä¸ªä¸ªä½“çš„æŠ½è±¡ï¼Œå®ƒå¯å¯¹åº”ä¸ºä¸€ä¸ªæŠ½è±¡ä½“(abstract class)ï¼›<br>  - ç¬¬äºŒç±»æ˜¯å¯¹ä¸€ä¸ªä¸ªä½“æŸä¸€æ–¹é¢çš„æŠ½è±¡ï¼Œå³å½¢æˆä¸€ä¸ªæŠ½è±¡é¢ï¼ˆinterfaceï¼‰ï¼›<br>- ä¸€ä¸ªä½“æœ‰å¯èƒ½æœ‰å¤šä¸ªæŠ½è±¡é¢ã€‚æŠ½è±¡ä½“ä¸æŠ½è±¡é¢æ˜¯æœ‰åŒºåˆ«çš„ã€‚</p>
<p><strong>ä¸‰ä¸ªé¢å‘åŒºåˆ«</strong></p>
<p>- é¢å‘å¯¹è±¡æ˜¯æŒ‡ï¼Œæˆ‘ä»¬è€ƒè™‘é—®é¢˜æ—¶ï¼Œä»¥å¯¹è±¡ä¸ºå•ä½ï¼Œè€ƒè™‘å®ƒçš„å±æ€§åŠæ–¹æ³• .<br>- é¢å‘è¿‡ç¨‹æ˜¯æŒ‡ï¼Œæˆ‘ä»¬è€ƒè™‘é—®é¢˜æ—¶ï¼Œä»¥ä¸€ä¸ªå…·ä½“çš„æµç¨‹ï¼ˆäº‹åŠ¡è¿‡ç¨‹ï¼‰ä¸ºå•ä½ï¼Œè€ƒè™‘å®ƒçš„å®ç° .<br>- æ¥å£è®¾è®¡ä¸éæ¥å£è®¾è®¡æ˜¯é’ˆå¯¹å¤ç”¨æŠ€æœ¯è€Œè¨€çš„ï¼Œä¸é¢å‘å¯¹è±¡ï¼ˆè¿‡ç¨‹ï¼‰ä¸æ˜¯ä¸€ä¸ªé—®é¢˜.æ›´å¤šçš„ä½“ç°å°±æ˜¯å¯¹ç³»ç»Ÿæ•´ä½“çš„æ¶æ„</p>
<h3 id="8-2ã€ä½¿ç”¨æ³¨è§£å¼€å‘"><a href="#8-2ã€ä½¿ç”¨æ³¨è§£å¼€å‘" class="headerlink" title="8.2ã€ä½¿ç”¨æ³¨è§£å¼€å‘"></a>8.2ã€ä½¿ç”¨æ³¨è§£å¼€å‘</h3><ol>
<li><p>æ³¨è§£åœ¨æ¥å£ä¸Šå®ç°</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-meta">@Select(&quot;select * from user&quot;)</span><br><span class="hljs-function">List&lt;User&gt; <span class="hljs-title">getUsers</span><span class="hljs-params">()</span></span>;<br></code></pre></div></td></tr></table></figure></li>
<li><p>éœ€è¦å†æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ç»‘å®šæ¥å£ï¼</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--ç»‘å®šæ¥å£--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.kuang.dao.UserMapper&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></div></td></tr></table></figure></li>
<li><p>æµ‹è¯•</p>
</li>
</ol>
<p>æœ¬è´¨ï¼šåå°„æœºåˆ¶å®ç°</p>
<p>åº•å±‚ï¼šåŠ¨æ€ä»£ç†ï¼</p>
<p> <a href="https://imgtu.com/i/cADteJ"><img src="https://z3.ax1x.com/2021/03/31/cADteJ.png" alt="cADteJ.png"></a></p>
<p><strong>Mybatisè¯¦ç»†çš„æ‰§è¡Œæµç¨‹ï¼</strong></p>
<p><a href="https://imgtu.com/i/cADNw9"><img src="https://z3.ax1x.com/2021/03/31/cADNw9.png" alt="cADNw9.png"></a></p>
<h3 id="8-3ã€CRUD"><a href="#8-3ã€CRUD" class="headerlink" title="8.3ã€CRUD"></a>8.3ã€CRUD</h3><p>æˆ‘ä»¬å¯ä»¥åœ¨å·¥å…·ç±»åˆ›å»ºçš„æ—¶å€™å®ç°è‡ªåŠ¨æäº¤äº‹åŠ¡ï¼</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SqlSession  <span class="hljs-title">getSqlSession</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">return</span> sqlSessionFactory.openSession(<span class="hljs-keyword">true</span>);<br>&#125;<br></code></pre></div></td></tr></table></figure>


<p>ç¼–å†™æ¥å£ï¼Œå¢åŠ æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserMapper</span> </span>&#123;<br><br>    <span class="hljs-meta">@Select(&quot;select * from user&quot;)</span><br>    <span class="hljs-function">List&lt;User&gt; <span class="hljs-title">getUsers</span><span class="hljs-params">()</span></span>;<br><br>    <span class="hljs-comment">// æ–¹æ³•å­˜åœ¨å¤šä¸ªå‚æ•°ï¼Œæ‰€æœ‰çš„å‚æ•°å‰é¢å¿…é¡»åŠ ä¸Š @Param(&quot;id&quot;)æ³¨è§£</span><br>    <span class="hljs-meta">@Select(&quot;select * from user where id = #&#123;id&#125;&quot;)</span><br>    <span class="hljs-function">User <span class="hljs-title">getUserByID</span><span class="hljs-params">(<span class="hljs-meta">@Param(&quot;id&quot;)</span> <span class="hljs-keyword">int</span> id)</span></span>;<br><br><br>    <span class="hljs-meta">@Insert(&quot;insert into user(id,name,pwd) values (#&#123;id&#125;,#&#123;name&#125;,#&#123;password&#125;)&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">addUser</span><span class="hljs-params">(User user)</span></span>;<br><br>    <br>    <span class="hljs-meta">@Update(&quot;update user set name=#&#123;name&#125;,pwd=#&#123;password&#125; where id = #&#123;id&#125;&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">updateUser</span><span class="hljs-params">(User user)</span></span>;<br><br>    <br>    <span class="hljs-meta">@Delete(&quot;delete from user where id = #&#123;uid&#125;&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">deleteUser</span><span class="hljs-params">(<span class="hljs-meta">@Param(&quot;uid&quot;)</span> <span class="hljs-keyword">int</span> id)</span></span>;<br>&#125;<br></code></pre></div></td></tr></table></figure>


<p>æµ‹è¯•ç±»</p>
<p>ã€æ³¨æ„ï¼šæˆ‘ä»¬å¿…é¡»è¦è®²æ¥å£æ³¨å†Œç»‘å®šåˆ°æˆ‘ä»¬çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ï¼ã€‘</p>
<p><strong>å…³äº@Param() æ³¨è§£</strong></p>
<ul>
<li>åŸºæœ¬ç±»å‹çš„å‚æ•°æˆ–è€…Stringç±»å‹ï¼Œéœ€è¦åŠ ä¸Š</li>
<li>å¼•ç”¨ç±»å‹ä¸éœ€è¦åŠ </li>
<li>å¦‚æœåªæœ‰ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„è¯ï¼Œå¯ä»¥å¿½ç•¥ï¼Œä½†æ˜¯å»ºè®®å¤§å®¶éƒ½åŠ ä¸Šï¼</li>
<li>æˆ‘ä»¬åœ¨SQLä¸­å¼•ç”¨çš„å°±æ˜¯æˆ‘ä»¬è¿™é‡Œçš„ @Param() ä¸­è®¾å®šçš„å±æ€§åï¼</li>
</ul>
<p><strong>#{}     ${} åŒºåˆ«</strong></p>
<h2 id="9ã€Lombok"><a href="#9ã€Lombok" class="headerlink" title="9ã€Lombok"></a>9ã€Lombok</h2><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">Project Lombok is a java library that automatically plugs into your editor and build tools, spicing up your java.<br>Never write another getter or equals method again, with one annotation your <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">has</span> <span class="hljs-title">a</span> <span class="hljs-title">fully</span> <span class="hljs-title">featured</span> <span class="hljs-title">builder</span>, <span class="hljs-title">Automate</span> <span class="hljs-title">your</span> <span class="hljs-title">logging</span> <span class="hljs-title">variables</span>, <span class="hljs-title">and</span> <span class="hljs-title">much</span> <span class="hljs-title">more</span>.</span><br></code></pre></div></td></tr></table></figure>
<ul>
<li>java library</li>
<li>plugs</li>
<li>build tools</li>
<li>with one annotation your class</li>
</ul>
<p>ä½¿ç”¨æ­¥éª¤ï¼š</p>
<ol>
<li><p>åœ¨IDEAä¸­å®‰è£…Lombokæ’ä»¶ï¼</p>
</li>
<li><p>åœ¨é¡¹ç›®ä¸­å¯¼å…¥lombokçš„jaråŒ…</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.18.10<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></div></td></tr></table></figure></li>
<li><p>åœ¨å®ä½“ç±»ä¸ŠåŠ æ³¨è§£å³å¯ï¼</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@AllArgsConstructor</span><br><span class="hljs-meta">@NoArgsConstructor</span><br></code></pre></div></td></tr></table></figure>


</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-meta">@Getter</span> and <span class="hljs-meta">@Setter</span><br><span class="hljs-meta">@FieldNameConstants</span><br><span class="hljs-meta">@ToString</span><br><span class="hljs-meta">@EqualsAndHashCode</span><br><span class="hljs-meta">@AllArgsConstructor</span>, <span class="hljs-meta">@RequiredArgsConstructor</span> and <span class="hljs-meta">@NoArgsConstructor</span><br><span class="hljs-meta">@Log</span>, <span class="hljs-meta">@Log4j</span>, <span class="hljs-meta">@Log4j2</span>, <span class="hljs-meta">@Slf4j</span>, <span class="hljs-meta">@XSlf4j</span>, <span class="hljs-meta">@CommonsLog</span>, <span class="hljs-meta">@JBossLog</span>, <span class="hljs-meta">@Flogger</span><br><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@Builder</span><br><span class="hljs-meta">@Singular</span><br><span class="hljs-meta">@Delegate</span><br><span class="hljs-meta">@Value</span><br><span class="hljs-meta">@Accessors</span><br><span class="hljs-meta">@Wither</span><br><span class="hljs-meta">@SneakyThrows</span><br></code></pre></div></td></tr></table></figure>
<p>è¯´æ˜ï¼š</p>
<figure class="highlight less"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs less"><span class="hljs-variable">@Data</span>ï¼šæ— å‚æ„é€ ï¼Œgetã€setã€tostringã€hashcodeï¼Œequals<br><span class="hljs-variable">@AllArgsConstructor</span><br><span class="hljs-variable">@NoArgsConstructor</span><br><span class="hljs-variable">@EqualsAndHashCode</span><br><span class="hljs-variable">@ToString</span><br><span class="hljs-variable">@Getter</span><br></code></pre></div></td></tr></table></figure>


<h2 id="10ã€å¤šå¯¹ä¸€å¤„ç†"><a href="#10ã€å¤šå¯¹ä¸€å¤„ç†" class="headerlink" title="10ã€å¤šå¯¹ä¸€å¤„ç†"></a>10ã€å¤šå¯¹ä¸€å¤„ç†</h2><p>å¤šå¯¹ä¸€ï¼š</p>
<p><a href="https://imgtu.com/i/cADwJx"><img src="https://z3.ax1x.com/2021/03/31/cADwJx.png" alt="cADwJx.png"></a></p>
<ul>
<li>å¤šä¸ªå­¦ç”Ÿï¼Œå¯¹åº”ä¸€ä¸ªè€å¸ˆ</li>
<li>å¯¹äºå­¦ç”Ÿè¿™è¾¹è€Œè¨€ï¼Œ  <strong>å…³è”</strong> ..  å¤šä¸ªå­¦ç”Ÿï¼Œå…³è”ä¸€ä¸ªè€å¸ˆ  ã€å¤šå¯¹ä¸€ã€‘</li>
<li>å¯¹äºè€å¸ˆè€Œè¨€ï¼Œ <strong>é›†åˆ</strong> ï¼Œ ä¸€ä¸ªè€å¸ˆï¼Œæœ‰å¾ˆå¤šå­¦ç”Ÿ ã€ä¸€å¯¹å¤šã€‘</li>
</ul>
<p><a href="https://imgtu.com/i/cAD0W6"><img src="https://z3.ax1x.com/2021/03/31/cAD0W6.png" alt="cAD0W6.png"></a></p>
<p>SQLï¼š</p>
<figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `teacher` (<br>  `id` <span class="hljs-type">INT</span>(<span class="hljs-number">10</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,<br>  `name` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">30</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,<br>  <span class="hljs-keyword">PRIMARY</span> KEY (`id`)<br>) ENGINE<span class="hljs-operator">=</span>INNODB <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8<br><br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> teacher(`id`, `name`) <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;ç§¦è€å¸ˆ&#x27;</span>); <br><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `student` (<br>  `id` <span class="hljs-type">INT</span>(<span class="hljs-number">10</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,<br>  `name` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">30</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,<br>  `tid` <span class="hljs-type">INT</span>(<span class="hljs-number">10</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,<br>  <span class="hljs-keyword">PRIMARY</span> KEY (`id`),<br>  KEY `fktid` (`tid`),<br>  <span class="hljs-keyword">CONSTRAINT</span> `fktid` <span class="hljs-keyword">FOREIGN</span> KEY (`tid`) <span class="hljs-keyword">REFERENCES</span> `teacher` (`id`)<br>) ENGINE<span class="hljs-operator">=</span>INNODB <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8<br><br><br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `student` (`id`, `name`, `tid`) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;å°æ˜&#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>); <br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `student` (`id`, `name`, `tid`) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;2&#x27;</span>, <span class="hljs-string">&#x27;å°çº¢&#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>); <br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `student` (`id`, `name`, `tid`) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;3&#x27;</span>, <span class="hljs-string">&#x27;å°å¼ &#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>); <br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `student` (`id`, `name`, `tid`) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;4&#x27;</span>, <span class="hljs-string">&#x27;å°æ&#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>); <br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `student` (`id`, `name`, `tid`) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;5&#x27;</span>, <span class="hljs-string">&#x27;å°ç‹&#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>);<br><br></code></pre></div></td></tr></table></figure>


<h3 id="æµ‹è¯•ç¯å¢ƒæ­å»º"><a href="#æµ‹è¯•ç¯å¢ƒæ­å»º" class="headerlink" title="æµ‹è¯•ç¯å¢ƒæ­å»º"></a>æµ‹è¯•ç¯å¢ƒæ­å»º</h3><ol>
<li>å¯¼å…¥lombok</li>
<li>æ–°å»ºå®ä½“ç±» Teacherï¼ŒStudent</li>
<li>å»ºç«‹Mapperæ¥å£</li>
<li>å»ºç«‹Mapper.XMLæ–‡ä»¶</li>
<li>åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ç»‘å®šæ³¨å†Œæˆ‘ä»¬çš„Mapperæ¥å£æˆ–è€…æ–‡ä»¶ï¼ã€æ–¹å¼å¾ˆå¤šï¼Œéšå¿ƒé€‰ã€‘</li>
<li>æµ‹è¯•æŸ¥è¯¢æ˜¯å¦èƒ½å¤ŸæˆåŠŸï¼</li>
</ol>
<h3 id="æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†"><a href="#æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†" class="headerlink" title="æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†"></a>æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†</h3><figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">    æ€è·¯:</span><br><span class="hljs-comment">        1. æŸ¥è¯¢æ‰€æœ‰çš„å­¦ç”Ÿä¿¡æ¯</span><br><span class="hljs-comment">        2. æ ¹æ®æŸ¥è¯¢å‡ºæ¥çš„å­¦ç”Ÿçš„tidï¼Œå¯»æ‰¾å¯¹åº”çš„è€å¸ˆï¼  å­æŸ¥è¯¢</span><br><span class="hljs-comment">    --&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getStudent&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;StudentTeacher&quot;</span>&gt;</span><br>    select * from student<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;StudentTeacher&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Student&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;id&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;name&quot;</span>/&gt;</span><br>    <span class="hljs-comment">&lt;!--å¤æ‚çš„å±æ€§ï¼Œæˆ‘ä»¬éœ€è¦å•ç‹¬å¤„ç† å¯¹è±¡ï¼š association é›†åˆï¼š collection --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">association</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;teacher&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;tid&quot;</span> <span class="hljs-attr">javaType</span>=<span class="hljs-string">&quot;Teacher&quot;</span> <span class="hljs-attr">select</span>=<span class="hljs-string">&quot;getTeacher&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getTeacher&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;Teacher&quot;</span>&gt;</span><br>    select * from teacher where id = #&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br></code></pre></div></td></tr></table></figure>


<h3 id="æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†"><a href="#æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†" class="headerlink" title="æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†"></a>æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†</h3><figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getStudent2&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;StudentTeacher2&quot;</span>&gt;</span><br>    select s.id sid,s.name sname,t.name tname<br>    from student s,teacher t<br>    where s.tid = t.id;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;StudentTeacher2&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Student&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;sid&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;sname&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">association</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;teacher&quot;</span> <span class="hljs-attr">javaType</span>=<span class="hljs-string">&quot;Teacher&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;tname&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">association</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br></code></pre></div></td></tr></table></figure>


<p>å›é¡¾Mysql å¤šå¯¹ä¸€æŸ¥è¯¢æ–¹å¼ï¼š</p>
<ul>
<li>å­æŸ¥è¯¢</li>
<li>è”è¡¨æŸ¥è¯¢</li>
</ul>
<h2 id="11ã€ä¸€å¯¹å¤šå¤„ç†"><a href="#11ã€ä¸€å¯¹å¤šå¤„ç†" class="headerlink" title="11ã€ä¸€å¯¹å¤šå¤„ç†"></a>11ã€ä¸€å¯¹å¤šå¤„ç†</h2><p>æ¯”å¦‚ï¼šä¸€ä¸ªè€å¸ˆæ‹¥æœ‰å¤šä¸ªå­¦ç”Ÿï¼</p>
<p>å¯¹äºè€å¸ˆè€Œè¨€ï¼Œå°±æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»!</p>
<h3 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h3><ol>
<li>ç¯å¢ƒæ­å»ºï¼Œå’Œåˆšæ‰ä¸€æ ·</li>
</ol>
<p><strong>å®ä½“ç±»</strong></p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span> </span>&#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> tid;<br><br>&#125;<br><br></code></pre></div></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Teacher</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<br>    <span class="hljs-keyword">private</span> String name;<br><br>    <span class="hljs-comment">//ä¸€ä¸ªè€å¸ˆæ‹¥æœ‰å¤šä¸ªå­¦ç”Ÿ</span><br>    <span class="hljs-keyword">private</span> List&lt;Student&gt; students;<br>&#125;<br></code></pre></div></td></tr></table></figure>




<h3 id="æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†-1"><a href="#æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†-1" class="headerlink" title="æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†"></a>æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†</h3><figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><br><span class="hljs-comment">&lt;!--æŒ‰ç»“æœåµŒå¥—æŸ¥è¯¢--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getTeacher&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;TeacherStudent&quot;</span>&gt;</span><br>    select s.id sid, s.name sname, t.name tname,t.id tid<br>    from student s,teacher t<br>    where s.tid = t.id and t.id = #&#123;tid&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;TeacherStudent&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Teacher&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;tid&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;tname&quot;</span>/&gt;</span><br>    <span class="hljs-comment">&lt;!--å¤æ‚çš„å±æ€§ï¼Œæˆ‘ä»¬éœ€è¦å•ç‹¬å¤„ç† å¯¹è±¡ï¼š association é›†åˆï¼š collection</span><br><span class="hljs-comment">    javaType=&quot;&quot; æŒ‡å®šå±æ€§çš„ç±»å‹ï¼</span><br><span class="hljs-comment">    é›†åˆä¸­çš„æ³›å‹ä¿¡æ¯ï¼Œæˆ‘ä»¬ä½¿ç”¨ofTypeè·å–</span><br><span class="hljs-comment">    --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">collection</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;students&quot;</span> <span class="hljs-attr">ofType</span>=<span class="hljs-string">&quot;Student&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;sid&quot;</span>/&gt;</span> <br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;sname&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;tid&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;tid&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">collection</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br></code></pre></div></td></tr></table></figure>


<h3 id="æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†-1"><a href="#æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†-1" class="headerlink" title="æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†"></a>æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†</h3><figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getTeacher2&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;TeacherStudent2&quot;</span>&gt;</span><br>    select * from mybatis.teacher where id = #&#123;tid&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;TeacherStudent2&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Teacher&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">collection</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;students&quot;</span> <span class="hljs-attr">javaType</span>=<span class="hljs-string">&quot;ArrayList&quot;</span> <span class="hljs-attr">ofType</span>=<span class="hljs-string">&quot;Student&quot;</span> <span class="hljs-attr">select</span>=<span class="hljs-string">&quot;getStudentByTeacherId&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;id&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getStudentByTeacherId&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;Student&quot;</span>&gt;</span><br>    select * from mybatis.student where tid = #&#123;tid&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></div></td></tr></table></figure>


<h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><ol>
<li>å…³è” - association   ã€å¤šå¯¹ä¸€ã€‘</li>
<li>é›†åˆ - collection   ã€ä¸€å¯¹å¤šã€‘</li>
<li>javaType    &amp;   ofType<ol>
<li>JavaType  ç”¨æ¥æŒ‡å®šå®ä½“ç±»ä¸­å±æ€§çš„ç±»å‹</li>
<li>ofType  ç”¨æ¥æŒ‡å®šæ˜ å°„åˆ°Listæˆ–è€…é›†åˆä¸­çš„ pojoç±»å‹ï¼Œæ³›å‹ä¸­çš„çº¦æŸç±»å‹ï¼</li>
</ol>
</li>
</ol>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>ä¿è¯SQLçš„å¯è¯»æ€§ï¼Œå°½é‡ä¿è¯é€šä¿—æ˜“æ‡‚</li>
<li>æ³¨æ„ä¸€å¯¹å¤šå’Œå¤šå¯¹ä¸€ä¸­ï¼Œå±æ€§åå’Œå­—æ®µçš„é—®é¢˜ï¼</li>
<li>å¦‚æœé—®é¢˜ä¸å¥½æ’æŸ¥é”™è¯¯ï¼Œå¯ä»¥ä½¿ç”¨æ—¥å¿— ï¼Œ å»ºè®®ä½¿ç”¨ Log4j</li>
</ul>
<p><strong>æ…¢SQL       1s        1000s</strong>      </p>
<p>é¢è¯•é«˜é¢‘</p>
<ul>
<li>Mysqlå¼•æ“</li>
<li>InnoDBåº•å±‚åŸç†</li>
<li>ç´¢å¼•</li>
<li>ç´¢å¼•ä¼˜åŒ–ï¼</li>
</ul>
<h2 id="12ã€åŠ¨æ€-SQL"><a href="#12ã€åŠ¨æ€-SQL" class="headerlink" title="12ã€åŠ¨æ€ SQL"></a>12ã€åŠ¨æ€ SQL</h2><p>==<strong>ä»€ä¹ˆæ˜¯åŠ¨æ€SQLï¼šåŠ¨æ€SQLå°±æ˜¯æŒ‡æ ¹æ®ä¸åŒçš„æ¡ä»¶ç”Ÿæˆä¸åŒçš„SQLè¯­å¥</strong>==</p>
<p>åˆ©ç”¨åŠ¨æ€ SQL è¿™ä¸€ç‰¹æ€§å¯ä»¥å½»åº•æ‘†è„±è¿™ç§ç—›è‹¦ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml">åŠ¨æ€ SQL å…ƒç´ å’Œ JSTL æˆ–åŸºäºç±»ä¼¼ XML çš„æ–‡æœ¬å¤„ç†å™¨ç›¸ä¼¼ã€‚åœ¨ MyBatis ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œæœ‰å¾ˆå¤šå…ƒç´ éœ€è¦èŠ±æ—¶é—´äº†è§£ã€‚MyBatis 3 å¤§å¤§ç²¾ç®€äº†å…ƒç´ ç§ç±»ï¼Œç°åœ¨åªéœ€å­¦ä¹ åŸæ¥ä¸€åŠçš„å…ƒç´ ä¾¿å¯ã€‚MyBatis é‡‡ç”¨åŠŸèƒ½å¼ºå¤§çš„åŸºäº OGNL çš„è¡¨è¾¾å¼æ¥æ·˜æ±°å…¶å®ƒå¤§éƒ¨åˆ†å…ƒç´ ã€‚<br><br>if<br>choose (when, otherwise)<br>trim (where, set)<br>foreach<br></code></pre></div></td></tr></table></figure>


<h3 id="æ­å»ºç¯å¢ƒ"><a href="#æ­å»ºç¯å¢ƒ" class="headerlink" title="æ­å»ºç¯å¢ƒ"></a>æ­å»ºç¯å¢ƒ</h3><figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `blog` (<br>  `id` <span class="hljs-type">varchar</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;åšå®¢id&#x27;</span>,<br>  `title` <span class="hljs-type">varchar</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;åšå®¢æ ‡é¢˜&#x27;</span>,<br>  `author` <span class="hljs-type">varchar</span>(<span class="hljs-number">30</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;åšå®¢ä½œè€…&#x27;</span>,<br>  `create_time` datetime <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;åˆ›å»ºæ—¶é—´&#x27;</span>,<br>  `views` <span class="hljs-type">int</span>(<span class="hljs-number">30</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;æµè§ˆé‡&#x27;</span><br>) ENGINE<span class="hljs-operator">=</span>InnoDB <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8<br><br></code></pre></div></td></tr></table></figure>


<p>åˆ›å»ºä¸€ä¸ªåŸºç¡€å·¥ç¨‹</p>
<ol>
<li><p>å¯¼åŒ…</p>
</li>
<li><p>ç¼–å†™é…ç½®æ–‡ä»¶</p>
</li>
<li><p>ç¼–å†™å®ä½“ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><br><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Blog</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<br>    <span class="hljs-keyword">private</span> String title;<br>    <span class="hljs-keyword">private</span> String author;<br>    <span class="hljs-keyword">private</span> Date createTime;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> views;<br>    <br>    <br>&#125;<br></code></pre></div></td></tr></table></figure></li>
<li><p>ç¼–å†™å®ä½“ç±»å¯¹åº”Mapperæ¥å£ å’Œ Mapper.XMLæ–‡ä»¶</p>
</li>
</ol>
<h3 id="IF"><a href="#IF" class="headerlink" title="IF"></a>IF</h3><figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryBlogIF&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;blog&quot;</span>&gt;</span><br>    select * from mybatis.blog where 1=1<br>    <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;title != null&quot;</span>&gt;</span><br>        and title = #&#123;title&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;author != null&quot;</span>&gt;</span><br>        and author = #&#123;author&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<h3 id="choose-when-otherwise"><a href="#choose-when-otherwise" class="headerlink" title="choose (when, otherwise)"></a>choose (when, otherwise)</h3><figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryBlogChoose&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;blog&quot;</span>&gt;</span><br>    select * from mybatis.blog<br>    <span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">choose</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">when</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;title != null&quot;</span>&gt;</span><br>                title = #&#123;title&#125;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">when</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">when</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;author != null&quot;</span>&gt;</span><br>                and author = #&#123;author&#125;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">when</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">otherwise</span>&gt;</span><br>                and views = #&#123;views&#125;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">otherwise</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">choose</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></div></td></tr></table></figure>


<h3 id="trim-where-set"><a href="#trim-where-set" class="headerlink" title="trim (where,set)"></a>trim (where,set)</h3><figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml">select * from mybatis.blog<br><span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;title != null&quot;</span>&gt;</span><br>        title = #&#123;title&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;author != null&quot;</span>&gt;</span><br>        and author = #&#123;author&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">update</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;updateBlog&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span>&gt;</span><br>    update mybatis.blog<br>    <span class="hljs-tag">&lt;<span class="hljs-name">set</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;title != null&quot;</span>&gt;</span><br>            title = #&#123;title&#125;,<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;author != null&quot;</span>&gt;</span><br>            author = #&#123;author&#125;<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">set</span>&gt;</span><br>    where id = #&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">update</span>&gt;</span><br><br></code></pre></div></td></tr></table></figure>
<p>==<strong>æ‰€è°“çš„åŠ¨æ€SQLï¼Œæœ¬è´¨è¿˜æ˜¯SQLè¯­å¥ ï¼Œ åªæ˜¯æˆ‘ä»¬å¯ä»¥åœ¨SQLå±‚é¢ï¼Œå»æ‰§è¡Œä¸€ä¸ªé€»è¾‘ä»£ç </strong>==</p>
<p>if</p>
<p>where ï¼Œ set  ï¼Œ choose ï¼Œwhen</p>
<h3 id="SQLç‰‡æ®µ"><a href="#SQLç‰‡æ®µ" class="headerlink" title="SQLç‰‡æ®µ"></a>SQLç‰‡æ®µ</h3><p>æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå°†ä¸€äº›åŠŸèƒ½çš„éƒ¨åˆ†æŠ½å–å‡ºæ¥ï¼Œæ–¹ä¾¿å¤ç”¨ï¼</p>
<ol>
<li><p>ä½¿ç”¨SQLæ ‡ç­¾æŠ½å–å…¬å…±çš„éƒ¨åˆ†</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">sql</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;if-title-author&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;title != null&quot;</span>&gt;</span><br>        title = #&#123;title&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;author != null&quot;</span>&gt;</span><br>        and author = #&#123;author&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">sql</span>&gt;</span><br></code></pre></div></td></tr></table></figure></li>
<li><p>åœ¨éœ€è¦ä½¿ç”¨çš„åœ°æ–¹ä½¿ç”¨Includeæ ‡ç­¾å¼•ç”¨å³å¯</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryBlogIF&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;blog&quot;</span>&gt;</span><br>    select * from mybatis.blog<br>    <span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">include</span> <span class="hljs-attr">refid</span>=<span class="hljs-string">&quot;if-title-author&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></div></td></tr></table></figure>


</li>
</ol>
<p>æ³¨æ„äº‹é¡¹ï¼š</p>
<ul>
<li>æœ€å¥½åŸºäºå•è¡¨æ¥å®šä¹‰SQLç‰‡æ®µï¼</li>
<li>ä¸è¦å­˜åœ¨whereæ ‡ç­¾</li>
</ul>
<h3 id="Foreach"><a href="#Foreach" class="headerlink" title="Foreach"></a>Foreach</h3><figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">where</span> <span class="hljs-number">1</span><span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-keyword">and</span> <br><br>  <span class="hljs-operator">&lt;</span>foreach item<span class="hljs-operator">=</span>&quot;id&quot; collection<span class="hljs-operator">=</span>&quot;ids&quot;<br>      <span class="hljs-keyword">open</span><span class="hljs-operator">=</span>&quot;(&quot; separator<span class="hljs-operator">=</span>&quot;or&quot; <span class="hljs-keyword">close</span><span class="hljs-operator">=</span>&quot;)&quot;<span class="hljs-operator">&gt;</span><br>        #&#123;id&#125;<br>  <span class="hljs-operator">&lt;</span><span class="hljs-operator">/</span>foreach<span class="hljs-operator">&gt;</span><br><br>(id<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-keyword">or</span> id<span class="hljs-operator">=</span><span class="hljs-number">2</span> <span class="hljs-keyword">or</span> id<span class="hljs-operator">=</span><span class="hljs-number">3</span>)<br><br></code></pre></div></td></tr></table></figure>
<p><a href="https://imgtu.com/i/cADrQO"><img src="https://z3.ax1x.com/2021/03/31/cADrQO.png" alt="cADrQO.png"></a></p>
<p><a href="https://imgtu.com/i/cADyOe"><img src="https://z3.ax1x.com/2021/03/31/cADyOe.png" alt="cADyOe.png"></a></p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">        select * from mybatis.blog where 1=1 and (id=1 or id = 2 or id=3)</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">        æˆ‘ä»¬ç°åœ¨ä¼ é€’ä¸€ä¸ªä¸‡èƒ½çš„map ï¼Œ è¿™mapä¸­å¯ä»¥å­˜åœ¨ä¸€ä¸ªé›†åˆï¼</span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryBlogForeach&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;blog&quot;</span>&gt;</span><br>    select * from mybatis.blog<br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">foreach</span> <span class="hljs-attr">collection</span>=<span class="hljs-string">&quot;ids&quot;</span> <span class="hljs-attr">item</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">open</span>=<span class="hljs-string">&quot;and (&quot;</span> <span class="hljs-attr">close</span>=<span class="hljs-string">&quot;)&quot;</span> <span class="hljs-attr">separator</span>=<span class="hljs-string">&quot;or&quot;</span>&gt;</span><br>            id = #&#123;id&#125;<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">foreach</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br></code></pre></div></td></tr></table></figure>


<p>==åŠ¨æ€SQLå°±æ˜¯åœ¨æ‹¼æ¥SQLè¯­å¥ï¼Œæˆ‘ä»¬åªè¦ä¿è¯SQLçš„æ­£ç¡®æ€§ï¼ŒæŒ‰ç…§SQLçš„æ ¼å¼ï¼Œå»æ’åˆ—ç»„åˆå°±å¯ä»¥äº†==</p>
<p>å»ºè®®ï¼š</p>
<ul>
<li>ç°åœ¨Mysqlä¸­å†™å‡ºå®Œæ•´çš„SQL,å†å¯¹åº”çš„å»ä¿®æ”¹æˆä¸ºæˆ‘ä»¬çš„åŠ¨æ€SQLå®ç°é€šç”¨å³å¯ï¼</li>
</ul>
<h2 id="13ã€ç¼“å­˜-ï¼ˆäº†è§£ï¼‰"><a href="#13ã€ç¼“å­˜-ï¼ˆäº†è§£ï¼‰" class="headerlink" title="13ã€ç¼“å­˜ ï¼ˆäº†è§£ï¼‰"></a>13ã€ç¼“å­˜ ï¼ˆäº†è§£ï¼‰</h2><h3 id="13-1ã€ç®€ä»‹"><a href="#13-1ã€ç®€ä»‹" class="headerlink" title="13.1ã€ç®€ä»‹"></a>13.1ã€ç®€ä»‹</h3><figure class="highlight ada"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs ada">æŸ¥è¯¢  ï¼š  è¿æ¥æ•°æ®åº“ ï¼Œè€—èµ„æºï¼<br>	ä¸€æ¬¡æŸ¥è¯¢çš„ç»“æœï¼Œç»™ä»–æš‚å­˜åœ¨ä¸€ä¸ªå¯ä»¥ç›´æ¥å–åˆ°çš„åœ°æ–¹ï¼<span class="hljs-comment">--&gt; å†…å­˜ ï¼š ç¼“å­˜</span><br>	<br>æˆ‘ä»¬å†æ¬¡æŸ¥è¯¢ç›¸åŒæ•°æ®çš„æ—¶å€™ï¼Œç›´æ¥èµ°ç¼“å­˜ï¼Œå°±ä¸ç”¨èµ°æ•°æ®åº“äº†<br></code></pre></div></td></tr></table></figure>


<ol>
<li><p>ä»€ä¹ˆæ˜¯ç¼“å­˜ [ Cache ]ï¼Ÿ</p>
<ul>
<li>å­˜åœ¨å†…å­˜ä¸­çš„ä¸´æ—¶æ•°æ®ã€‚</li>
<li>å°†ç”¨æˆ·ç»å¸¸æŸ¥è¯¢çš„æ•°æ®æ”¾åœ¨ç¼“å­˜ï¼ˆå†…å­˜ï¼‰ä¸­ï¼Œç”¨æˆ·å»æŸ¥è¯¢æ•°æ®å°±ä¸ç”¨ä»ç£ç›˜ä¸Š(å…³ç³»å‹æ•°æ®åº“æ•°æ®æ–‡ä»¶)æŸ¥è¯¢ï¼Œä»ç¼“å­˜ä¸­æŸ¥è¯¢ï¼Œä»è€Œæé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œè§£å†³äº†é«˜å¹¶å‘ç³»ç»Ÿçš„æ€§èƒ½é—®é¢˜ã€‚</li>
</ul>
</li>
<li><p>ä¸ºä»€ä¹ˆä½¿ç”¨ç¼“å­˜ï¼Ÿ</p>
<ul>
<li>å‡å°‘å’Œæ•°æ®åº“çš„äº¤äº’æ¬¡æ•°ï¼Œå‡å°‘ç³»ç»Ÿå¼€é”€ï¼Œæé«˜ç³»ç»Ÿæ•ˆç‡ã€‚</li>
</ul>
</li>
<li><p>ä»€ä¹ˆæ ·çš„æ•°æ®èƒ½ä½¿ç”¨ç¼“å­˜ï¼Ÿ</p>
<ul>
<li>ç»å¸¸æŸ¥è¯¢å¹¶ä¸”ä¸ç»å¸¸æ”¹å˜çš„æ•°æ®ã€‚ã€å¯ä»¥ä½¿ç”¨ç¼“å­˜ã€‘</li>
</ul>
</li>
</ol>
<h3 id="13-2ã€Mybatisç¼“å­˜"><a href="#13-2ã€Mybatisç¼“å­˜" class="headerlink" title="13.2ã€Mybatisç¼“å­˜"></a>13.2ã€Mybatisç¼“å­˜</h3><ul>
<li><p>MyBatisåŒ…å«ä¸€ä¸ªéå¸¸å¼ºå¤§çš„æŸ¥è¯¢ç¼“å­˜ç‰¹æ€§ï¼Œå®ƒå¯ä»¥éå¸¸æ–¹ä¾¿åœ°å®šåˆ¶å’Œé…ç½®ç¼“å­˜ã€‚ç¼“å­˜å¯ä»¥æå¤§çš„æå‡æŸ¥è¯¢æ•ˆç‡ã€‚</p>
</li>
<li><p>MyBatisç³»ç»Ÿä¸­é»˜è®¤å®šä¹‰äº†ä¸¤çº§ç¼“å­˜ï¼š<strong>ä¸€çº§ç¼“å­˜</strong>å’Œ<strong>äºŒçº§ç¼“å­˜</strong></p>
<ul>
<li><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œåªæœ‰ä¸€çº§ç¼“å­˜å¼€å¯ã€‚ï¼ˆSqlSessionçº§åˆ«çš„ç¼“å­˜ï¼Œä¹Ÿç§°ä¸ºæœ¬åœ°ç¼“å­˜ï¼‰</p>
</li>
<li><p>äºŒçº§ç¼“å­˜éœ€è¦æ‰‹åŠ¨å¼€å¯å’Œé…ç½®ï¼Œä»–æ˜¯åŸºäºnamespaceçº§åˆ«çš„ç¼“å­˜ã€‚</p>
</li>
<li><p>ä¸ºäº†æé«˜æ‰©å±•æ€§ï¼ŒMyBatiså®šä¹‰äº†ç¼“å­˜æ¥å£Cacheã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å®ç°Cacheæ¥å£æ¥è‡ªå®šä¹‰äºŒçº§ç¼“å­˜</p>
</li>
</ul>
</li>
</ul>
<h3 id="13-3ã€ä¸€çº§ç¼“å­˜"><a href="#13-3ã€ä¸€çº§ç¼“å­˜" class="headerlink" title="13.3ã€ä¸€çº§ç¼“å­˜"></a>13.3ã€ä¸€çº§ç¼“å­˜</h3><ul>
<li>ä¸€çº§ç¼“å­˜ä¹Ÿå«æœ¬åœ°ç¼“å­˜ï¼š  SqlSession<ul>
<li>ä¸æ•°æ®åº“åŒä¸€æ¬¡ä¼šè¯æœŸé—´æŸ¥è¯¢åˆ°çš„æ•°æ®ä¼šæ”¾åœ¨æœ¬åœ°ç¼“å­˜ä¸­ã€‚</li>
<li>ä»¥åå¦‚æœéœ€è¦è·å–ç›¸åŒçš„æ•°æ®ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­æ‹¿ï¼Œæ²¡å¿…é¡»å†å»æŸ¥è¯¢æ•°æ®åº“ï¼›</li>
</ul>
</li>
</ul>
<p>æµ‹è¯•æ­¥éª¤ï¼š</p>
<ol>
<li>å¼€å¯æ—¥å¿—ï¼</li>
<li>æµ‹è¯•åœ¨ä¸€ä¸ªSesionä¸­æŸ¥è¯¢ä¸¤æ¬¡ç›¸åŒè®°å½•</li>
<li>æŸ¥çœ‹æ—¥å¿—è¾“å‡º</li>
</ol>
<p><a href="https://imgtu.com/i/cAD2TA"><img src="https://z3.ax1x.com/2021/03/31/cAD2TA.png" alt="cAD2TA.png"></a></p>
<p>ç¼“å­˜å¤±æ•ˆçš„æƒ…å†µï¼š</p>
<ol>
<li><p>æŸ¥è¯¢ä¸åŒçš„ä¸œè¥¿</p>
</li>
<li><p>å¢åˆ æ”¹æ“ä½œï¼Œå¯èƒ½ä¼šæ”¹å˜åŸæ¥çš„æ•°æ®ï¼Œæ‰€ä»¥å¿…å®šä¼šåˆ·æ–°ç¼“å­˜ï¼</p>
<p><a href="https://imgtu.com/i/cADTOg"><img src="https://z3.ax1x.com/2021/03/31/cADTOg.png" alt="cADTOg.png"></a></p>
</li>
</ol>
<ol start="3">
<li><p>æŸ¥è¯¢ä¸åŒçš„Mapper.xml</p>
</li>
<li><p>æ‰‹åŠ¨æ¸…ç†ç¼“å­˜ï¼</p>
<p><a href="https://imgtu.com/i/cADHmQ"><img src="https://z3.ax1x.com/2021/03/31/cADHmQ.png" alt="cADHmQ.png"></a></p>
</li>
</ol>
<p>å°ç»“ï¼šä¸€çº§ç¼“å­˜é»˜è®¤æ˜¯å¼€å¯çš„ï¼Œåªåœ¨ä¸€æ¬¡SqlSessionä¸­æœ‰æ•ˆï¼Œä¹Ÿå°±æ˜¯æ‹¿åˆ°è¿æ¥åˆ°å…³é—­è¿æ¥è¿™ä¸ªåŒºé—´æ®µï¼</p>
<p>ä¸€çº§ç¼“å­˜å°±æ˜¯ä¸€ä¸ªMapã€‚</p>
<h3 id="13-4ã€äºŒçº§ç¼“å­˜"><a href="#13-4ã€äºŒçº§ç¼“å­˜" class="headerlink" title="13.4ã€äºŒçº§ç¼“å­˜"></a>13.4ã€äºŒçº§ç¼“å­˜</h3><ul>
<li>äºŒçº§ç¼“å­˜ä¹Ÿå«å…¨å±€ç¼“å­˜ï¼Œä¸€çº§ç¼“å­˜ä½œç”¨åŸŸå¤ªä½äº†ï¼Œæ‰€ä»¥è¯ç”Ÿäº†äºŒçº§ç¼“å­˜</li>
<li>åŸºäºnamespaceçº§åˆ«çš„ç¼“å­˜ï¼Œä¸€ä¸ªåç§°ç©ºé—´ï¼Œå¯¹åº”ä¸€ä¸ªäºŒçº§ç¼“å­˜ï¼›</li>
<li>å·¥ä½œæœºåˆ¶<ul>
<li>ä¸€ä¸ªä¼šè¯æŸ¥è¯¢ä¸€æ¡æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®å°±ä¼šè¢«æ”¾åœ¨å½“å‰ä¼šè¯çš„ä¸€çº§ç¼“å­˜ä¸­ï¼›</li>
<li>å¦‚æœå½“å‰ä¼šè¯å…³é—­äº†ï¼Œè¿™ä¸ªä¼šè¯å¯¹åº”çš„ä¸€çº§ç¼“å­˜å°±æ²¡äº†ï¼›ä½†æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ˜¯ï¼Œä¼šè¯å…³é—­äº†ï¼Œä¸€çº§ç¼“å­˜ä¸­çš„æ•°æ®è¢«ä¿å­˜åˆ°äºŒçº§ç¼“å­˜ä¸­ï¼›</li>
<li>æ–°çš„ä¼šè¯æŸ¥è¯¢ä¿¡æ¯ï¼Œå°±å¯ä»¥ä»äºŒçº§ç¼“å­˜ä¸­è·å–å†…å®¹ï¼›</li>
<li>ä¸åŒçš„mapperæŸ¥å‡ºçš„æ•°æ®ä¼šæ”¾åœ¨è‡ªå·±å¯¹åº”çš„ç¼“å­˜ï¼ˆmapï¼‰ä¸­ï¼›</li>
</ul>
</li>
</ul>
<p>æ­¥éª¤ï¼š</p>
<ol>
<li><p>å¼€å¯å…¨å±€ç¼“å­˜</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ˜¾ç¤ºçš„å¼€å¯å…¨å±€ç¼“å­˜--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;cacheEnabled&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br></code></pre></div></td></tr></table></figure></li>
<li><p>åœ¨è¦ä½¿ç”¨äºŒçº§ç¼“å­˜çš„Mapperä¸­å¼€å¯</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--åœ¨å½“å‰Mapper.xmlä¸­ä½¿ç”¨äºŒçº§ç¼“å­˜--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">cache</span>/&gt;</span><br></code></pre></div></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å‚æ•°</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--åœ¨å½“å‰Mapper.xmlä¸­ä½¿ç”¨äºŒçº§ç¼“å­˜--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">cache</span>   <span class="hljs-attr">eviction</span>=<span class="hljs-string">&quot;FIFO&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">flushInterval</span>=<span class="hljs-string">&quot;60000&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;512&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">readOnly</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br></code></pre></div></td></tr></table></figure></li>
<li><p>æµ‹è¯•</p>
<ol>
<li><p>é—®é¢˜:æˆ‘ä»¬éœ€è¦å°†å®ä½“ç±»åºåˆ—åŒ–ï¼å¦åˆ™å°±ä¼šæŠ¥é”™ï¼</p>
<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus">Caused by: java<span class="hljs-selector-class">.io</span><span class="hljs-selector-class">.NotSerializableException</span>: com<span class="hljs-selector-class">.kuang</span><span class="hljs-selector-class">.pojo</span>.User<br></code></pre></div></td></tr></table></figure>


</li>
</ol>
</li>
</ol>
<p>å°ç»“ï¼š</p>
<ul>
<li>åªè¦å¼€å¯äº†äºŒçº§ç¼“å­˜ï¼Œåœ¨åŒä¸€ä¸ªMapperä¸‹å°±æœ‰æ•ˆ</li>
<li>æ‰€æœ‰çš„æ•°æ®éƒ½ä¼šå…ˆæ”¾åœ¨ä¸€çº§ç¼“å­˜ä¸­ï¼›</li>
<li>åªæœ‰å½“ä¼šè¯æäº¤ï¼Œæˆ–è€…å…³é—­çš„æ—¶å€™ï¼Œæ‰ä¼šæäº¤åˆ°äºŒçº§ç¼“å†²ä¸­ï¼</li>
</ul>
<h3 id="13-5ã€ç¼“å­˜åŸç†"><a href="#13-5ã€ç¼“å­˜åŸç†" class="headerlink" title="13.5ã€ç¼“å­˜åŸç†"></a>13.5ã€ç¼“å­˜åŸç†</h3><p><a href="https://imgtu.com/i/cArQ7d"><img src="https://z3.ax1x.com/2021/03/31/cArQ7d.png" alt="cArQ7d.png"></a></p>
<h3 id="13-6ã€è‡ªå®šä¹‰ç¼“å­˜-ehcache"><a href="#13-6ã€è‡ªå®šä¹‰ç¼“å­˜-ehcache" class="headerlink" title="13.6ã€è‡ªå®šä¹‰ç¼“å­˜-ehcache"></a>13.6ã€è‡ªå®šä¹‰ç¼“å­˜-ehcache</h3><figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml">Ehcacheæ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„å¼€æºJavaåˆ†å¸ƒå¼ç¼“å­˜ã€‚ä¸»è¦é¢å‘é€šç”¨ç¼“å­˜<br></code></pre></div></td></tr></table></figure>
<p>è¦åœ¨ç¨‹åºä¸­ä½¿ç”¨ehcacheï¼Œå…ˆè¦å¯¼åŒ…ï¼</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis.caches/mybatis-ehcache --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.caches<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-ehcache<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<p>åœ¨mapperä¸­æŒ‡å®šä½¿ç”¨æˆ‘ä»¬çš„ehcacheç¼“å­˜å®ç°ï¼</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--åœ¨å½“å‰Mapper.xmlä¸­ä½¿ç”¨äºŒçº§ç¼“å­˜--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">cache</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;org.mybatis.caches.ehcache.EhcacheCache&quot;</span>/&gt;</span><br></code></pre></div></td></tr></table></figure>
<p>ehcache.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">ehcache</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xsi:noNamespaceSchemaLocation</span>=<span class="hljs-string">&quot;http://ehcache.org/ehcache.xsd&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">updateCheck</span>=<span class="hljs-string">&quot;false&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">       diskStoreï¼šä¸ºç¼“å­˜è·¯å¾„ï¼Œehcacheåˆ†ä¸ºå†…å­˜å’Œç£ç›˜ä¸¤çº§ï¼Œæ­¤å±æ€§å®šä¹‰ç£ç›˜çš„ç¼“å­˜ä½ç½®ã€‚å‚æ•°è§£é‡Šå¦‚ä¸‹ï¼š</span><br><span class="hljs-comment">       user.home â€“ ç”¨æˆ·ä¸»ç›®å½•</span><br><span class="hljs-comment">       user.dir  â€“ ç”¨æˆ·å½“å‰å·¥ä½œç›®å½•</span><br><span class="hljs-comment">       java.io.tmpdir â€“ é»˜è®¤ä¸´æ—¶æ–‡ä»¶è·¯å¾„</span><br><span class="hljs-comment">     --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">diskStore</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;./tmpdir/Tmp_EhCache&quot;</span>/&gt;</span><br>    <br>    &lt;defaultCache<br>            eternal=&quot;false&quot;<br>            maxElementsInMemory=&quot;10000&quot;<br>            overflowToDisk=&quot;false&quot;<br>            diskPersistent=&quot;false&quot;<br>            timeToIdleSeconds=&quot;1800&quot;<br>            timeToLiveSeconds=&quot;259200&quot;<br>            memoryStoreEvictionPolicy=&quot;LRU&quot;/&gt;<br> <br>    &lt;cache<br>            name=&quot;cloud_user&quot;<br>            eternal=&quot;false&quot;<br>            maxElementsInMemory=&quot;5000&quot;<br>            overflowToDisk=&quot;false&quot;<br>            diskPersistent=&quot;false&quot;<br>            timeToIdleSeconds=&quot;1800&quot;<br>            timeToLiveSeconds=&quot;1800&quot;<br>            memoryStoreEvictionPolicy=&quot;LRU&quot;/&gt;<br>    <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">       defaultCacheï¼šé»˜è®¤ç¼“å­˜ç­–ç•¥ï¼Œå½“ehcacheæ‰¾ä¸åˆ°å®šä¹‰çš„ç¼“å­˜æ—¶ï¼Œåˆ™ä½¿ç”¨è¿™ä¸ªç¼“å­˜ç­–ç•¥ã€‚åªèƒ½å®šä¹‰ä¸€ä¸ªã€‚</span><br><span class="hljs-comment">     --&gt;</span><br>    <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">      name:ç¼“å­˜åç§°ã€‚</span><br><span class="hljs-comment">      maxElementsInMemory:ç¼“å­˜æœ€å¤§æ•°ç›®</span><br><span class="hljs-comment">      maxElementsOnDiskï¼šç¡¬ç›˜æœ€å¤§ç¼“å­˜ä¸ªæ•°ã€‚</span><br><span class="hljs-comment">      eternal:å¯¹è±¡æ˜¯å¦æ°¸ä¹…æœ‰æ•ˆï¼Œä¸€ä½†è®¾ç½®äº†ï¼Œtimeoutå°†ä¸èµ·ä½œç”¨ã€‚</span><br><span class="hljs-comment">      overflowToDisk:æ˜¯å¦ä¿å­˜åˆ°ç£ç›˜ï¼Œå½“ç³»ç»Ÿå½“æœºæ—¶</span><br><span class="hljs-comment">      timeToIdleSeconds:è®¾ç½®å¯¹è±¡åœ¨å¤±æ•ˆå‰çš„å…è®¸é—²ç½®æ—¶é—´ï¼ˆå•ä½ï¼šç§’ï¼‰ã€‚ä»…å½“eternal=falseå¯¹è±¡ä¸æ˜¯æ°¸ä¹…æœ‰æ•ˆæ—¶ä½¿ç”¨ï¼Œå¯é€‰å±æ€§ï¼Œé»˜è®¤å€¼æ˜¯0ï¼Œä¹Ÿå°±æ˜¯å¯é—²ç½®æ—¶é—´æ— ç©·å¤§ã€‚</span><br><span class="hljs-comment">      timeToLiveSeconds:è®¾ç½®å¯¹è±¡åœ¨å¤±æ•ˆå‰å…è®¸å­˜æ´»æ—¶é—´ï¼ˆå•ä½ï¼šç§’ï¼‰ã€‚æœ€å¤§æ—¶é—´ä»‹äºåˆ›å»ºæ—¶é—´å’Œå¤±æ•ˆæ—¶é—´ä¹‹é—´ã€‚ä»…å½“eternal=falseå¯¹è±¡ä¸æ˜¯æ°¸ä¹…æœ‰æ•ˆæ—¶ä½¿ç”¨ï¼Œé»˜è®¤æ˜¯0.ï¼Œä¹Ÿå°±æ˜¯å¯¹è±¡å­˜æ´»æ—¶é—´æ— ç©·å¤§ã€‚</span><br><span class="hljs-comment">      diskPersistentï¼šæ˜¯å¦ç¼“å­˜è™šæ‹Ÿæœºé‡å¯æœŸæ•°æ® Whether the disk store persists between restarts of the Virtual Machine. The default value is false.</span><br><span class="hljs-comment">      diskSpoolBufferSizeMBï¼šè¿™ä¸ªå‚æ•°è®¾ç½®DiskStoreï¼ˆç£ç›˜ç¼“å­˜ï¼‰çš„ç¼“å­˜åŒºå¤§å°ã€‚é»˜è®¤æ˜¯30MBã€‚æ¯ä¸ªCacheéƒ½åº”è¯¥æœ‰è‡ªå·±çš„ä¸€ä¸ªç¼“å†²åŒºã€‚</span><br><span class="hljs-comment">      diskExpiryThreadIntervalSecondsï¼šç£ç›˜å¤±æ•ˆçº¿ç¨‹è¿è¡Œæ—¶é—´é—´éš”ï¼Œé»˜è®¤æ˜¯120ç§’ã€‚</span><br><span class="hljs-comment">      memoryStoreEvictionPolicyï¼šå½“è¾¾åˆ°maxElementsInMemoryé™åˆ¶æ—¶ï¼ŒEhcacheå°†ä¼šæ ¹æ®æŒ‡å®šçš„ç­–ç•¥å»æ¸…ç†å†…å­˜ã€‚é»˜è®¤ç­–ç•¥æ˜¯LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ã€‚ä½ å¯ä»¥è®¾ç½®ä¸ºFIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰æˆ–æ˜¯LFUï¼ˆè¾ƒå°‘ä½¿ç”¨ï¼‰ã€‚</span><br><span class="hljs-comment">      clearOnFlushï¼šå†…å­˜æ•°é‡æœ€å¤§æ—¶æ˜¯å¦æ¸…é™¤ã€‚</span><br><span class="hljs-comment">      memoryStoreEvictionPolicy:å¯é€‰ç­–ç•¥æœ‰ï¼šLRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼Œé»˜è®¤ç­–ç•¥ï¼‰ã€FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ã€LFUï¼ˆæœ€å°‘è®¿é—®æ¬¡æ•°ï¼‰ã€‚</span><br><span class="hljs-comment">      FIFOï¼Œfirst in first outï¼Œè¿™ä¸ªæ˜¯å¤§å®¶æœ€ç†Ÿçš„ï¼Œå…ˆè¿›å…ˆå‡ºã€‚</span><br><span class="hljs-comment">      LFUï¼Œ Less Frequently Usedï¼Œå°±æ˜¯ä¸Šé¢ä¾‹å­ä¸­ä½¿ç”¨çš„ç­–ç•¥ï¼Œç›´ç™½ä¸€ç‚¹å°±æ˜¯è®²ä¸€ç›´ä»¥æ¥æœ€å°‘è¢«ä½¿ç”¨çš„ã€‚å¦‚ä¸Šé¢æ‰€è®²ï¼Œç¼“å­˜çš„å…ƒç´ æœ‰ä¸€ä¸ªhitå±æ€§ï¼Œhitå€¼æœ€å°çš„å°†ä¼šè¢«æ¸…å‡ºç¼“å­˜ã€‚</span><br><span class="hljs-comment">      LRUï¼ŒLeast Recently Usedï¼Œæœ€è¿‘æœ€å°‘ä½¿ç”¨çš„ï¼Œç¼“å­˜çš„å…ƒç´ æœ‰ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œå½“ç¼“å­˜å®¹é‡æ»¡äº†ï¼Œè€Œåˆéœ€è¦è…¾å‡ºåœ°æ–¹æ¥ç¼“å­˜æ–°çš„å…ƒç´ çš„æ—¶å€™ï¼Œé‚£ä¹ˆç°æœ‰ç¼“å­˜å…ƒç´ ä¸­æ—¶é—´æˆ³ç¦»å½“å‰æ—¶é—´æœ€è¿œçš„å…ƒç´ å°†è¢«æ¸…å‡ºç¼“å­˜ã€‚</span><br><span class="hljs-comment">   --&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">ehcache</span>&gt;</span><br><br></code></pre></div></td></tr></table></figure>


<p>Redisæ•°æ®åº“æ¥åšç¼“å­˜ï¼  K-V</p>
<blockquote>
<p>Fromï¼š<a href="https://www.kuangstudy.com/">https://www.kuangstudy.com/</a></p>
</blockquote>
]]></content>
      <categories>
        <category>SSM</category>
      </categories>
  </entry>
</search>
